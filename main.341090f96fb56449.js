"use strict";(self.webpackChunkLily_Tweddle_Portfolio=self.webpackChunkLily_Tweddle_Portfolio||[]).push([[792],{76:(ao,Bn,Ve)=>{Ve.d(Bn,{$L:()=>_n,$g:()=>Po,A4:()=>Z,Am:()=>Fo,As:()=>Se,Bd:()=>Q,Cv:()=>Mn,FA:()=>K,Fy:()=>ur,HN:()=>Ui,Hk:()=>re,I9:()=>ei,Im:()=>Fr,K3:()=>vt,KA:()=>jn,Ku:()=>Uo,Ll:()=>Qt,OE:()=>Nn,T9:()=>xt,Uj:()=>lt,XA:()=>pt,ZQ:()=>be,bD:()=>As,cY:()=>ut,dI:()=>Vi,eX:()=>L,g:()=>ne,gR:()=>cn,gz:()=>ti,hp:()=>Ms,jZ:()=>tn,kH:()=>Ts,kj:()=>Yn,lT:()=>Li,lV:()=>An,oD:()=>Vo,od:()=>Lo,qc:()=>Kn,sr:()=>mn,tD:()=>ni,u:()=>Y,vA:()=>ke,yw:()=>Et,zW:()=>F,zw:()=>ye});const b={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ke=function(A,S){if(!A)throw re(S)},re=function(A){return new Error("Firebase Database ("+b.SDK_VERSION+") INTERNAL ASSERT FAILED: "+A)},V=function(A){const S=[];let N=0;for(let q=0;q<A.length;q++){let O=A.charCodeAt(q);O<128?S[N++]=O:O<2048?(S[N++]=O>>6|192,S[N++]=63&O|128):55296==(64512&O)&&q+1<A.length&&56320==(64512&A.charCodeAt(q+1))?(O=65536+((1023&O)<<10)+(1023&A.charCodeAt(++q)),S[N++]=O>>18|240,S[N++]=O>>12&63|128,S[N++]=O>>6&63|128,S[N++]=63&O|128):(S[N++]=O>>12|224,S[N++]=O>>6&63|128,S[N++]=63&O|128)}return S},vt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(A,S){if(!Array.isArray(A))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=S?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let O=0;O<A.length;O+=3){const he=A[O],fe=O+1<A.length,xe=fe?A[O+1]:0,Dt=O+2<A.length,Ie=Dt?A[O+2]:0;let $=(15&xe)<<2|Ie>>6,Cr=63&Ie;Dt||(Cr=64,fe||($=64)),q.push(N[he>>2],N[(3&he)<<4|xe>>4],N[$],N[Cr])}return q.join("")},encodeString(A,S){return this.HAS_NATIVE_SUPPORT&&!S?btoa(A):this.encodeByteArray(V(A),S)},decodeString(A,S){return this.HAS_NATIVE_SUPPORT&&!S?atob(A):function(A){const S=[];let N=0,q=0;for(;N<A.length;){const O=A[N++];if(O<128)S[q++]=String.fromCharCode(O);else if(O>191&&O<224){const he=A[N++];S[q++]=String.fromCharCode((31&O)<<6|63&he)}else if(O>239&&O<365){const Dt=((7&O)<<18|(63&A[N++])<<12|(63&A[N++])<<6|63&A[N++])-65536;S[q++]=String.fromCharCode(55296+(Dt>>10)),S[q++]=String.fromCharCode(56320+(1023&Dt))}else{const he=A[N++],fe=A[N++];S[q++]=String.fromCharCode((15&O)<<12|(63&he)<<6|63&fe)}}return S.join("")}(this.decodeStringToByteArray(A,S))},decodeStringToByteArray(A,S){this.init_();const N=S?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let O=0;O<A.length;){const he=N[A.charAt(O++)],xe=O<A.length?N[A.charAt(O)]:0;++O;const Ie=O<A.length?N[A.charAt(O)]:64;++O;const We=O<A.length?N[A.charAt(O)]:64;if(++O,null==he||null==xe||null==Ie||null==We)throw new Ce;q.push(he<<2|xe>>4),64!==Ie&&(q.push(xe<<4&240|Ie>>2),64!==We&&q.push(Ie<<6&192|We))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let A=0;A<this.ENCODED_VALS.length;A++)this.byteToCharMap_[A]=this.ENCODED_VALS.charAt(A),this.charToByteMap_[this.byteToCharMap_[A]]=A,this.byteToCharMapWebSafe_[A]=this.ENCODED_VALS_WEBSAFE.charAt(A),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[A]]=A,A>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(A)]=A,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(A)]=A)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jn=function(A){const S=V(A);return vt.encodeByteArray(S,!0)},lt=function(A){return jn(A).replace(/\./g,"")},Y=function(A){try{return vt.decodeString(A,!0)}catch(S){console.error("base64Decode failed: ",S)}return null};function Z(A){return ye(void 0,A)}function ye(A,S){if(!(S instanceof Object))return S;switch(S.constructor){case Date:return new Date(S.getTime());case Object:void 0===A&&(A={});break;case Array:A=[];break;default:return S}for(const N in S)!S.hasOwnProperty(N)||!Ye(N)||(A[N]=ye(A[N],S[N]));return A}function Ye(A){return"__proto__"!==A}const Qe=()=>{try{return function ot(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const A=process.env.__FIREBASE_DEFAULTS__;return A?JSON.parse(A):void 0})()||(()=>{if(typeof document>"u")return;let A;try{A=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const S=A&&Y(A[1]);return S&&JSON.parse(S)})()}catch(A){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${A}`)}},xt=()=>{var A;return null===(A=Qe())||void 0===A?void 0:A.config},pt=A=>{var S;return null===(S=Qe())||void 0===S?void 0:S[`_${A}`]};class ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((S,N)=>{this.resolve=S,this.reject=N})}wrapCallback(S){return(N,q)=>{N?this.reject(N):this.resolve(q),"function"==typeof S&&(this.promise.catch(()=>{}),1===S.length?S(N):S(N,q))}}}function ur(A,S){if(A.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=S||"demo-project",O=A.iat||0,he=A.sub||A.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const fe=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:O,exp:O+3600,auth_time:O,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},A);return[lt(JSON.stringify({alg:"none",type:"JWT"})),lt(JSON.stringify(fe)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function Qt(){var A;const S=null===(A=Qe())||void 0===A?void 0:A.forceEnvironment;if("node"===S)return!0;if("browser"===S)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Q(){return"object"==typeof self&&self.self===self}function mn(){const A="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof A&&void 0!==A.id}function An(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Li(){const A=be();return A.indexOf("MSIE ")>=0||A.indexOf("Trident/")>=0}function Po(){return!0===b.NODE_CLIENT||!0===b.NODE_ADMIN}function F(){try{return"object"==typeof indexedDB}catch{return!1}}function L(){return new Promise((A,S)=>{try{let N=!0;const q="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(q);O.onsuccess=()=>{O.result.close(),N||self.indexedDB.deleteDatabase(q),A(!0)},O.onupgradeneeded=()=>{N=!1},O.onerror=()=>{var he;S((null===(he=O.error)||void 0===he?void 0:he.message)||"")}}catch(N){S(N)}})}class ne extends Error{constructor(S,N,q){super(N),this.code=S,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}}class K{constructor(S,N,q){this.service=S,this.serviceName=N,this.errors=q}create(S,...N){const q=N[0]||{},O=`${this.service}/${S}`,he=this.errors[S],fe=he?function de(A,S){return A.replace(nt,(N,q)=>{const O=S[q];return null!=O?String(O):`<${q}?>`})}(he,q):"Error";return new ne(O,`${this.serviceName}: ${fe} (${O}).`,q)}}const nt=/\{\$([^}]+)}/g;function _n(A){return JSON.parse(A)}function Se(A){return JSON.stringify(A)}const Ze=function(A){let S={},N={},q={},O="";try{const he=A.split(".");S=_n(Y(he[0])||""),N=_n(Y(he[1])||""),O=he[2],q=N.d||{},delete N.d}catch{}return{header:S,claims:N,data:q,signature:O}},Mn=function(A){const N=Ze(A).claims;return!!N&&"object"==typeof N&&N.hasOwnProperty("iat")},Kn=function(A){const S=Ze(A).claims;return"object"==typeof S&&!0===S.admin};function cn(A,S){return Object.prototype.hasOwnProperty.call(A,S)}function Et(A,S){if(Object.prototype.hasOwnProperty.call(A,S))return A[S]}function Fr(A){for(const S in A)if(Object.prototype.hasOwnProperty.call(A,S))return!1;return!0}function Ts(A,S,N){const q={};for(const O in A)Object.prototype.hasOwnProperty.call(A,O)&&(q[O]=S.call(N,A[O],O,A));return q}function As(A,S){if(A===S)return!0;const N=Object.keys(A),q=Object.keys(S);for(const O of N){if(!q.includes(O))return!1;const he=A[O],fe=S[O];if(vr(he)&&vr(fe)){if(!As(he,fe))return!1}else if(he!==fe)return!1}for(const O of q)if(!N.includes(O))return!1;return!0}function vr(A){return null!==A&&"object"==typeof A}function Fo(A){const S=[];for(const[N,q]of Object.entries(A))Array.isArray(q)?q.forEach(O=>{S.push(encodeURIComponent(N)+"="+encodeURIComponent(O))}):S.push(encodeURIComponent(N)+"="+encodeURIComponent(q));return S.length?"&"+S.join("&"):""}function ei(A){const S={};return A.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[O,he]=q.split("=");S[decodeURIComponent(O)]=decodeURIComponent(he)}}),S}function Ms(A){const S=A.indexOf("?");if(!S)return"";const N=A.indexOf("#",S);return A.substring(S,N>0?N:void 0)}class ti{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let S=1;S<this.blockSize;++S)this.pad_[S]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(S,N){N||(N=0);const q=this.W_;if("string"==typeof S)for(let We=0;We<16;We++)q[We]=S.charCodeAt(N)<<24|S.charCodeAt(N+1)<<16|S.charCodeAt(N+2)<<8|S.charCodeAt(N+3),N+=4;else for(let We=0;We<16;We++)q[We]=S[N]<<24|S[N+1]<<16|S[N+2]<<8|S[N+3],N+=4;for(let We=16;We<80;We++){const $=q[We-3]^q[We-8]^q[We-14]^q[We-16];q[We]=4294967295&($<<1|$>>>31)}let Ie,$n,O=this.chain_[0],he=this.chain_[1],fe=this.chain_[2],xe=this.chain_[3],Dt=this.chain_[4];for(let We=0;We<80;We++){We<40?We<20?(Ie=xe^he&(fe^xe),$n=1518500249):(Ie=he^fe^xe,$n=1859775393):We<60?(Ie=he&fe|xe&(he|fe),$n=2400959708):(Ie=he^fe^xe,$n=3395469782);const $=(O<<5|O>>>27)+Ie+Dt+$n+q[We]&4294967295;Dt=xe,xe=fe,fe=4294967295&(he<<30|he>>>2),he=O,O=$}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+he&4294967295,this.chain_[2]=this.chain_[2]+fe&4294967295,this.chain_[3]=this.chain_[3]+xe&4294967295,this.chain_[4]=this.chain_[4]+Dt&4294967295}update(S,N){if(null==S)return;void 0===N&&(N=S.length);const q=N-this.blockSize;let O=0;const he=this.buf_;let fe=this.inbuf_;for(;O<N;){if(0===fe)for(;O<=q;)this.compress_(S,O),O+=this.blockSize;if("string"==typeof S){for(;O<N;)if(he[fe]=S.charCodeAt(O),++fe,++O,fe===this.blockSize){this.compress_(he),fe=0;break}}else for(;O<N;)if(he[fe]=S[O],++fe,++O,fe===this.blockSize){this.compress_(he),fe=0;break}}this.inbuf_=fe,this.total_+=N}digest(){const S=[];let N=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&N,N/=256;this.compress_(this.buf_);let q=0;for(let O=0;O<5;O++)for(let he=24;he>=0;he-=8)S[q]=this.chain_[O]>>he&255,++q;return S}}function ni(A,S){const N=new Lr(A,S);return N.subscribe.bind(N)}class Lr{constructor(S,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{S(this)}).catch(q=>{this.error(q)})}next(S){this.forEachObserver(N=>{N.next(S)})}error(S){this.forEachObserver(N=>{N.error(S)}),this.close(S)}complete(){this.forEachObserver(S=>{S.complete()}),this.close()}subscribe(S,N,q){let O;if(void 0===S&&void 0===N&&void 0===q)throw new Error("Missing Observer.");O=function ri(A,S){if("object"!=typeof A||null===A)return!1;for(const N of S)if(N in A&&"function"==typeof A[N])return!0;return!1}(S,["next","error","complete"])?S:{next:S,error:N,complete:q},void 0===O.next&&(O.next=lo),void 0===O.error&&(O.error=lo),void 0===O.complete&&(O.complete=lo);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),he}unsubscribeOne(S){void 0===this.observers||void 0===this.observers[S]||(delete this.observers[S],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(S){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,S)}sendOne(S,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[S])try{N(this.observers[S])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(S){this.finalized||(this.finalized=!0,void 0!==S&&(this.finalError=S),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lo(){}const Lo=function(A,S,N,q){let O;if(q<S?O="at least "+S:q>N&&(O=0===N?"none":"no more than "+N),O)throw new Error(A+" failed: Was called with "+q+(1===q?" argument.":" arguments.")+" Expects "+O+".")};function Vi(A,S){return`${A} failed: ${S} argument `}function Vo(A,S,N,q){if((!q||N)&&"function"!=typeof N)throw new Error(Vi(A,S)+"must be a valid function.")}function Ui(A,S,N,q){if((!q||N)&&("object"!=typeof N||null===N))throw new Error(Vi(A,S)+"must be a valid context object.")}const Yn=function(A){const S=[];let N=0;for(let q=0;q<A.length;q++){let O=A.charCodeAt(q);if(O>=55296&&O<=56319){const he=O-55296;q++,ke(q<A.length,"Surrogate pair missing trail surrogate."),O=65536+(he<<10)+(A.charCodeAt(q)-56320)}O<128?S[N++]=O:O<2048?(S[N++]=O>>6|192,S[N++]=63&O|128):O<65536?(S[N++]=O>>12|224,S[N++]=O>>6&63|128,S[N++]=63&O|128):(S[N++]=O>>18|240,S[N++]=O>>12&63|128,S[N++]=O>>6&63|128,S[N++]=63&O|128)}return S},Nn=function(A){let S=0;for(let N=0;N<A.length;N++){const q=A.charCodeAt(N);q<128?S++:q<2048?S+=2:q>=55296&&q<=56319?(S+=4,N++):S+=3}return S};function Uo(A){return A&&A._delegate?A._delegate:A}},329:(ao,Bn,Ve)=>{var b=Ve(467);let re=null,Yt=1;const vt=Symbol("SIGNAL");function Ce(e){const t=re;return re=e,t}function ot(e){if((!ur(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Yt)){if(!e.producerMustRecompute(e)&&!Hn(e))return e.dirty=!1,void(e.lastCleanEpoch=Yt);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Yt}}function Hn(e){be(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ot(n),r!==n.version))return!0}return!1}function ut(e,t){if(function tn(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),be(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)ut(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];be(i),i.producerIndexOfThis[r]=t}}function ur(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function be(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let _r=null;function Ae(e){return"function"==typeof e}function Mn(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Kn=Mn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function cn(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Et{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(o){t=o instanceof Kn?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{As(o)}catch(s){t=t??[],s instanceof Kn?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Kn(t)}}add(t){var n;if(t&&t!==this)if(this.closed)As(t);else{if(t instanceof Et){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&cn(n,t)}remove(t){const{_finalizers:n}=this;n&&cn(n,t),t instanceof Et&&t._removeParent(this)}}Et.EMPTY=(()=>{const e=new Et;return e.closed=!0,e})();const Fr=Et.EMPTY;function Ts(e){return e instanceof Et||e&&"closed"in e&&Ae(e.remove)&&Ae(e.add)&&Ae(e.unsubscribe)}function As(e){Ae(e)?e():e.unsubscribe()}const vr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ko={setTimeout(e,t,...n){const{delegate:r}=ko;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ko;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Fo(e){ko.setTimeout(()=>{const{onUnhandledError:t}=vr;if(!t)throw e;t(e)})}function ei(){}const Ms=Lr("C",void 0,void 0);function Lr(e,t,n){return{kind:e,value:t,error:n}}let yr=null;function ri(e){if(vr.useDeprecatedSynchronousErrorHandling){const t=!yr;if(t&&(yr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=yr;if(yr=null,n)throw r}}else e()}class Lo extends Et{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ts(t)&&t.add(this)):this.destination=bl}static create(t,n,r){return new Ui(t,n,r)}next(t){this.isStopped?Ns(function ni(e){return Lr("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ns(function ti(e){return Lr("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ns(Ms,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Vi=Function.prototype.bind;function uo(e,t){return Vi.call(e,t)}class Vo{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Yn(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Yn(r)}else Yn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Yn(n)}}}class Ui extends Lo{constructor(t,n,r){let i;if(super(),Ae(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&vr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&uo(t.next,o),error:t.error&&uo(t.error,o),complete:t.complete&&uo(t.complete,o)}):i=t}this.destination=new Vo(i)}}function Yn(e){vr.useDeprecatedSynchronousErrorHandling?function lo(e){vr.useDeprecatedSynchronousErrorHandling&&yr&&(yr.errorThrown=!0,yr.error=e)}(e):Fo(e)}function Ns(e,t){const{onStoppedNotification:n}=vr;n&&ko.setTimeout(()=>n(e,t))}const bl={closed:!0,next:ei,error:function Nn(e){throw e},complete:ei},co="function"==typeof Symbol&&Symbol.observable||"@@observable";function Rn(e){return e}function Dl(e){return 0===e.length?Rn:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let At=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function A(e){return e&&e instanceof Lo||function Uo(e){return e&&Ae(e.next)&&Ae(e.error)&&Ae(e.complete)}(e)&&Ts(e)}(n)?n:new Ui(n,r,i);return ri(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=xs(r))((i,o)=>{const s=new Ui({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[co](){return this}pipe(...n){return Dl(n)(this)}toPromise(n){return new(n=xs(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function xs(e){var t;return null!==(t=e??vr.Promise)&&void 0!==t?t:Promise}const S=Mn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let N=(()=>{class e extends At{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new q(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new S}next(n){ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Fr:(this.currentObservers=null,o.push(n),new Et(()=>{this.currentObservers=null,cn(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new At;return n.source=this,n}}return e.create=(t,n)=>new q(t,n),e})();class q extends N{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Fr}}class O extends N{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function he(e){return Ae(e?.lift)}function fe(e){return t=>{if(he(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(e,t,n,r,i){return new Dt(e,t,n,r,i)}class Dt extends Lo{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ie(e,t){return fe((n,r)=>{let i=0;n.subscribe(xe(r,o=>{r.next(e.call(t,o,i++))}))})}class $ extends Error{constructor(t,n){super(function Cr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Vr(e){return{toString:e}.toString()}const k="__parameters__";function Te(e,t,n){return Vr(()=>{const r=function ce(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,d,f){const g=l.hasOwnProperty(k)?l[k]:Object.defineProperty(l,k,{value:[]})[k];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const ge=globalThis;function Be(e){for(let t in e)if(e[t]===Be)return t;throw Error("Could not find renamed property on target object.")}function Os(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function dn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(dn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function hh(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Bg=Be({__forward_ref__:Be});function gt(e){return e.__forward_ref__=gt,e.toString=function(){return dn(this())},e}function Ne(e){return ya(e)?e():e}function ya(e){return"function"==typeof e&&e.hasOwnProperty(Bg)&&e.__forward_ref__===gt}function _e(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function wr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Hu(e){return zg(e,Ca)||zg(e,zu)}function zg(e,t){return e.hasOwnProperty(t)?e[t]:null}function $u(e){return e&&(e.hasOwnProperty(gh)||e.hasOwnProperty(Wu))?e[gh]:null}const Ca=Be({\u0275prov:Be}),gh=Be({\u0275inj:Be}),zu=Be({ngInjectableDef:Be}),Wu=Be({ngInjectorDef:Be});class ue{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=_e({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _h(e){return e&&!!e.\u0275providers}const Ps=Be({\u0275cmp:Be}),ks=Be({\u0275dir:Be}),vi=Be({\u0275pipe:Be}),Gu=Be({\u0275mod:Be}),po=Be({\u0275fac:Be}),Er=Be({__NG_ELEMENT_ID__:Be}),Kg=Be({__NG_ENV_ID__:Be});function Fe(e){return"string"==typeof e?e:null==e?"":String(e)}function Nl(e,t){throw new $(-201,!1)}var je=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(je||{});let yh;function Qg(){return yh}function xn(e){const t=yh;return yh=e,t}function mC(e,t,n){const r=Hu(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&je.Optional?null:void 0!==t?t:void Nl()}const Bi={},$o="__NG_DI_FLAG__",Rl="ngTempTokenPath",Jg=/\n/gm,Fs="__source";let wa;function go(e){const t=wa;return wa=e,t}function em(e,t=je.Default){if(void 0===wa)throw new $(-203,!1);return null===wa?mC(e,void 0,t):wa.get(e,t&je.Optional?null:void 0,t)}function le(e,t=je.Default){return(Qg()||em)(Ne(e),t)}function X(e,t=je.Default){return le(e,Ku(t))}function Ku(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function xl(e){const t=[];for(let n=0;n<e.length;n++){const r=Ne(e[n]);if(Array.isArray(r)){if(0===r.length)throw new $(900,!1);let i,o=je.Default;for(let s=0;s<r.length;s++){const a=r[s],l=tm(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(le(i,o))}else t.push(le(r))}return t}function zo(e,t){return e[$o]=t,e.prototype[$o]=t,e}function tm(e){return e[$o]}const Ls=zo(Te("Optional"),8),Vs=zo(Te("SkipSelf"),4);function Wo(e,t){return e.hasOwnProperty(po)?e[po]:null}function Go(e,t){e.forEach(n=>Array.isArray(n)?Go(n,t):t(n))}function Ol(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ea(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function dr(e,t,n){let r=qo(e,t);return r>=0?e[1|r]=n:(r=~r,function Yu(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function bh(e,t){const n=qo(e,t);if(n>=0)return e[1|n]}function qo(e,t){return function Zu(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const ii={},rt=[],mo=new ue(""),Xu=new ue("",-1),Dh=new ue("");class Ia{get(t,n=Bi){if(n===Bi){const r=new Error(`NullInjectorError: No provider for ${dn(t)}!`);throw r.name="NullInjectorError",r}return n}}var Ju=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ju||{}),Hr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Hr||{}),Ot=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ot||{});function Sh(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function ec(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];rm(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function tc(e){return 3===e||4===e||6===e}function rm(e){return 64===e.charCodeAt(0)}function Us(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||im(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function im(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const nc="ng-template";function CC(e,t,n,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==Sh(t[i+1].toLowerCase(),n,0))return!0}else if(Th(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&"string"==typeof(o=t[i]);)if(o.toLowerCase()===n)return!0}return!1}function Th(e){return 4===e.type&&e.value!==nc}function Ah(e,t,n){return t===(4!==e.type||n?e.value:nc)}function wC(e,t,n){let r=4;const i=e.attrs,o=null!==i?function EC(e){for(let t=0;t<e.length;t++)if(tc(e[t]))return t;return e.length}(i):0;let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Ah(e,l,n)||""===l&&1===t.length){if(yi(r))return!1;s=!0}}else if(8&r){if(null===i||!CC(e,i,l,n)){if(yi(r))return!1;s=!0}}else{const d=t[++a],f=Mh(l,i,Th(e),n);if(-1===f){if(yi(r))return!1;s=!0;continue}if(""!==d){let g;if(g=f>o?"":i[f+1].toLowerCase(),2&r&&d!==g){if(yi(r))return!1;s=!0}}}}else{if(!s&&!yi(r)&&!yi(l))return!1;if(s&&yi(l))continue;s=!1,r=l|1&r}}return yi(r)||s}function yi(e){return!(1&e)}function Mh(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Rh(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function om(e,t,n=!1){for(let r=0;r<t.length;r++)if(wC(e,t[r],n))return!0;return!1}function rc(e,t){return e?":not("+t.trim()+")":t}function bC(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!yi(s)&&(t+=rc(o,i),i=""),r=s,o=o||!yi(r);n++}return""!==i&&(t+=rc(o,i)),t}function ji(e){return Vr(()=>{const t=am(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ju.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Hr.Emulated,styles:e.styles||rt,_:null,schemas:e.schemas||null,tView:null,id:""};lm(n);const r=e.dependencies;return n.directiveDefs=ic(r,!1),n.pipeDefs=ic(r,!0),n.id=function CS(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function SC(e){return qe(e)||Ut(e)}function Oh(e){return null!==e}function Ci(e){return Vr(()=>({type:e.type,bootstrap:e.bootstrap||rt,declarations:e.declarations||rt,imports:e.imports||rt,exports:e.exports||rt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function sm(e,t){if(null==e)return ii;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let o,s,a=Ot.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==Ot.None?[r,a]:r,t[o]=s):n[o]=r}return n}function Oe(e){return Vr(()=>{const t=am(e);return lm(t),t})}function Qn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function qe(e){return e[Ps]||null}function Ut(e){return e[ks]||null}function On(e){return e[vi]||null}function Zn(e,t){const n=e[Gu]||null;if(!n&&!0===t)throw new Error(`Type ${dn(e)} does not have '\u0275mod' property.`);return n}function am(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ii,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||rt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sm(e.inputs,t),outputs:sm(e.outputs),debugInfo:null}}function lm(e){e.features?.forEach(t=>t(e))}function ic(e,t){if(!e)return null;const n=t?On:SC;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Oh)}function kh(...e){return{\u0275providers:Fh(0,e),\u0275fromNgModule:!0}}function Fh(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Go(t,s=>{const a=s;Lh(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&um(i,o),n}function um(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];cm(i,o=>{t(o,r)})}}function Lh(e,t,n,r){if(!(e=Ne(e)))return!1;let i=null,o=$u(e);const s=!o&&qe(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=$u(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of l)Lh(d,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let d;r.add(i);try{Go(o.imports,f=>{Lh(f,t,n,r)&&(d||=[],d.push(f))})}finally{}void 0!==d&&um(d,t)}if(!a){const d=Wo(i)||(()=>new i);t({provide:i,useFactory:d,deps:rt},i),t({provide:Dh,useValue:i,multi:!0},i),t({provide:mo,useValue:()=>le(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const d=e;cm(l,f=>{t(f,d)})}}}return i!==e&&void 0!==e.providers}function cm(e,t){for(let n of e)_h(n)&&(n=n.\u0275providers),Array.isArray(n)?cm(n,t):t(n)}const wS=Be({provide:String,useValue:Be});function dm(e){return null!==e&&"object"==typeof e&&wS in e}function $r(e){return"function"==typeof e}const Uh=new ue(""),sc={},AC={};let hm;function ac(){return void 0===hm&&(hm=new Ia),hm}class zr{}class Yo extends zr{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Da(t,s=>this.processProvider(s)),this.records.set(Xu,ba(void 0,this)),i.has("environment")&&this.records.set(zr,ba(void 0,this));const o=this.records.get(Uh);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Dh,rt,je.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=Ce(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ce(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=go(this),r=xn(void 0);try{return t()}finally{go(n),xn(r)}}get(t,n=Bi,r=je.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Kg))return t[Kg](this);r=Ku(r);const o=go(this),s=xn(void 0);try{if(!(r&je.SkipSelf)){let l=this.records.get(t);if(void 0===l){const d=function ES(e){return"function"==typeof e||"object"==typeof e&&e instanceof ue}(t)&&Hu(t);l=d&&this.injectableDefInScope(d)?ba(Fl(t),sc):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&je.Self?ac():this.parent).get(t,n=r&je.Optional&&n===Bi?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Rl]=a[Rl]||[]).unshift(dn(t)),o)throw a;return function nm(e,t,n,r){const i=e[Rl];throw t[Fs]&&i.unshift(t[Fs]),e.message=function vC(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=dn(t);if(Array.isArray(t))i=t.map(dn).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):dn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Jg,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Rl]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{xn(s),go(o)}}resolveInjectorInitializers(){const t=Ce(null),n=go(this),r=xn(void 0);try{const o=this.get(mo,rt,je.Self);for(const s of o)s()}finally{go(n),xn(r),Ce(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(dn(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(t){let n=$r(t=Ne(t))?t:Ne(t&&t.provide);const r=function lc(e){return dm(e)?ba(void 0,e.useValue):ba(Bh(e),sc)}(t);if(!$r(t)&&!0===t.multi){let i=this.records.get(n);i||(i=ba(void 0,sc,!0),i.factory=()=>xl(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=Ce(null);try{return n.value===sc&&(n.value=AC,n.value=n.factory()),"object"==typeof n.value&&n.value&&function RC(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ce(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ne(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Fl(e){const t=Hu(e),n=null!==t?t.factory:Wo(e);if(null!==n)return n;if(e instanceof ue)throw new $(204,!1);if(e instanceof Function)return function MC(e){if(e.length>0)throw new $(204,!1);const n=function ph(e){return e&&(e[Ca]||e[zu])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new $(204,!1)}function Bh(e,t,n){let r;if($r(e)){const i=Ne(e);return Wo(i)||Fl(i)}if(dm(e))r=()=>Ne(e.useValue);else if(function oc(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...xl(e.deps||[]));else if(function TC(e){return!(!e||!e.useExisting)}(e))r=()=>le(Ne(e.useExisting));else{const i=Ne(e&&(e.useClass||e.provide));if(!function NC(e){return!!e.deps}(e))return Wo(i)||Fl(i);r=()=>new i(...xl(e.deps))}return r}function ba(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Da(e,t){for(const n of e)Array.isArray(n)?Da(n,t):n&&_h(n)?Da(n.\u0275providers,t):t(n)}function Qo(e,t){e instanceof Yo&&e.assertNotDestroyed();const r=go(e),i=xn(void 0);try{return t()}finally{go(r),xn(i)}}function _o(){return void 0!==Qg()||null!=function qu(){return wa}()}const St=0,te=1,Ee=2,rn=3,Wr=4,Xn=5,hr=6,Bs=7,Mt=8,zn=9,Hi=10,De=11,Ul=12,gm=13,Ta=14,Jt=15,Bl=16,vo=17,yo=18,jl=19,mm=20,$i=21,hc=22,js=23,Le=25,$h=1,zi=7,Ma=9,en=10;var zh=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(zh||{});function Pn(e){return Array.isArray(e)&&"object"==typeof e[$h]}function Jn(e){return Array.isArray(e)&&!0===e[$h]}function Hl(e){return!!(4&e.flags)}function Hs(e){return e.componentOffset>-1}function Na(e){return!(1&~e.flags)}function Ir(e){return!!e.template}function $l(e){return!!(512&e[Ee])}class Kh{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Dm(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function br(){return Yh}function Yh(e){return e.type.prototype.ngOnChanges&&(e.setInput=VC),Sm}function Sm(){const e=pc(this),t=e?.current;if(t){const n=e.previous;if(n===ii)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function VC(e,t,n,r,i){const o=this.declaredInputs[r],s=pc(e)||function UC(e,t){return e[Tm]=t}(e,{previous:ii,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new Kh(d&&d.currentValue,n,l===ii),Dm(e,t,i,n)}br.ngInherit=!0;const Tm="__ngSimpleChanges__";function pc(e){return e[Tm]||null}const Wi=function(e,t,n){};let Mm=!1;function mt(e){for(;Array.isArray(e);)e=e[St];return e}function zs(e,t){return mt(t[e])}function fr(e,t){return mt(t[e.index])}function xa(e,t){return e.data[t]}function Ws(e,t){return e[t]}function Gr(e,t){const n=t[e];return Pn(n)?n:n[St]}function zl(e){return!(128&~e[Ee])}function Gi(e,t){return null==t?null:e[t]}function xm(e){e[vo]=0}function ef(e){1024&e[Ee]||(e[Ee]|=1024,zl(e)&&Wl(e))}function tf(e){return!!(9216&e[Ee]||e[js]?.dirty)}function _c(e){e[Hi].changeDetectionScheduler?.notify(1),tf(e)?Wl(e):64&e[Ee]&&(function Xh(){return Mm}()?(e[Ee]|=1024,Wl(e)):e[Hi].changeDetectionScheduler?.notify())}function Wl(e){e[Hi].changeDetectionScheduler?.notify();let t=qs(e);for(;null!==t&&!(8192&t[Ee])&&(t[Ee]|=8192,zl(t));)t=qs(t)}function Gs(e,t){if(!(256&~e[Ee]))throw new $(911,!1);null===e[$i]&&(e[$i]=[]),e[$i].push(t)}function qs(e){const t=e[rn];return Jn(t)?t[rn]:t}const Pe={lFrame:Vm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vc(){return Pe.bindingsEnabled}function j(){return Pe.lFrame.lView}function Je(){return Pe.lFrame.tView}function er(e){return Pe.lFrame.contextLView=e,e[Mt]}function tr(e){return Pe.lFrame.contextLView=null,e}function yt(){let e=yc();for(;null!==e&&64===e.type;)e=e.parent;return e}function yc(){return Pe.lFrame.currentTNode}function qi(e,t){const n=Pe.lFrame;n.currentTNode=e,n.isParent=t}function Gl(){return Pe.lFrame.isParent}function rf(){Pe.lFrame.isParent=!1}function pr(){const e=Pe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function oi(){return Pe.lFrame.bindingIndex++}function YC(e,t){const n=Pe.lFrame;n.bindingIndex=n.bindingRootIndex=e,af(t)}function af(e){Pe.lFrame.currentDirectiveIndex=e}function uf(){return Pe.lFrame.currentQueryIndex}function ql(e){Pe.lFrame.currentQueryIndex=e}function ZC(e){const t=e[te];return 2===t.type?t.declTNode:1===t.type?e[Xn]:null}function XC(e,t,n){if(n&je.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&je.Host||(i=ZC(o),null===i||(o=o[Ta],10&i.type))););if(null===i)return!1;t=i,e=o}const r=Pe.lFrame=es();return r.currentTNode=t,r.lView=e,!0}function cf(e){const t=es(),n=e[te];Pe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function es(){const e=Pe.lFrame,t=null===e?null:e.child;return null===t?Vm(e):t}function Vm(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Um(){const e=Pe.lFrame;return Pe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ec=Um;function df(){const e=Um();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function nr(){return Pe.lFrame.selectedIndex}function Ys(e){Pe.lFrame.selectedIndex=e}function It(){const e=Pe.lFrame;return xa(e.tView,e.selectedIndex)}let jm=!0;function Kl(){return jm}function Ki(e){jm=e}function Pa(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),d&&((e.viewHooks??=[]).push(n,d),(e.viewCheckHooks??=[]).push(n,d)),null!=f&&(e.destroyHooks??=[]).push(n,f)}}function Ic(e,t,n){Dc(e,t,3,n)}function bc(e,t,n,r){(3&e[Ee])===n&&Dc(e,t,n,r)}function Yl(e,t){let n=e[Ee];(3&n)===t&&(n&=16383,n+=1,e[Ee]=n)}function Dc(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[vo]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[vo]+=65536),(a<o||-1==o)&&(nw(e,n,t,l),e[vo]=(4294901760&e[vo])+l+2),l++}function $m(e,t){Wi(4,e,t);const n=Ce(null);try{t.call(e)}finally{Ce(n),Wi(5,e,t)}}function nw(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[Ee]>>14<e[vo]>>16&&(3&e[Ee])===t&&(e[Ee]+=16384,$m(a,o)):$m(a,o)}const Co=-1;class Ql{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Qs(e){return e!==Co}function Zl(e){return 32767&e}function Xl(e,t){let n=function Wm(e){return e>>16}(e),r=t;for(;n>0;)r=r[Ta],n--;return r}let gf=!0;function Sc(e){const t=gf;return gf=e,t}const mf=255,Tc=5;let _f=0;const wi={};function ka(e,t){const n=Dr(e,t);if(-1!==n)return n;const r=t[te];r.firstCreatePass&&(e.injectorIndex=t.length,vf(r.data,e),vf(t,null),vf(r.blueprint,null));const i=ts(e,t),o=e.injectorIndex;if(Qs(i)){const s=Zl(i),a=Xl(i,t),l=a[te].data;for(let d=0;d<8;d++)t[o+d]=a[s+d]|l[s+d]}return t[o+8]=i,o}function vf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Dr(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ts(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=wf(i),null===r)return Co;if(n++,i=i[Ta],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Co}function Ac(e,t,n){!function sw(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Er)&&(r=n[Er]),null==r&&(r=n[Er]=_f++);const i=r&mf;t.data[e+(i>>Tc)]|=1<<i}(e,t,n)}function Mc(e,t,n){if(n&je.Optional||void 0!==e)return e;Nl()}function Nc(e,t,n,r){if(n&je.Optional&&void 0===r&&(r=null),!(n&(je.Self|je.Host))){const i=e[zn],o=xn(void 0);try{return i?i.get(t,r,n&je.Optional):mC(t,r,n&je.Optional)}finally{xn(o)}}return Mc(r,0,n)}function Gm(e,t,n,r=je.Default,i){if(null!==e){if(2048&t[Ee]&&!(r&je.Self)){const s=function Jl(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[Ee]&&!(512&s[Ee]);){const a=yf(o,s,n,r|je.Self,wi);if(a!==wi)return a;let l=o.parent;if(!l){const d=s[mm];if(d){const f=d.get(n,wi,r);if(f!==wi)return f}l=wf(s),s=s[Ta]}o=l}return i}(e,t,n,r,wi);if(s!==wi)return s}const o=yf(e,t,n,r,wi);if(o!==wi)return o}return Nc(t,n,r,i)}function yf(e,t,n,r,i){const o=function uw(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Er)?e[Er]:void 0;return"number"==typeof t?t>=0?t&mf:Cf:t}(n);if("function"==typeof o){if(!XC(t,e,r))return r&je.Host?Mc(i,0,r):Nc(t,n,r,i);try{let s;if(s=o(r),null!=s||r&je.Optional)return s;Nl()}finally{Ec()}}else if("number"==typeof o){let s=null,a=Dr(e,t),l=Co,d=r&je.Host?t[Jt][Xn]:null;for((-1===a||r&je.SkipSelf)&&(l=-1===a?ts(e,t):t[a+8],l!==Co&&Km(r,!1)?(s=t[te],a=Zl(l),t=Xl(l,t)):a=-1);-1!==a;){const f=t[te];if(qm(o,a,f.data)){const g=lw(a,t,n,s,r,d);if(g!==wi)return g}l=t[a+8],l!==Co&&Km(r,t[te].data[a+8]===d)&&qm(o,a,t)?(s=f,a=Zl(l),t=Xl(l,t)):a=-1}}return i}function lw(e,t,n,r,i,o){const s=t[te],a=s.data[e+8],f=Ei(a,s,n,null==r?Hs(a)&&gf:r!=s&&!!(3&a.type),i&je.Host&&o===a);return null!==f?ns(t,s,f,a):wi}function Ei(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,f=o>>20,m=i?a+f:e.directiveEnd;for(let v=r?a:a+f;v<m;v++){const C=s[v];if(v<l&&n===C||v>=l&&C.type===n)return v}if(i){const v=s[l];if(v&&Ir(v)&&v.type===n)return l}return null}function ns(e,t,n,r){let i=e[n];const o=t.data;if(function rw(e){return e instanceof Ql}(i)){const s=i;s.resolving&&function vh(e,t){throw t&&t.join(" > "),new $(-200,e)}(function ct(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Fe(e)}(o[n]));const a=Sc(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?xn(s.injectImpl):null;XC(e,r,je.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Hm(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Yh(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==d&&xn(d),Sc(a),s.resolving=!1,Ec()}}return i}function qm(e,t,n){return!!(n[t+(e>>Tc)]&1<<e)}function Km(e,t){return!(e&je.Self||e&je.Host&&t)}class hn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Gm(this._tNode,this._lView,t,Ku(r),n)}}function Cf(){return new hn(yt(),j())}function kn(e){return Vr(()=>{const t=e.prototype.constructor,n=t[po]||Ii(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[po]||Ii(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ii(e){return ya(e)?()=>{const t=Ii(Ne(e));return t&&t()}:Wo(e)}function wf(e){const t=e[te],n=t.type;return 2===n?t.declTNode:1===n?e[Xn]:null}function H(e,t=null,n=null,r){const i=ae(e,t,n,r);return i.resolveInjectorInitializers(),i}function ae(e,t=null,n=null,r,i=new Set){const o=[n||rt,kh(e)];return r=r||("object"==typeof e?void 0:dn(e)),new Yo(o,t||ac(),r||null,i)}let oe=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Bi;static#t=this.NULL=new Ia;static create(n,r){if(Array.isArray(n))return H({name:""},r,n,"");{const i=n.name??"";return H({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=_e({token:e,providedIn:"any",factory:()=>le(Xu)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function La(e){return e.ngOriginalError}class bi{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&La(t);for(;n&&La(n);)n=La(n);return n||null}}const Oc=new ue("",{providedIn:"root",factory:()=>X(bi).handleError.bind(void 0)});let Xs=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=If;static#t=this.__NG_ENV_ID__=n=>n}return e})();class Qm extends Xs{constructor(t){super(),this._lView=t}onDestroy(t){return Gs(this._lView,t),()=>function nf(e,t){if(null===e[$i])return;const n=e[$i].indexOf(t);-1!==n&&e[$i].splice(n,1)}(this._lView,t)}}function If(){return new Qm(j())}function pw(){return Pc(yt(),j())}function Pc(e,t){return new Di(fr(e,t))}let Di=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=pw}return e})();function FS(e){return e instanceof Di?e.nativeElement:e}function gw(e){return t=>{setTimeout(e,void 0,t)}}const vn=class y2 extends N{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,_o()&&(this.destroyRef=X(Xs,{optional:!0})??void 0)}emit(t){const n=Ce(null);try{super.next(t)}finally{Ce(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=gw(o),i&&(i=gw(i)),s&&(s=gw(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Et&&t.add(a),a}};function C2(){return this._results[Symbol.iterator]()}class mw{static#e=Symbol.iterator;get changes(){return this._changes??=new vn}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=mw.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=C2)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function cr(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ih(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Jm(e){return!(128&~e.flags)}const _w=new Map;let E2=0;const yw="__ngContext__";function Sr(e,t){Pn(t)?(e[yw]=t[jl],function b2(e){_w.set(e[jl],e)}(t)):e[yw]=t}function GS(e){return KS(e[Ul])}function qS(e){return KS(e[Wr])}function KS(e){for(;null!==e&&!Jn(e);)e=e[Wr];return e}let Cw;const n_=new ue("",{providedIn:"root",factory:()=>H2}),H2="ng",nT=new ue(""),rs=new ue("",{providedIn:"platform",factory:()=>"unknown"}),rT=new ue("",{providedIn:"root",factory:()=>function Va(){if(void 0!==Cw)return Cw;if(typeof document<"u")return document;throw new $(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let iT=()=>null;function Aw(e,t,n=!1){return iT(e,t,n)}const uT=new ue("",{providedIn:"root",factory:()=>!1});class pT{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const TU=/^>|^->|<!--|-->|--!>|<!-$/g,AU=/(<|>)/g,MU="\u200b$1\u200b";function Si(e){return e instanceof Function?e():e}var ja=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ja||{});let jw;function Hw(e,t){return jw(e,t)}function Bc(e,t,n,r,i){if(null!=r){let o,s=!1;Jn(r)?o=r:Pn(r)&&(s=!0,r=r[St]);const a=mt(r);0===e&&null!==n?null==i?LT(t,n,a):eu(t,n,a,i||null,!0):1===e&&null!==n?eu(t,n,a,i||null,!0):2===e?function Ff(e,t,n){const r=m_(e,t);r&&function KU(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function ZU(e,t,n,r,i){const o=n[zi];o!==mt(n)&&Bc(t,e,r,o,i);for(let a=en;a<n.length;a++){const l=n[a];v_(l[te],l,e,t,r,o)}}(t,e,o,n,i)}}function zw(e,t){return e.createComment(function ST(e){return e.replace(TU,t=>t.replace(AU,MU))}(t))}function p_(e,t,n){return e.createElement(t,n)}function PT(e,t){t[Hi].changeDetectionScheduler?.notify(1),v_(e,t,t[De],2,null,null)}function kT(e,t){const n=e[Ma],r=n.indexOf(t);n.splice(r,1)}function Pf(e,t){if(e.length<=en)return;const n=en+t,r=e[n];if(r){const i=r[Bl];null!==i&&i!==e&&kT(i,r),t>0&&(e[n-1][Wr]=r[Wr]);const o=Ea(e,en+t);!function jU(e,t){PT(e,t),t[St]=null,t[Xn]=null}(r[te],r);const s=o[yo];null!==s&&s.detachView(o[te]),r[rn]=null,r[Wr]=null,r[Ee]&=-129}return r}function g_(e,t){if(!(256&t[Ee])){const n=t[De];n.destroyNode&&v_(e,t,n,3,null,null),function $U(e){let t=e[Ul];if(!t)return Ww(e[te],e);for(;t;){let n=null;if(Pn(t))n=t[Ul];else{const r=t[en];r&&(n=r)}if(!n){for(;t&&!t[Wr]&&t!==e;)Pn(t)&&Ww(t[te],t),t=t[rn];null===t&&(t=e),Pn(t)&&Ww(t[te],t),n=t&&t[Wr]}t=n}}(t)}}function Ww(e,t){if(256&t[Ee])return;const n=Ce(null);try{t[Ee]&=-129,t[Ee]|=256,t[js]&&function xt(e){if(be(e),ur(e))for(let t=0;t<e.producerNode.length;t++)ut(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[js]),function qU(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Ql)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];Wi(4,a,l);try{l.call(a)}finally{Wi(5,a,l)}}else{Wi(4,i,o);try{o.call(i)}finally{Wi(5,i,o)}}}}}(e,t),function GU(e,t){const n=e.cleanup,r=t[Bs];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[Bs]=null);const i=t[$i];if(null!==i){t[$i]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[te].type&&t[De].destroy();const r=t[Bl];if(null!==r&&Jn(t[rn])){r!==t[rn]&&kT(r,t);const i=t[yo];null!==i&&i.detachView(e)}!function D2(e){_w.delete(e[jl])}(t)}finally{Ce(n)}}function Gw(e,t,n){return function FT(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[St];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Hr.None||o===Hr.Emulated)return null}return fr(r,n)}}(e,t.parent,n)}function eu(e,t,n,r,i){e.insertBefore(t,n,r,i)}function LT(e,t,n){e.appendChild(t,n)}function VT(e,t,n,r,i){null!==r?eu(e,t,n,r,i):LT(e,t,n)}function m_(e,t){return e.parentNode(t)}let qw,jT=function BT(e,t,n){return 40&e.type?fr(e,n):null};function __(e,t,n,r){const i=Gw(e,r,t),o=t[De],a=function UT(e,t,n){return jT(e,t,n)}(r.parent||t[Xn],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)VT(o,i,n[l],a,!1);else VT(o,i,n,a,!1);void 0!==qw&&qw(o,r,t,n,i)}function kf(e,t){if(null!==t){const n=t.type;if(3&n)return fr(t,e);if(4&n)return Kw(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return kf(e,r);{const i=e[t.index];return Jn(i)?Kw(-1,i):mt(i)}}if(32&n)return Hw(t,e)()||mt(e[t.index]);{const r=$T(e,t);return null!==r?Array.isArray(r)?r[0]:kf(qs(e[Jt]),r):kf(e,t.next)}}return null}function $T(e,t){return null!==t?e[Jt][Xn].projection[t.projection]:null}function Kw(e,t){const n=en+e+1;if(n<t.length){const r=t[n],i=r[te].firstChild;if(null!==i)return kf(r,i)}return t[zi]}function Yw(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===t&&(a&&Sr(mt(a),r),n.flags|=2),32&~n.flags)if(8&l)Yw(e,t,n.child,r,i,o,!1),Bc(t,e,i,a,o);else if(32&l){const d=Hw(n,r);let f;for(;f=d();)Bc(t,e,i,f,o);Bc(t,e,i,a,o)}else 16&l?WT(e,t,r,n,i,o):Bc(t,e,i,a,o);n=s?n.projectionNext:n.next}}function v_(e,t,n,r,i,o){Yw(n,r,e.firstChild,t,i,o,!1)}function WT(e,t,n,r,i,o){const s=n[Jt],l=s[Xn].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)Bc(t,e,i,l[d],o);else{let d=l;const f=s[rn];Jm(r)&&(d.flags|=128),Yw(e,t,d,f,i,o,!0)}}function GT(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function qT(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&ec(e,t,r),null!==i&&GT(e,t,i),null!==o&&function JU(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}const He={};function on(e=1){KT(Je(),j(),nr()+e,!1)}function KT(e,t,n,r){if(!r)if(3&~t[Ee]){const o=e.preOrderHooks;null!==o&&bc(t,o,0,n)}else{const o=e.preOrderCheckHooks;null!==o&&Ic(t,o,n)}Ys(n)}function J(e,t=je.Default){const n=j();return null===n?le(e,t):Gm(yt(),n,Ne(e),t)}function QT(e,t,n,r,i,o){const s=Ce(null);try{let a=null;i&Ot.SignalBased&&(a=t[r][vt]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&Ot.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),null!==e.setInput?e.setInput(t,a,o,n,r):Dm(t,a,r,o)}finally{Ce(s)}}function y_(e,t,n,r,i,o,s,a,l,d,f){const g=t.blueprint.slice();return g[St]=i,g[Ee]=204|r,(null!==d||e&&2048&e[Ee])&&(g[Ee]|=2048),xm(g),g[rn]=g[Ta]=e,g[Mt]=n,g[Hi]=s||e&&e[Hi],g[De]=a||e&&e[De],g[zn]=l||e&&e[zn]||null,g[Xn]=o,g[jl]=function I2(){return E2++}(),g[hr]=f,g[mm]=d,g[Jt]=2==t.type?e[Jt]:g,g}function jc(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Qw(e,t,n,r,i){const o=yc(),s=Gl(),l=e.data[t]=function aB(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function Oa(){return null!==Pe.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,t,n,r,i),function Lm(){return Pe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ks(){const e=Pe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return qi(o,!0),o}function Lf(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ZT(e,t,n,r,i){const o=nr(),s=2&r;try{Ys(-1),s&&t.length>Le&&KT(e,t,Le,!1),Wi(s?2:0,i),n(r,i)}finally{Ys(o),Wi(s?3:1,i)}}function Zw(e,t,n){if(Hl(t)){const r=Ce(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Ce(r)}}}function Xw(e,t,n){vc()&&(function pB(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;Hs(n)&&function wB(e,t,n){const r=fr(t,e),i=XT(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=C_(e,y_(e,i,null,s,r,t,null,e[Hi].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ka(n,t),Sr(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],d=ns(t,e,a,n);Sr(d,t),null!==s&&EB(0,a-i,d,l,0,s),Ir(l)&&(Gr(n.index,t)[Mt]=ns(t,e,a,n))}}(e,t,n,fr(n,t)),!(64&~n.flags)&&rA(e,t,n))}function Jw(e,t,n=fr){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function XT(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=e0(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function e0(e,t,n,r,i,o,s,a,l,d,f){const g=Le+r,m=g+i,v=function tB(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:He);return n}(g,m),C="function"==typeof d?d():d;return v[te]={type:e,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:t,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:f}}let JT=()=>null;function eA(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;const s=t[o];if(void 0===s)continue;r??={};let a,l=Ot.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(null!==i){if(!i.hasOwnProperty(o))continue;d=i[o]}0===e?tA(r,n,d,a,l):tA(r,n,d,a)}return r}function tA(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],void 0!==i&&o.push(i)}function li(e,t,n,r,i,o,s,a){const l=fr(t,n);let f,d=t.inputs;!a&&null!=d&&(f=d[r])?(s0(e,n,f,r,i),Hs(t)&&function cB(e,t){const n=Gr(t,e);16&n[Ee]||(n[Ee]|=64)}(n,t.index)):3&t.type&&(r=function uB(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}function t0(e,t,n,r){if(vc()){const i=null===r?null:{"":-1},o=function mB(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(om(t,s.selectors,!1))if(r||(r=[]),Ir(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),n0(e,t,a.length)}else r.unshift(s),n0(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&nA(e,t,n,s,i,a),i&&function _B(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new $(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=Us(n.mergedAttrs,n.attrs)}function nA(e,t,n,r,i,o){for(let d=0;d<r.length;d++)Ac(ka(n,t),e,r[d].type);!function yB(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let d=0;d<r.length;d++){const f=r[d];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=Lf(e,t,r.length,null);for(let d=0;d<r.length;d++){const f=r[d];n.mergedAttrs=Us(n.mergedAttrs,f.hostAttrs),CB(e,n,t,l,f),vB(l,f,i),null!==f.contentQueries&&(n.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(n.flags|=64);const g=f.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function lB(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,d=null;for(let f=t.directiveStart;f<i;f++){const g=o[f],m=n?n.get(g):null,C=m?m.outputs:null;l=eA(0,g.inputs,f,l,m?m.inputs:null),d=eA(1,g.outputs,f,d,C);const y=null===l||null===s||Th(t)?null:IB(l,f,s);a.push(y)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=d}(e,n,o)}function rA(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function QC(){return Pe.lFrame.currentDirectiveIndex}();try{Ys(o);for(let a=r;a<i;a++){const l=e.data[a],d=t[a];af(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&gB(l,d)}}finally{Ys(-1),af(s)}}function gB(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function n0(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function vB(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ir(t)&&(n[""]=e)}}function CB(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Wo(i.type)),s=new Ql(o,Ir(i),J);e.blueprint[r]=s,n[r]=s,function hB(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function fB(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Lf(e,n,i.hostVars,He),i)}function EB(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)QT(r,n,s[a++],s[a++],s[a++],s[a++])}function IB(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function iA(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function oA(e,t){const n=e.contentQueries;if(null!==n){const r=Ce(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=e.data[s];ql(n[i]),a.contentQueries(2,t[s],s)}}}finally{Ce(r)}}}function C_(e,t){return e[Ul]?e[gm][Wr]=t:e[Ul]=t,e[gm]=t,t}function o0(e,t,n){ql(0);const r=Ce(null);try{t(e,n)}finally{Ce(r)}}function sA(e){return e[Bs]||(e[Bs]=[])}function aA(e){return e.cleanup||(e.cleanup=[])}function w_(e,t){const n=e[zn],r=n?n.get(bi,null):null;r&&r.handleError(t)}function s0(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=n[o++];QT(e.data[s],t[s],r,a,l,i)}}function bB(e,t){const n=Gr(t,e),r=n[te];!function DB(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[St];null!==i&&null===n[hr]&&(n[hr]=Aw(i,n[zn])),a0(r,n,n[Mt])}function a0(e,t,n){cf(t);try{const r=e.viewQuery;null!==r&&o0(1,r,n);const i=e.template;null!==i&&ZT(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[yo]?.finishViewCreation(e),e.staticContentQueries&&oA(e,t),e.staticViewQueries&&o0(2,e.viewQuery,n);const o=e.components;null!==o&&function SB(e,t){for(let n=0;n<t.length;n++)bB(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ee]&=-5,df()}}function Hc(e,t){return!t||null===t.firstChild||Jm(e)}function Uf(e,t,n,r=!0){const i=t[te];if(function zU(e,t,n,r){const i=en+r,o=n.length;r>0&&(n[i-1][Wr]=t),r<o-en?(t[Wr]=n[i],Ol(n,en+r,t)):(n.push(t),t[Wr]=null),t[rn]=n;const s=t[Bl];null!==s&&n!==s&&function WU(e,t){const n=e[Ma];t[Jt]!==t[rn][rn][Jt]&&(e[Ee]|=zh.HasTransplantedViews),null===n?e[Ma]=[t]:n.push(t)}(s,t);const a=t[yo];null!==a&&a.insertView(e),_c(t),t[Ee]|=128}(i,t,e,n),r){const s=Kw(n,e),a=t[De],l=m_(a,e[zi]);null!==l&&function HU(e,t,n,r,i,o){r[St]=i,r[Xn]=t,v_(e,r,n,1,i,o)}(i,e[Xn],a,t,l,s)}const o=t[hr];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Bf(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(mt(o)),Jn(o)&&cA(o,r);const s=n.type;if(8&s)Bf(e,t,n.child,r);else if(32&s){const a=Hw(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=$T(t,n);if(Array.isArray(a))r.push(...a);else{const l=qs(t[Jt]);Bf(l[te],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function cA(e,t){for(let n=en;n<e.length;n++){const r=e[n],i=r[te].firstChild;null!==i&&Bf(r[te],r,i,t)}e[zi]!==e[St]&&t.push(e[zi])}let dA=[];const NB={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Wl(e.lView)},consumerOnSignalRead(){this.lView[js]=this}},hA=100;function E_(e,t=!0,n=0){const r=e[Hi],i=r.rendererFactory;i.begin?.();try{!function RB(e,t){u0(e,t);let n=0;for(;tf(e);){if(n===hA)throw new $(103,!1);n++,u0(e,1)}}(e,n)}catch(s){throw t&&w_(e,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function xB(e,t,n,r){const i=t[Ee];if(!(256&~i))return;t[Hi].inlineEffectRunner?.flush(),cf(t);let s=null,a=null;(function OB(e){return 2!==e.type})(e)&&(a=function TB(e){return e[js]??function AB(e){const t=dA.pop()??Object.create(NB);return t.lView=e,t}(e)}(t),s=function Qe(e){return e&&(e.nextProducerIndex=0),Ce(e)}(a));try{xm(t),function wc(e){return Pe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ZT(e,t,n,2,r);const l=!(3&~i);if(l){const g=e.preOrderCheckHooks;null!==g&&Ic(t,g,null)}else{const g=e.preOrderHooks;null!==g&&bc(t,g,0,null),Yl(t,0)}if(function PB(e){for(let t=GS(e);null!==t;t=qS(t)){if(!(t[Ee]&zh.HasTransplantedViews))continue;const n=t[Ma];for(let r=0;r<n.length;r++){ef(n[r])}}}(t),fA(t,0),null!==e.contentQueries&&oA(e,t),l){const g=e.contentCheckHooks;null!==g&&Ic(t,g)}else{const g=e.contentHooks;null!==g&&bc(t,g,1),Yl(t,1)}!function eB(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ys(~i);else{const o=i,s=n[++r],a=n[++r];YC(s,o),a(2,t[o])}}}finally{Ys(-1)}}(e,t);const d=e.components;null!==d&&gA(t,d,0);const f=e.viewQuery;if(null!==f&&o0(2,f,r),l){const g=e.viewCheckHooks;null!==g&&Ic(t,g)}else{const g=e.viewHooks;null!==g&&bc(t,g,2),Yl(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[hc]){for(const g of t[hc])g();t[hc]=null}t[Ee]&=-73}catch(l){throw Wl(t),l}finally{null!==a&&(function Tn(e,t){if(Ce(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ur(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ut(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function MB(e){e.lView[js]!==e&&(e.lView=null,dA.push(e))}(a)),df()}}function fA(e,t){for(let n=GS(e);null!==n;n=qS(n))for(let r=en;r<n.length;r++)pA(n[r],t)}function kB(e,t,n){pA(Gr(t,e),n)}function pA(e,t){zl(e)&&u0(e,t)}function u0(e,t){const r=e[te],i=e[Ee],o=e[js];let s=!!(0===t&&16&i);if(s||=!!(64&i&&0===t),s||=!!(1024&i),s||=!(!o?.dirty||!Hn(o)),o&&(o.dirty=!1),e[Ee]&=-9217,s)xB(r,e,r.template,e[Mt]);else if(8192&i){fA(e,1);const a=r.components;null!==a&&gA(e,a,1)}}function gA(e,t,n){for(let r=0;r<t.length;r++)kB(e,t[r],n)}function jf(e){for(e[Hi].changeDetectionScheduler?.notify();e;){e[Ee]|=64;const t=qs(e);if($l(e)&&!t)return e;e=t}return null}class Hf{get rootNodes(){const t=this._lView,n=t[te];return Bf(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mt]}set context(t){this._lView[Mt]=t}get destroyed(){return!(256&~this._lView[Ee])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[rn];if(Jn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Pf(t,r),Ea(n,r))}this._attachedToViewContainer=!1}g_(this._lView[te],this._lView)}onDestroy(t){Gs(this._lView,t)}markForCheck(){jf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ee]&=-129}reattach(){_c(this._lView),this._lView[Ee]|=128}detectChanges(){this._lView[Ee]|=1024,E_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,PT(this._lView[te],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=t,_c(this._lView)}}let ta=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=VB}return e})();const FB=ta,LB=class extends FB{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function Vf(e,t,n,r){const i=Ce(null);try{const o=t.tView,l=y_(e,o,n,4096&e[Ee]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[Bl]=e[t.index];const f=e[yo];return null!==f&&(l[yo]=f.createEmbeddedView(o)),a0(o,l,n),l}finally{Ce(i)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Hf(i)}};function VB(){return I_(yt(),j())}function I_(e,t){return 4&e.type?new LB(t,e,Pc(e,t)):null}class g0{}class lj{}class EA{}class cj{resolveComponentFactory(t){throw function uj(e){const t=Error(`No component factory found for ${dn(e)}.`);return t.ngComponent=e,t}(t)}}let A_=(()=>{class e{static#e=this.NULL=new cj}return e})();class bA{}let os=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function dj(){const e=j(),n=Gr(yt().index,e);return(Pn(n)?n:e)[De]}()}return e})(),hj=(()=>{class e{static#e=this.\u0275prov=_e({token:e,providedIn:"root",factory:()=>null})}return e})();const m0={},DA=new Set;function ss(e){DA.has(e)||(DA.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function SA(...e){}class dt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vn(!1),this.onMicrotaskEmpty=new vn(!1),this.onStable=new vn(!1),this.onError=new vn(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function fj(){const e="function"==typeof ge.requestAnimationFrame;let t=ge[e?"requestAnimationFrame":"setTimeout"],n=ge[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function mj(e){const t=()=>{!function gj(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ge,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,v0(e),e.isCheckStableRunning=!0,_0(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),v0(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function _j(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return TA(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),AA(e)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return TA(e),n.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),AA(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,v0(e),_0(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new $(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,pj,SA,SA);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const pj={};function _0(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function v0(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function TA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function AA(e){e._nesting--,_0(e)}class MA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vn,this.onMicrotaskEmpty=new vn,this.onStable=new vn,this.onError=new vn}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}var tu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(tu||{});const NA={destroy(){}};function RA(e,t){!t&&function uc(e){if(!_o())throw new $(-203,!1)}();const n=t?.injector??X(oe);if(!function Ba(e){return"browser"===(e??X(oe)).get(rs)}(n))return NA;ss("NgAfterNextRender");const r=n.get(qf),i=r.handler??=new OA,o=t?.phase??tu.MixedReadWrite,s=()=>{i.unregister(l),a()},a=n.get(Xs).onDestroy(s),l=Qo(n,()=>new xA(o,()=>{s(),e()}));return i.register(l),{destroy:s}}class xA{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=X(dt),this.errorHandler=X(bi,{optional:!0}),X(g0,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class OA{constructor(){this.executingCallbacks=!1,this.buckets={[tu.EarlyRead]:new Set,[tu.Write]:new Set,[tu.MixedReadWrite]:new Set,[tu.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const n of t)n.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let qf=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=_e({token:e,providedIn:"root",factory:()=>new e})}return e})();function N_(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=hh(i,a):2==o&&(r=hh(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}class FA extends A_{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=qe(t);return new Qf(n,this.ngModule)}}function LA(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class R_{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ku(r);const i=this.injector.get(t,m0,r);return i!==m0||n===m0?i:this.parentInjector.get(t,n,r)}}class Qf extends EA{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=LA(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return LA(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function xh(e){return e.map(bC).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){const o=Ce(null);try{let s=(i=i||this.ngModule)instanceof zr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new R_(t,s):t,l=a.get(bA,null);if(null===l)throw new $(407,!1);const d=a.get(hj,null),m={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,afterRenderEventManager:a.get(qf,null),changeDetectionScheduler:a.get(g0,null)},v=l.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",y=r?function nB(e,t,n,r){const o=r.get(uT,!1)||n===Hr.ShadowDom,s=e.selectRootElement(t,o);return function rB(e){JT(e)}(s),s}(v,r,this.componentDef.encapsulation,a):p_(v,C,function Ej(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(C));let E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let M=null;null!==y&&(M=Aw(y,a,!0));const T=e0(0,null,null,1,0,null,null,null,null,null,null),P=y_(null,T,null,E,null,null,m,v,a,null,M);let U,B;cf(P);try{const ee=this.componentDef;let ie,pe=null;ee.findHostDirectiveDefs?(ie=[],pe=new Map,ee.findHostDirectiveDefs(ee,ie,pe),ie.push(ee)):ie=[ee];const se=function bj(e,t){const n=e[te],r=Le;return e[r]=t,jc(n,r,2,"#host",null)}(P,y),ht=function Dj(e,t,n,r,i,o,s){const a=i[te];!function Sj(e,t,n,r){for(const i of e)t.mergedAttrs=Us(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(N_(t,t.mergedAttrs,!0),null!==n&&qT(r,n,t))}(r,e,t,s);let l=null;null!==t&&(l=Aw(t,i[zn]));const d=o.rendererFactory.createRenderer(t,n);let f=16;n.signals?f=4096:n.onPush&&(f=64);const g=y_(i,XT(n),null,f,i[e.index],e,o,d,null,null,l);return a.firstCreatePass&&n0(a,e,r.length-1),C_(i,g),i[e.index]=g}(se,y,ee,ie,P,m,v);B=xa(T,Le),y&&function Aj(e,t,n,r){if(r)ec(e,n,["ng-version","17.3.4"]);else{const{attrs:i,classes:o}=function DC(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!yi(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&ec(e,n,i),o&&o.length>0&&GT(e,n,o.join(" "))}}(v,ee,y,r),void 0!==n&&function Mj(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(B,this.ngContentSelectors,n),U=function Tj(e,t,n,r,i,o){const s=yt(),a=i[te],l=fr(s,i);nA(a,i,s,n,null,r);for(let f=0;f<n.length;f++)Sr(ns(i,a,s.directiveStart+f,s),i);rA(a,i,s),l&&Sr(l,i);const d=ns(i,a,s.directiveStart+s.componentOffset,s);if(e[Mt]=i[Mt]=d,null!==o)for(const f of o)f(d,t);return Zw(a,s,i),d}(ht,ee,ie,pe,P,[Nj]),a0(T,P,null)}finally{df()}return new Ij(this.componentType,U,Pc(B,P),P,B)}finally{Ce(o)}}}class Ij extends lj{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Hf(i,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;s0(o[te],o,i,t,n),this.previousInputValues.set(t,n),jf(Gr(this._tNode.index,o))}}get injector(){return new hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Nj(){const e=yt();Pa(j()[te],e)}let wo=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Rj}return e})();function Rj(){return BA(yt(),j())}const xj=wo,VA=class extends xj{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Pc(this._hostTNode,this._hostLView)}get injector(){return new hn(this._hostTNode,this._hostLView)}get parentInjector(){const t=ts(this._hostTNode,this._hostLView);if(Qs(t)){const n=Xl(t,this._hostLView),r=Zl(t);return new hn(n[te].data[r+8],n)}return new hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=UA(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-en}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,Hc(this._hostTNode,null)),a}createComponent(t,n,r,i,o){const s=t&&!function Vl(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}const l=s?t:new Qf(qe(t)),d=r||this.parentInjector;if(!o&&null==l.ngModule){const y=(s?d:this.parentInjector).get(zr,null);y&&(o=y)}qe(l.componentType??{});const v=l.create(d,i,null,o);return this.insertImpl(v.hostView,a,Hc(this._hostTNode,null)),v}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function BC(e){return Jn(e[rn])}(i)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=i[rn],d=new VA(l,l[Xn],l[rn]);d.detach(d.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;return Uf(s,i,o,r),t.attachToViewContainerRef(),Ol(E0(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=UA(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Pf(this._lContainer,n);r&&(Ea(E0(this._lContainer),n),g_(r[te],r))}detach(t){const n=this._adjustIndex(t,-1),r=Pf(this._lContainer,n);return r&&null!=Ea(E0(this._lContainer),n)?new Hf(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function UA(e){return e[8]}function E0(e){return e[8]||(e[8]=[])}function BA(e,t){let n;const r=t[e.index];return Jn(r)?n=r:(n=iA(r,t,null,e),t[e.index]=n,C_(t,n)),jA(n,t,e,r),new VA(n,e,t)}let jA=function $A(e,t,n,r){if(e[zi])return;let i;i=8&n.type?mt(r):function Oj(e,t){const n=e[De],r=n.createComment(""),i=fr(t,e);return eu(n,m_(n,i),r,function YU(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[zi]=i},I0=()=>!1;class b0{constructor(t){this.queryList=t,this.matches=null}clone(){return new b0(this.queryList)}setDirty(){this.queryList.setDirty()}}class D0{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new D0(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==N0(t,n).matches&&this.queries[n].setDirty()}}class zA{constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function jj(e){return e.split(",").map(t=>t.trim())}(t):t}}class S0{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new S0(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class T0{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new T0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,Lj(n,o)),this.matchTNodeWithReadOption(t,n,Ei(n,t,o,!1,!1))}else r===ta?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ei(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Di||i===wo||i===ta&&4&n.type)this.addMatch(n.index,-2);else{const o=Ei(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Lj(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Uj(e,t,n,r){return-1===n?function Vj(e,t){return 11&e.type?Pc(e,t):4&e.type?I_(e,t):null}(t,e):-2===n?function Bj(e,t,n){return n===Di?Pc(t,e):n===ta?I_(t,e):n===wo?BA(t,e):void 0}(e,t,r):ns(e,e[te],n,t)}function WA(e,t,n,r){const i=t[yo].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const d=s[l];a.push(d<0?null:Uj(t,o[d],s[l+1],n.metadata.read))}i.matches=a}return i.matches}function A0(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=WA(e,t,i,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const d=o[a+1],f=t[-l];for(let g=en;g<f.length;g++){const m=f[g];m[Bl]===m[rn]&&A0(m[te],m,d,r)}if(null!==f[Ma]){const g=f[Ma];for(let m=0;m<g.length;m++){const v=g[m];A0(v[te],v,d,r)}}}}}return r}function qA(e,t,n){const r=Je();return r.firstCreatePass&&(function YA(e,t,n){null===e.queries&&(e.queries=new S0),e.queries.track(new T0(t,n))}(r,new zA(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),function GA(e,t,n){const r=new mw(!(4&~n));return function sB(e,t,n,r){const i=sA(t);i.push(n),e.firstCreatePass&&aA(e).push(r,i.length-1)}(e,t,r,r.destroy),(t[yo]??=new D0).queries.push(new b0(r))-1}(r,j(),t)}function N0(e,t){return e.queries.getByIndex(t)}function QA(e,t){const n=e[te],r=N0(n,t);return r.crossesNgTemplate?A0(n,e,t,[]):WA(n,e,r,t)}function JA(e){return function ZA(e){return"function"==typeof e&&void 0!==e[vt]}(e)&&"function"==typeof e.set}function Tt(e){let t=function cM(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Ir(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new $(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=O_(e.inputs),s.inputTransforms=O_(e.inputTransforms),s.declaredInputs=O_(e.declaredInputs),s.outputs=O_(e.outputs);const a=i.hostBindings;a&&rH(e,a);const l=i.viewQuery,d=i.contentQueries;if(l&&tH(e,l),d&&nH(e,d),Jj(e,i),Os(e.outputs,i.outputs),Ir(i)&&i.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Tt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function eH(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Us(i.hostAttrs,n=Us(n,i.hostAttrs))}}(r)}function Jj(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function O_(e){return e===ii?{}:e===rt?[]:e}function tH(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function nH(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function rH(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}class nu{}class gM{}class x0 extends nu{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new FA(this);const i=Zn(t);this._bootstrapComponents=Si(i.bootstrap),this._r3Injector=ae(t,n,[{provide:nu,useValue:this},{provide:A_,useValue:this.componentFactoryResolver},...r],dn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class O0 extends gM{constructor(t){super(),this.moduleType=t}create(t){return new x0(this.moduleType,t,[])}}class mM extends nu{constructor(t){super(),this.componentFactoryResolver=new FA(this),this.instance=null;const n=new Yo([...t.providers,{provide:nu,useValue:this},{provide:A_,useValue:this.componentFactoryResolver}],t.parent||ac(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function P_(e,t,n=null){return new mM({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Wc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new O(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function F_(e){return!!P0(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function P0(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function as(e,t,n){return e[t]=n}function wn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function L_(e,t,n,r,i){const o=function ru(e,t,n,r){const i=wn(e,t,n);return wn(e,t+1,r)||i}(e,t,n,r);return wn(e,t+2,i)||o}function na(e,t,n,r,i,o,s,a){const l=j(),d=Je(),f=e+Le,g=d.firstCreatePass?function mH(e,t,n,r,i,o,s,a,l){const d=t.consts,f=jc(t,e,4,s||null,Gi(d,a));t0(t,n,f,Gi(d,l)),Pa(t,f);const g=f.tView=e0(2,f,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return null!==t.queries&&(t.queries.template(t,f),g.queries=t.queries.embeddedTView(f)),f}(f,d,l,t,n,r,i,o,s):d.data[f];qi(g,!1);const m=_M(d,l,g,e);Kl()&&__(d,l,m,g),Sr(m,l);const v=iA(m,l,m,g);return l[f]=v,C_(l,v),function HA(e,t,n){return I0(e,t,n)}(v,g,l),Na(g)&&Xw(d,l,g),null!=s&&Jw(l,g,a),na}let _M=function vM(e,t,n,r){return Ki(!0),t[De].createComment("")};function $_(e,t){return e<<17|t<<2}function Wa(e){return e>>17&32767}function z0(e){return 2|e}function ou(e){return(131068&e)>>2}function W0(e,t){return-131069&e|t<<2}function G0(e){return 1|e}function YM(e,t,n,r){const i=e[n+1],o=null===t;let s=r?Wa(i):ou(i),a=!1;for(;0!==s&&(!1===a||o);){const d=e[s+1];t$(e[s],t)&&(a=!0,e[s+1]=r?G0(d):z0(d)),s=r?Wa(d):ou(d)}a&&(e[n+1]=r?z0(i):G0(i))}function t$(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&qo(e,t)>=0}function Tr(e,t,n){const r=j();return wn(r,oi(),t)&&li(Je(),It(),r,e,t,r[De],n,!1),Tr}function q0(e,t,n,r,i){const s=i?"class":"style";s0(e,n,t.inputs[s],s,r)}function K0(e,t,n){return Eo(e,t,n,!1),K0}function z_(e,t){return Eo(e,t,null,!0),z_}function Eo(e,t,n,r){const i=j(),o=Je(),s=function si(e){const t=Pe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function rN(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[nr()],s=function nN(e,t){return t>=e.expandoStartIndex}(e,n);(function aN(e,t){return!!(e.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function c$(e,t,n,r){const i=function lf(e){const t=Pe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=rp(n=Y0(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Y0(i,e,t,n,r),null===o){let l=function d$(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ou(r))return e[Wa(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=Y0(null,e,t,l[1],r),l=rp(l,t.attrs,r),function h$(e,t,n,r){e[Wa(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else o=function f$(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=rp(r,e[o].hostAttrs,n);return rp(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function JH(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Wa(s),l=ou(s);e[r]=n;let f,d=!1;if(Array.isArray(n)?(f=n[1],(null===f||qo(n,f)>0)&&(d=!0)):f=n,i)if(0!==l){const m=Wa(e[a+1]);e[r+1]=$_(m,a),0!==m&&(e[m+1]=W0(e[m+1],r)),e[a+1]=function ZH(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=$_(a,0),0!==a&&(e[a+1]=W0(e[a+1],r)),a=r;else e[r+1]=$_(l,0),0===a?a=r:e[l+1]=W0(e[l+1],r),l=r;d&&(e[r+1]=z0(e[r+1])),YM(e,f,r,!0),YM(e,f,r,!1),function e$(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&qo(o,t)>=0&&(n[r+1]=G0(n[r+1]))}(t,f,e,r,o),s=$_(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==He&&wn(i,s,t)&&function oN(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const l=e.data,d=l[a+1],f=function XH(e){return!(1&~e)}(d)?sN(l,t,n,i,ou(d),s):void 0;W_(f)||(W_(o)||function QH(e){return!(2&~e)}(d)&&(o=sN(l,null,n,i,a,s)),function XU(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ja.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ja.Important),e.setStyle(n,r,i,o))}}(r,s,zs(nr(),n),i,o))}(o,o.data[nr()],i,i[De],e,i[s+1]=function _$(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=dn(function Ua(e){return e instanceof pT?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,s)}function Y0(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=rp(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function rp(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),dr(e,s,!!n||t[++o]))}return void 0===e?null:e}function sN(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const l=e[i],d=Array.isArray(l),f=d?l[1]:l,g=null===f;let m=n[i+1];m===He&&(m=g?rt:void 0);let v=g?bh(m,r):f===r?m:void 0;if(d&&!W_(v)&&(v=bh(l,r)),W_(v)&&(a=v,s))return a;const C=e[i+1];i=s?Wa(C):ou(C)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=bh(l,r))}return a}function W_(e){return void 0!==e}function me(e,t,n,r){const i=j(),o=Je(),s=Le+e,a=i[De],l=o.firstCreatePass?function B$(e,t,n,r,i,o){const s=t.consts,l=jc(t,e,2,r,Gi(s,i));return t0(t,n,l,Gi(s,o)),null!==l.attrs&&N_(l,l.attrs,!1),null!==l.mergedAttrs&&N_(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,t,n,r):o.data[s],d=dN(o,i,l,a,t,e);i[s]=d;const f=Na(l);return qi(l,!0),qT(a,d,l),!function Jf(e){return!(32&~e.flags)}(l)&&Kl()&&__(o,i,d,l),0===function jC(){return Pe.lFrame.elementDepthCount}()&&Sr(d,i),function HC(){Pe.lFrame.elementDepthCount++}(),f&&(Xw(o,i,l),Zw(o,l,i)),null!==r&&Jw(i,l),me}function we(){let e=yt();Gl()?rf():(e=e.parent,qi(e,!1));const t=e;(function zC(e){return Pe.skipHydrationRootTNode===e})(t)&&function km(){Pe.skipHydrationRootTNode=null}(),function $C(){Pe.lFrame.elementDepthCount--}();const n=Je();return n.firstCreatePass&&(Pa(n,e),Hl(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function iw(e){return!!(8&e.flags)}(t)&&q0(n,t,j(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ow(e){return!!(16&e.flags)}(t)&&q0(n,t,j(),t.stylesWithoutHost,!1),we}function Pt(e,t,n,r){return me(e,t,n,r),we(),Pt}let dN=(e,t,n,r,i,o)=>(Ki(!0),p_(r,i,function Bm(){return Pe.lFrame.currentNamespace}()));function G_(e,t,n){const r=j(),i=Je(),o=e+Le,s=i.firstCreatePass?function $$(e,t,n,r,i){const o=t.consts,s=Gi(o,r),a=jc(t,e,8,"ng-container",s);return null!==s&&N_(a,s,!0),t0(t,n,a,Gi(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];qi(s,!0);const a=fN(i,r,s,e);return r[o]=a,Kl()&&__(i,r,a,s),Sr(a,r),Na(s)&&(Xw(i,r,s),Zw(i,s,r)),null!=n&&Jw(r,s),G_}function q_(){let e=yt();const t=Je();return Gl()?rf():(e=e.parent,qi(e,!1)),t.firstCreatePass&&(Pa(t,e),Hl(e)&&t.queries.elementEnd(e)),q_}let fN=(e,t,n,r)=>(Ki(!0),zw(t[De],""));function ld(){return j()}const cd="en-US";let vN=cd;function Nt(e,t,n,r){const i=j(),o=Je(),s=yt();return nE(o,i,i[De],s,e,t,r),Nt}function nE(e,t,n,r,i,o,s){const a=Na(r),d=e.firstCreatePass&&aA(e),f=t[Mt],g=sA(t);let m=!0;if(3&r.type||s){const y=fr(r,t),E=s?s(y):y,M=g.length,T=s?U=>s(mt(U[r.index])):r.index;let P=null;if(!s&&a&&(P=function zz(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[Bs],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,m=!1;else{o=GN(r,t,f,o,!1);const U=n.listen(E,i,o);g.push(o,U),d&&d.push(i,T,M,M+1)}}else o=GN(r,t,f,o,!1);const v=r.outputs;let C;if(m&&null!==v&&(C=v[i])){const y=C.length;if(y)for(let E=0;E<y;E+=2){const B=t[C[E]][C[E+1]].subscribe(o),ee=g.length;g.push(o,B),d&&d.push(i,r.index,ee,-(ee+1))}}}function WN(e,t,n,r){const i=Ce(null);try{return Wi(6,t,n),!1!==n(r)}catch(o){return w_(e,o),!1}finally{Wi(7,t,n),Ce(i)}}function GN(e,t,n,r,i){return function o(s){if(s===Function)return r;jf(e.componentOffset>-1?Gr(e.index,t):t);let l=WN(t,n,r,s),d=o.__ngNextListenerFn__;for(;d;)l=WN(t,n,d,s)&&l,d=d.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function Ga(e=1){return function hf(e){return(Pe.lFrame.contextLView=function Om(e,t){for(;e>0;)t=t[Ta],e--;return t}(e,Pe.lFrame.contextLView))[Mt]}(e)}function iE(e,t,n){qA(e,t,n)}function X_(e){const t=j(),n=Je(),r=uf();ql(r+1);const i=N0(n,r);if(e.dirty&&function Rm(e){return!(4&~e[Ee])}(t)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{const o=QA(t,r);e.reset(o,FS),e.notifyOnChanges()}return!0}return!1}function J_(){return function M0(e,t){return e[yo].queries[t].queryList}(j(),uf())}function $e(e,t=""){const n=j(),r=Je(),i=e+Le,o=r.firstCreatePass?jc(r,i,1,t,null):r.data[i],s=hR(r,n,o,t,e);n[i]=s,Kl()&&__(r,n,s,o),qi(o,!1)}let hR=(e,t,n,r,i)=>(Ki(!0),function $w(e,t){return e.createText(t)}(t[De],r));function dd(e){return ev("",e,""),dd}function ev(e,t,n){const r=j(),i=function Jc(e,t,n,r){return wn(e,oi(),n)?t+Fe(n)+r:He}(r,e,t,n);return i!==He&&function ea(e,t,n){const r=zs(t,e);!function OT(e,t,n){e.setValue(t,n)}(e[De],r,n)}(r,nr(),i),ev}function au(e,t,n){JA(t)&&(t=t());const r=j();return wn(r,oi(),t)&&li(Je(),It(),r,e,t,r[De],n,!1),au}function hd(e,t){const n=JA(e);return n&&e.set(t),n}function lu(e,t){const n=j(),r=Je(),i=yt();return nE(r,n,n[De],i,e,t),lu}function oE(e,t,n,r,i){if(e=Ne(e),Array.isArray(e))for(let o=0;o<e.length;o++)oE(e[o],t,n,r,i);else{const o=Je(),s=j(),a=yt();let l=$r(e)?e:Ne(e.provide);const d=Bh(e),f=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if($r(e)||!e.multi){const v=new Ql(d,i,J),C=aE(l,t,i?f:f+m,g);-1===C?(Ac(ka(a,s),o,l),sE(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[C]=v,s[C]=v)}else{const v=aE(l,t,f+m,g),C=aE(l,t,f,f+m),E=C>=0&&n[C];if(i&&!E||!i&&!(v>=0&&n[v])){Ac(ka(a,s),o,l);const M=function f3(e,t,n,r,i){const o=new Ql(e,n,J);return o.multi=[],o.index=t,o.componentProviders=0,wR(o,i,r&&!n),o}(i?h3:d3,n.length,i,r,d);!i&&E&&(n[C].providerFactory=M),sE(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(M),s.push(M)}else sE(o,e,v>-1?v:C,wR(n[i?C:v],d,!i&&r));!i&&r&&E&&n[C].componentProviders++}}}function sE(e,t,n,r){const i=$r(t),o=function Vh(e){return!!e.useClass}(t);if(i||o){const l=(o?Ne(t.useClass):t).prototype.ngOnDestroy;if(l){const d=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const f=d.indexOf(n);-1===f?d.push(n,[r,l]):d[f+1].push(r,l)}else d.push(n,l)}}}function wR(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function aE(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function d3(e,t,n,r){return lE(this.multi,[])}function h3(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ns(n,n[te],this.providerFactory.index,r);o=a.slice(0,s),lE(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],lE(i,o);return o}function lE(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function sn(e,t=[]){return n=>{n.providersResolver=(r,i)=>function c3(e,t,n){const r=Je();if(r.firstCreatePass){const i=Ir(e);oE(n,r.data,r.blueprint,i,!0),oE(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}let p3=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Fh(0,n.type),i=r.length>0?P_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=_e({token:e,providedIn:"environment",factory:()=>new e(le(zr))})}return e})();function ER(e){ss("NgStandalone"),e.getStandaloneInjector=t=>t.get(p3).getOrCreateStandaloneInjector(e)}function ds(e,t,n,r){return bR(j(),pr(),e,t,n,r)}function cp(e,t){const n=e[t];return n===He?void 0:n}function bR(e,t,n,r,i,o){const s=t+n;return wn(e,s,i)?as(e,s+1,o?r.call(o,i):r(i)):cp(e,s+1)}function nv(e,t){const n=Je();let r;const i=e+Le;n.firstCreatePass?(r=function S3(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Wo(r.type)),a=xn(J);try{const l=Sc(!1),d=o();return Sc(l),function Zz(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,j(),i,d),d}finally{xn(a)}}function uE(e,t,n,r,i){const o=e+Le,s=j(),a=Ws(s,o);return dp(s,o)?function SR(e,t,n,r,i,o,s,a){const l=t+n;return L_(e,l,i,o,s)?as(e,l+3,a?r.call(a,i,o,s):r(i,o,s)):cp(e,l+3)}(s,pr(),t,a.transform,n,r,i,a):a.transform(n,r,i)}function dp(e,t){return e[te].data[t].pure}class gd{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const X3=new gd("17.3.4");let WR=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const QR=new ue(""),ov=new ue("");let _E,gE=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,_E||(function bW(e){_E=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(le(dt),le(mE),le(ov))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac})}return e})(),mE=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return _E?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function pp(e){return!!e&&"function"==typeof e.then}function ZR(e){return!!e&&"function"==typeof e.subscribe}const vE=new ue("");let yE=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=X(vE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(pp(o))n.push(o);else if(ZR(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const CE=new ue("");function ex(e,t){return Array.isArray(t)?t.reduce(ex,e):{...e,...t}}let qa=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=X(Oc),this.afterRenderEffectManager=X(qf),this.externalTestViews=new Set,this.beforeRender=new N,this.afterTick=new N,this.componentTypes=[],this.components=[],this.isStable=X(Wc).hasPendingTasks.pipe(Ie(n=>!n)),this._injector=X(zr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof EA;if(!this._injector.get(yE).done)throw!i&&function Ko(e){const t=qe(e)||Ut(e)||On(e);return null!==t&&t.standalone}(n),new $(405,!1);let s;s=i?n:this._injector.get(A_).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function DW(e){return e.isBoundToModule}(s)?void 0:this._injector.get(nu),d=s.create(oe.NULL,[],r||s.selector,a),f=d.location.nativeElement,g=d.injector.get(QR,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),sv(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new $(101,!1);const r=Ce(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,Ce(r)}}detectChangesInAttachedViews(n){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===hA)throw new $(103,!1);if(n){const o=0===r;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)TW(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>wE(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>wE(o))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;sv(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(CE,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>sv(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function TW(e,t,n){!t&&!wE(e)||function AW(e,t,n){let r;n?(r=0,e[Ee]|=1024):r=64&e[Ee]?0:1,E_(e,t,r)}(e,n,t)}function wE(e){return tf(e)}class MW{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let tx=(()=>{class e{compileModuleSync(n){return new O0(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Si(Zn(n).declarations).reduce((s,a)=>{const l=qe(a);return l&&s.push(new Qf(l)),s},[]);return new MW(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xW=(()=>{class e{constructor(){this.zone=X(dt),this.applicationRef=X(qa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function OW(){const e=X(dt),t=X(bi);return n=>e.runOutsideAngular(()=>t.handleError(n))}let kW=(()=>{class e{constructor(){this.subscription=new Et,this.initialized=!1,this.zone=X(dt),this.pendingTasks=X(Wc)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{dt.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{dt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ra=new ue("",{providedIn:"root",factory:()=>X(ra,je.Optional|je.SkipSelf)||function FW(){return typeof $localize<"u"&&$localize.locale||cd}()}),EE=new ue("");let ox=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function vj(e="zone.js",t){return"noop"===e?new MA:"zone.js"===e?new dt(t):e}(r?.ngZone,function ix(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function cH(e,t,n){return new x0(e,t,n)}(n.moduleType,this.injector,function rx(e){return[{provide:dt,useFactory:e},{provide:mo,multi:!0,useFactory:()=>{const t=X(xW,{optional:!0});return()=>t.initialize()}},{provide:mo,multi:!0,useFactory:()=>{const t=X(kW);return()=>{t.initialize()}}},{provide:Oc,useFactory:OW}]}(()=>i)),s=o.injector.get(bi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{sv(this._modules,o),a.unsubscribe()})}),function JR(e,t,n){try{const r=n();return pp(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(yE);return a.runInitializers(),a.donePromise.then(()=>(function yN(e){"string"==typeof e&&(vN=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ra,cd)||cd),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=ex({},r);return function RW(e,t,n){const r=new O0(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(qa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new $(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(EE,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(le(oe))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ka=null;const sx=new ue("");function ax(e,t,n=[]){const r=`Platform: ${t}`,i=new ue(r);return(o=[])=>{let s=IE();if(!s||s.injector.get(sx,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function UW(e){if(Ka&&!Ka.get(sx,!1))throw new $(400,!1);(function XR(){!function Il(e){_r=e}(()=>{throw new $(600,!1)})})(),Ka=e;const t=e.get(ox);(function ux(e){e.get(nT,null)?.forEach(n=>n())})(e)}(function lx(e=[],t){return oe.create({name:t,providers:[{provide:Uh,useValue:"platform"},{provide:EE,useValue:new Set([()=>Ka=null])},...e]})}(a,r))}return function BW(e){const t=IE();if(!t)throw new $(401,!1);return t}()}}function IE(){return Ka?.get(ox)??null}let gp=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=HW}return e})();function HW(e){return function $W(e,t,n){if(Hs(e)&&!n){const r=Gr(e.index,t);return new Hf(r,r)}return 47&e.type?new Hf(t[Jt],t):null}(yt(),j(),!(16&~e))}class gx{constructor(){}supports(t){return F_(t)}create(t){return new KW(t)}}const qW=(e,t)=>t;class KW{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||qW}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<_x(r,i,o)?n:r,a=_x(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const d=a-i,f=l-i;if(d!=f){for(let m=0;m<d;m++){const v=m<o.length?o[m]:o[m]=0,C=v+m;f<=C&&C<d&&(o[m]=v+1)}o[s.previousIndex]=f-d}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!F_(t))throw new $(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function pH(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new YW(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new mx),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mx),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class YW{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QW{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class mx{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new QW,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _x(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class vx{constructor(){}supports(t){return t instanceof Map||P0(t)}create(){return new ZW}}class ZW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||P0(t)))throw new $(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new XW(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class XW{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yx(){return new AE([new gx])}let AE=(()=>{class e{static#e=this.\u0275prov=_e({token:e,providedIn:"root",factory:yx});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||yx()),deps:[[e,new Vs,new Ls]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new $(901,!1)}}return e})();function Cx(){return new cv([new vx])}let cv=(()=>{class e{static#e=this.\u0275prov=_e({token:e,providedIn:"root",factory:Cx});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Cx()),deps:[[e,new Vs,new Ls]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new $(901,!1)}}return e})();const tG=ax(null,"core",[]);let nG=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(le(qa))};static#t=this.\u0275mod=Ci({type:e});static#n=this.\u0275inj=wr({})}return e})();function Hx(e){const t=Ce(null);try{return e()}finally{Ce(t)}}let $x=null;function Ya(){return $x}class UG{}const Zi=new ue("");let RE=(()=>{class e{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:()=>X(jG),providedIn:"platform"})}return e})();const BG=new ue("");let jG=(()=>{class e extends RE{constructor(){super(),this._doc=X(Zi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ya().getBaseHref(this._doc)}onPopState(n){const r=Ya().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ya().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function xE(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function zx(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function ia(e){return e&&"?"!==e[0]?"?"+e:e}let cu=(()=>{class e{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:()=>X(Gx),providedIn:"root"})}return e})();const Wx=new ue("");let Gx=(()=>{class e extends cu{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??X(Zi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return xE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ia(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+ia(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+ia(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(le(RE),le(Wx,8))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),HG=(()=>{class e extends cu{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=xE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ia(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ia(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(le(RE),le(Wx,8))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac})}return e})(),vp=(()=>{class e{constructor(n){this._subject=new vn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function WG(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(zx(qx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ia(r))}normalize(n){return e.stripTrailingSlash(function zG(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,qx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ia(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ia(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=ia;static#t=this.joinWithSlash=xE;static#n=this.stripTrailingSlash=zx;static#r=this.\u0275fac=function(r){return new(r||e)(le(cu))};static#i=this.\u0275prov=_e({token:e,factory:()=>function $G(){return new vp(le(cu))}(),providedIn:"root"})}return e})();function qx(e){return e.replace(/\/index.html$/,"")}const HE=/\s+/,nO=[];let $E=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=nO,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(HE):nO}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(HE):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(HE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(J(Di),J(os))};static#t=this.\u0275dir=Oe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ot.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class R4{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zE=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new R4(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),iO(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{iO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(J(wo),J(ta),J(AE))};static#t=this.\u0275dir=Oe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function iO(e,t){e.context.$implicit=t.item}let oO=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new x4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){sO("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){sO("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(J(wo),J(ta))};static#t=this.\u0275dir=Oe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class x4{constructor(){this.$implicit=null,this.ngIf=null}}function sO(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${dn(t)}'.`)}let qE=(()=>{class e{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,o]=n.split("."),s=-1===i.indexOf("-")?void 0:ja.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||e)(J(Di),J(cv),J(os))};static#t=this.\u0275dir=Oe({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})();function Do(e,t){return new $(2100,!1)}class L4{createSubscription(t,n){return Hx(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){Hx(()=>t.unsubscribe())}}class V4{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const U4=new V4,B4=new L4;let lO=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(pp(n))return U4;if(ZR(n))return B4;throw Do()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||e)(J(gp,16))};static#t=this.\u0275pipe=Qn({name:"async",type:e,pure:!1,standalone:!0})}return e})(),cO=(()=>{class e{transform(n,r,i){if(null==n)return null;if(!this.supports(n))throw Do();return n.slice(r,i)}supports(n){return"string"==typeof n||Array.isArray(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275pipe=Qn({name:"slice",type:e,pure:!1,standalone:!0})}return e})(),i8=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ci({type:e});static#n=this.\u0275inj=wr({})}return e})();const dO="browser";function QE(e){return"server"===e}let u8=(()=>{class e{static#e=this.\u0275prov=_e({token:e,providedIn:"root",factory:()=>function l8(e){return e===dO}(X(rs))?new c8(X(Zi),window):new h8})}return e})();class c8{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const n=function d8(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class h8{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class j8 extends UG{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class XE extends j8{static makeCurrent(){!function VG(e){$x??=e}(new XE)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function H8(){return Ep=Ep||document.querySelector("base"),Ep?Ep.getAttribute("href"):null}();return null==n?null:function $8(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Ep=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function M4(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Ep=null,W8=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac})}return e})();const JE=new ue("");let CO=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(le(JE),le(dt))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac})}return e})();class wO{constructor(t){this._doc=t}}const eI="ng-app-id";let EO=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=QE(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${eI}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(eI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(eI,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(le(Zi),le(n_),le(rT,8),le(rs))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac})}return e})();const tI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nI=/%COMP%/g,Y8=new ue("",{providedIn:"root",factory:()=>!0});function bO(e,t){return t.map(n=>n.replace(nI,e))}let DO=(()=>{class e{constructor(n,r,i,o,s,a,l,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=QE(a),this.defaultRenderer=new rI(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Hr.ShadowDom&&(r={...r,encapsulation:Hr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof TO?i.applyToHost(n):i instanceof iI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Hr.Emulated:o=new TO(l,d,r,this.appId,f,s,a,g);break;case Hr.ShadowDom:return new J8(l,d,n,r,s,a,this.nonce,g);default:o=new iI(l,d,r,f,s,a,g)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(le(CO),le(EO),le(n_),le(Y8),le(Zi),le(rs),le(dt),le(rT))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac})}return e})();class rI{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(tI[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(SO(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(SO(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=tI[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=tI[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(ja.DashCase|ja.Important)?t.style.setProperty(n,r,i&ja.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&ja.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Ya().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function SO(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class J8 extends rI{constructor(t,n,r,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=bO(i.id,i.styles);for(const f of d){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class iI extends rI{constructor(t,n,r,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?bO(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class TO extends iI{constructor(t,n,r,i,o,s,a,l){const d=i+"-"+r.id;super(t,n,r,o,s,a,l,d),this.contentAttr=function Q8(e){return"_ngcontent-%COMP%".replace(nI,e)}(d),this.hostAttr=function Z8(e){return"_nghost-%COMP%".replace(nI,e)}(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let eq=(()=>{class e extends wO{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(le(Zi))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac})}return e})();const AO=["alt","control","meta","shift"],tq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nq={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let rq=(()=>{class e extends wO{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ya().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),AO.forEach(d=>{const f=r.indexOf(d);f>-1&&(r.splice(f,1),s+=d+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=tq[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),AO.forEach(s=>{s!==i&&(0,nq[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(le(Zi))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac})}return e})();const NO=[{provide:rs,useValue:dO},{provide:nT,useValue:function iq(){XE.makeCurrent()},multi:!0},{provide:Zi,useFactory:function sq(){return function j2(e){Cw=e}(document),document},deps:[]}],aq=ax(tG,"browser",NO),lq=new ue(""),RO=[{provide:ov,useClass:class z8{addToWindow(t){ge.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new $(5103,!1);return o},ge.getAllAngularTestabilities=()=>t.getAllTestabilities(),ge.getAllAngularRootElements=()=>t.getAllRootElements(),ge.frameworkStabilizers||(ge.frameworkStabilizers=[]),ge.frameworkStabilizers.push(r=>{const i=ge.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Ya().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:QR,useClass:gE,deps:[dt,mE,ov]},{provide:gE,useClass:gE,deps:[dt,mE,ov]}],xO=[{provide:Uh,useValue:"root"},{provide:bi,useFactory:function oq(){return new bi},deps:[]},{provide:JE,useClass:eq,multi:!0,deps:[Zi,dt,rs]},{provide:JE,useClass:rq,multi:!0,deps:[Zi]},DO,EO,CO,{provide:bA,useExisting:DO},{provide:class f8{},useClass:W8,deps:[]},[]];let uq=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:n_,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(le(lq,12))};static#t=this.\u0275mod=Ci({type:e});static#n=this.\u0275inj=wr({providers:[...xO,...RO],imports:[i8,nG]})}return e})(),cq=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(le(Zi))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var yd=Ve(635);const FO=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function LO(e){return Ae(e?.then)}function VO(e){return Ae(e[co])}function UO(e){return Symbol.asyncIterator&&Ae(e?.[Symbol.asyncIterator])}function BO(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const jO=function gq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function HO(e){return Ae(e?.[jO])}function $O(e){return(0,yd.AQ)(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield(0,yd.N3)(n.read());if(i)return yield(0,yd.N3)(void 0);yield yield(0,yd.N3)(r)}}finally{n.releaseLock()}})}function zO(e){return Ae(e?.getReader)}function ci(e){if(e instanceof At)return e;if(null!=e){if(VO(e))return function mq(e){return new At(t=>{const n=e[co]();if(Ae(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(FO(e))return function _q(e){return new At(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(LO(e))return function vq(e){return new At(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Fo)})}(e);if(UO(e))return WO(e);if(HO(e))return function yq(e){return new At(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(zO(e))return function Cq(e){return WO($O(e))}(e)}throw BO(e)}function WO(e){return new At(t=>{(function wq(e,t){var n,r,i,o;return(0,yd.sH)(this,void 0,void 0,function*(){try{for(n=(0,yd.xN)(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function aa(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function du(e,t=0){return fe((n,r)=>{n.subscribe(xe(r,i=>aa(r,e,()=>r.next(i),t),()=>aa(r,e,()=>r.complete(),t),i=>aa(r,e,()=>r.error(i),t)))})}function Cd(e,t=0){return fe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function GO(e,t){if(!e)throw new Error("Iterable cannot be null");return new At(n=>{aa(n,t,()=>{const r=e[Symbol.asyncIterator]();aa(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function bn(e,t){return t?function Tq(e,t){if(null!=e){if(VO(e))return function Eq(e,t){return ci(e).pipe(Cd(t),du(t))}(e,t);if(FO(e))return function bq(e,t){return new At(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(LO(e))return function Iq(e,t){return ci(e).pipe(Cd(t),du(t))}(e,t);if(UO(e))return GO(e,t);if(HO(e))return function Dq(e,t){return new At(n=>{let r;return aa(n,t,()=>{r=e[jO](),aa(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(e,t);if(zO(e))return function Sq(e,t){return GO($O(e),t)}(e,t)}throw BO(e)}(e,t):ci(e)}function oI(e){return e[e.length-1]}function sI(e){return Ae(oI(e))?e.pop():void 0}function bp(e){return function Aq(e){return e&&Ae(e.schedule)}(oI(e))?e.pop():void 0}function Re(...e){return bn(e,bp(e))}const{isArray:Nq}=Array,{getPrototypeOf:Rq,prototype:xq,keys:Oq}=Object;function qO(e){if(1===e.length){const t=e[0];if(Nq(t))return{args:t,keys:null};if(function Pq(e){return e&&"object"==typeof e&&Rq(e)===xq}(t)){const n=Oq(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:kq}=Array;function KO(e){return Ie(t=>function Fq(e,t){return kq(t)?e(...t):e(t)}(e,t))}function YO(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function aI(...e){const t=bp(e),n=sI(e),{args:r,keys:i}=qO(e);if(0===r.length)return bn([],t);const o=new At(function Lq(e,t,n=Rn){return r=>{QO(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)QO(t,()=>{const d=bn(e[l],t);let f=!1;d.subscribe(xe(r,g=>{o[l]=g,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>YO(i,s):Rn));return n?o.pipe(KO(n)):o}function QO(e,t,n){e?aa(n,e,t):t()}const Nv=Mn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ar(e,t,n=1/0){return Ae(t)?Ar((r,i)=>Ie((o,s)=>t(r,o,i,s))(ci(e(r,i))),n):("number"==typeof t&&(n=t),fe((r,i)=>function Vq(e,t,n,r,i,o,s,a){const l=[];let d=0,f=0,g=!1;const m=()=>{g&&!l.length&&!d&&t.complete()},v=y=>d<r?C(y):l.push(y),C=y=>{o&&t.next(y),d++;let E=!1;ci(n(y,f++)).subscribe(xe(t,M=>{i?.(M),o?v(M):t.next(M)},()=>{E=!0},void 0,()=>{if(E)try{for(d--;l.length&&d<r;){const M=l.shift();s?aa(t,s,()=>C(M)):C(M)}m()}catch(M){t.error(M)}}))};return e.subscribe(xe(t,v,()=>{g=!0,m()})),()=>{a?.()}}(r,i,e,n)))}function wd(e=1/0){return Ar(Rn,e)}function lI(...e){return function Uq(){return wd(1)}()(bn(e,bp(e)))}function ZO(e){return new At(t=>{ci(e()).subscribe(t)})}function Rv(e,t){const n=Ae(e)?e:()=>e,r=i=>i.error(n());return new At(t?i=>t.schedule(r,0,i):r)}const So=new At(e=>e.complete());function uI(){return fe((e,t)=>{let n=null;e._refCount++;const r=xe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class XO extends At{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,he(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Et;const n=this.getSubject();t.add(this.source.subscribe(xe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Et.EMPTY)}return t}refCount(){return uI()(this)}}function qn(e,t){return fe((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(xe(r,l=>{i?.unsubscribe();let d=0;const f=o++;ci(e(l,f)).subscribe(i=xe(r,g=>r.next(t?t(l,g,f,d++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ed(e){return e<=0?()=>So:fe((t,n)=>{let r=0;t.subscribe(xe(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function la(e,t){return fe((n,r)=>{let i=0;n.subscribe(xe(r,o=>e.call(t,o,i++)&&r.next(o)))})}function xv(e){return fe((t,n)=>{let r=!1;t.subscribe(xe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function JO(e=Hq){return fe((t,n)=>{let r=!1;t.subscribe(xe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Hq(){return new Nv}function Qa(e,t){const n=arguments.length>=2;return r=>r.pipe(e?la((i,o)=>e(i,o,r)):Rn,Ed(1),n?xv(t):JO(()=>new Nv))}function Dp(e,t){return Ae(t)?Ar(e,t,1):Ar(e,1)}function Mr(e,t,n){const r=Ae(e)||t||n?{next:e,error:t,complete:n}:e;return r?fe((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(xe(o,l=>{var d;null===(d=r.next)||void 0===d||d.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var d;a=!1,null===(d=r.error)||void 0===d||d.call(r,l),o.error(l)},()=>{var l,d;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):Rn}function Id(e){return fe((t,n)=>{let o,r=null,i=!1;r=t.subscribe(xe(n,void 0,void 0,s=>{o=ci(e(s,Id(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function cI(e,t){return fe(function $q(e,t,n,r,i){return(o,s)=>{let a=n,l=t,d=0;o.subscribe(xe(s,f=>{const g=d++;l=a?e(l,f,g):(a=!0,f),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}function dI(e){return e<=0?()=>So:fe((t,n)=>{let r=[];t.subscribe(xe(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hI(e){return fe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Ke="primary",Sp=Symbol("RouteTitle");class qq{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function bd(e){return new qq(e)}function Kq(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function hs(e,t){const n=e?fI(e):void 0,r=t?fI(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eP(e[i],t[i]))return!1;return!0}function fI(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function eP(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function tP(e){return e.length>0?e[e.length-1]:null}function Za(e){return function pq(e){return!!e&&(e instanceof At||Ae(e.lift)&&Ae(e.subscribe))}(e)?e:pp(e)?bn(Promise.resolve(e)):Re(e)}const Qq={exact:function iP(e,t,n){if(!hu(e.segments,t.segments)||!Ov(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!iP(e.children[r],t.children[r],n))return!1;return!0},subset:oP},nP={exact:function Zq(e,t){return hs(e,t)},subset:function Xq(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>eP(e[n],t[n]))},ignored:()=>!0};function rP(e,t,n){return Qq[n.paths](e.root,t.root,n.matrixParams)&&nP[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function oP(e,t,n){return sP(e,t,t.segments,n)}function sP(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!hu(i,n)||t.hasChildren()||!Ov(i,n,r))}if(e.segments.length===n.length){if(!hu(e.segments,n)||!Ov(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!oP(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(hu(e.segments,i)&&Ov(e.segments,i,r)&&e.children[Ke])&&sP(e.children[Ke],t,o,r)}}function Ov(e,t,n){return t.every((r,i)=>nP[n](e[i].parameters,r.parameters))}class Dd{constructor(t=new Rt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=bd(this.queryParams),this._queryParamMap}toString(){return t5.serialize(this)}}class Rt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pv(this)}}class Tp{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=bd(this.parameters),this._parameterMap}toString(){return uP(this)}}function hu(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Sd=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:()=>new pI,providedIn:"root"})}return e})();class pI{parse(t){const n=new h5(t);return new Dd(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ap(t.root,!0)}`,r=function i5(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${kv(n)}=${kv(i)}`).join("&"):`${kv(n)}=${kv(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function n5(e){return encodeURI(e)}(t.fragment)}`:""}`}}const t5=new pI;function Pv(e){return e.segments.map(t=>uP(t)).join("/")}function Ap(e,t){if(!e.hasChildren())return Pv(e);if(t){const n=e.children[Ke]?Ap(e.children[Ke],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Ke&&r.push(`${i}:${Ap(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function e5(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Ke&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Ke&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Ke?[Ap(e.children[Ke],!1)]:[`${i}:${Ap(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ke]?`${Pv(e)}/${n[0]}`:`${Pv(e)}/(${n.join("//")})`}}function aP(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kv(e){return aP(e).replace(/%3B/gi,";")}function gI(e){return aP(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fv(e){return decodeURIComponent(e)}function lP(e){return Fv(e.replace(/\+/g,"%20"))}function uP(e){return`${gI(e.path)}${function r5(e){return Object.entries(e).map(([t,n])=>`;${gI(t)}=${gI(n)}`).join("")}(e.parameters)}`}const o5=/^[^\/()?;#]+/;function mI(e){const t=e.match(o5);return t?t[0]:""}const s5=/^[^\/()?;=#]+/,l5=/^[^=?&#]+/,c5=/^[^&#]+/;class h5{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Ke]=new Rt(t,n)),r}parseSegment(){const t=mI(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(t),new Tp(Fv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function a5(e){const t=e.match(s5);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=mI(this.remaining);i&&(r=i,this.capture(r))}t[Fv(n)]=Fv(r)}parseQueryParam(t){const n=function u5(e){const t=e.match(l5);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function d5(e){const t=e.match(c5);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=lP(n),o=lP(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ke);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Ke]:new Rt([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new $(4011,!1)}}function cP(e){return e.segments.length>0?new Rt([],{[Ke]:e}):e}function dP(e){const t={};for(const[r,i]of Object.entries(e.children)){const o=dP(i);if(r===Ke&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function f5(e){if(1===e.numberOfChildren&&e.children[Ke]){const t=e.children[Ke];return new Rt(e.segments.concat(t.segments),t.children)}return e}(new Rt(e.segments,t))}function Td(e){return e instanceof Dd}function hP(e){let t;const r=function n(o){const s={};for(const l of o.children){const d=n(l);s[l.outlet]=d}const a=new Rt(o.url,s);return o===e&&(t=a),a}(e.root),i=cP(r);return t??i}function fP(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return _I(i,i,i,n,r);const o=function g5(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new gP(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]="string"==typeof d?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new gP(n,t,r)}(t);if(o.toRoot())return _I(i,i,new Rt([],{}),n,r);const s=function m5(e,t,n){if(e.isAbsolute)return new Vv(t,!0,0);if(!n)return new Vv(t,!1,NaN);if(null===n.parent)return new Vv(n,!0,0);const r=Lv(e.commands[0])?0:1;return function _5(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Vv(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Np(s.segmentGroup,s.index,o.commands):mP(s.segmentGroup,s.index,o.commands);return _I(i,s.segmentGroup,a,n,r)}function Lv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Mp(e){return"object"==typeof e&&null!=e&&e.outlets}function _I(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`}),s=e===t?n:pP(e,t,n);const a=cP(dP(s));return new Dd(a,o,i)}function pP(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:pP(o,t,n)}),new Rt(e.segments,r)}class gP{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Lv(r[0]))throw new $(4003,!1);const i=r.find(Mp);if(i&&i!==tP(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vv{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function mP(e,t,n){if(e??=new Rt([],{}),0===e.segments.length&&e.hasChildren())return Np(e,t,n);const r=function y5(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(Mp(a))break;const l=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!vP(l,d,s))return o;r+=2}else{if(!vP(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new Rt(e.segments.slice(0,r.pathIndex),{});return o.children[Ke]=new Rt(e.segments.slice(r.pathIndex),e.children),Np(o,0,i)}return r.match&&0===i.length?new Rt(e.segments,{}):r.match&&!e.hasChildren()?vI(e,t,n):r.match?Np(e,0,i):vI(e,t,n)}function Np(e,t,n){if(0===n.length)return new Rt(e.segments,{});{const r=function v5(e){return Mp(e[0])?e[0].outlets:{[Ke]:e}}(n),i={};if(Object.keys(r).some(o=>o!==Ke)&&e.children[Ke]&&1===e.numberOfChildren&&0===e.children[Ke].segments.length){const o=Np(e.children[Ke],t,n);return new Rt(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=mP(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Rt(e.segments,i)}}function vI(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Mp(o)){const l=C5(o.outlets);return new Rt(r,l)}if(0===i&&Lv(n[0])){r.push(new Tp(e.segments[t].path,_P(n[0]))),i++;continue}const s=Mp(o)?o.outlets[Ke]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Lv(a)?(r.push(new Tp(s,_P(a))),i+=2):(r.push(new Tp(s,{})),i++)}return new Rt(r,{})}function C5(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=vI(new Rt([],{}),0,r))}),t}function _P(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function vP(e,t,n){return e==n.path&&hs(t,n.parameters)}const Rp="imperative";var st=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(st||{});class fs{constructor(t,n){this.id=t,this.url=n}}class Uv extends fs{constructor(t,n,r="imperative",i=null){super(t,n),this.type=st.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ua extends fs{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=st.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Mi=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Mi||{}),Bv=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Bv||{});class Ad extends fs{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=st.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Md extends fs{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=st.NavigationSkipped}}class jv extends fs{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=st.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yP extends fs{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=st.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w5 extends fs{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=st.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E5 extends fs{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=st.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class I5 extends fs{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=st.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class b5 extends fs{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=st.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D5{constructor(t){this.route=t,this.type=st.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class S5{constructor(t){this.route=t,this.type=st.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class T5{constructor(t){this.snapshot=t,this.type=st.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A5{constructor(t){this.snapshot=t,this.type=st.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M5{constructor(t){this.snapshot=t,this.type=st.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N5{constructor(t){this.snapshot=t,this.type=st.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CP{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=st.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yI{}class CI{constructor(t){this.url=t}}class R5{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new xp,this.attachRef=null}}let xp=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new R5,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class wP{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=wI(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=wI(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=EI(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return EI(t,this._root).map(n=>n.value)}}function wI(e,t){if(e===t.value)return t;for(const n of t.children){const r=wI(e,n);if(r)return r}return null}function EI(e,t){if(e===t.value)return[t];for(const n of t.children){const r=EI(e,n);if(r.length)return r.unshift(t),r}return[]}class To{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Nd(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class EP extends wP{constructor(t,n){super(t),this.snapshot=n,DI(this,t)}toString(){return this.snapshot.toString()}}function IP(e){const t=function x5(e){const o=new bI([],{},{},"",{},Ke,e,null,{});return new bP("",new To(o,[]))}(e),n=new O([new Tp("",{})]),r=new O({}),i=new O({}),o=new O({}),s=new O(""),a=new Rd(n,r,o,s,i,Ke,e,t.root);return a.snapshot=t.root,new EP(new To(a,[]),t)}class Rd{constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ie(d=>d[Sp]))??Re(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ie(t=>bd(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ie(t=>bd(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function II(e,t,n="emptyOnly"){let r;const{routeConfig:i}=e;return r=null===t||"always"!==n&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...i?.data,...e._resolvedData}},i&&SP(i)&&(r.resolve[Sp]=i.title),r}class bI{get title(){return this.data?.[Sp]}constructor(t,n,r,i,o,s,a,l,d){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=bd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=bd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bP extends wP{constructor(t,n){super(n),this.url=t,DI(this,n)}toString(){return DP(this._root)}}function DI(e,t){t.value._routerState=e,t.children.forEach(n=>DI(e,n))}function DP(e){const t=e.children.length>0?` { ${e.children.map(DP).join(", ")} } `:"";return`${e.value}${t}`}function SI(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,hs(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),hs(t.params,n.params)||e.paramsSubject.next(n.params),function Yq(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!hs(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),hs(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function TI(e,t){const n=hs(e.params,t.params)&&function Jq(e,t){return hu(e,t)&&e.every((n,r)=>hs(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||TI(e.parent,t.parent))}function SP(e){return"string"==typeof e.title||null===e.title}let TP=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ke,this.activateEvents=new vn,this.deactivateEvents=new vn,this.attachEvents=new vn,this.detachEvents=new vn,this.parentContexts=X(xp),this.location=X(wo),this.changeDetector=X(gp),this.environmentInjector=X(zr),this.inputBinder=X(Hv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new O5(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Oe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[br]})}return e})();class O5{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(t,n){return t===Rd?this.route:t===xp?this.childContexts:this.parent.get(t,n)}}const Hv=new ue("");let AP=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=aI([r.queryParams,r.params,r.data]).pipe(qn(([o,s,a],l)=>(a={...o,...s,...a},0===l?Re(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function LG(e){const t=qe(e);if(!t)return null;const n=new Qf(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac})}return e})();function Op(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function k5(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Op(e,r,i);return Op(e,r)})}(e,t,n);return new To(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Op(e,a)),s}}const r=function F5(e){return new Rd(new O(e.url),new O(e.params),new O(e.queryParams),new O(e.fragment),new O(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Op(e,o));return new To(r,i)}}const MP="ngNavigationCancelingError";function NP(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Td(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=RP(!1,Mi.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function RP(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[MP]=!0,n.cancellationCode=t,n}function xP(e){return!!e&&e[MP]}let OP=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=ji({type:e,selectors:[["ng-component"]],standalone:!0,features:[ER],decls:1,vars:0,template:function(r,i){1&r&&Pt(0,"router-outlet")},dependencies:[TP],encapsulation:2})}return e})();function AI(e){const t=e.children&&e.children.map(AI),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ke&&(n.component=OP),n}function ps(e){return e.outlet||Ke}function Pp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class z5{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),SI(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Nd(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Nd(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Nd(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Nd(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new N5(o.value.snapshot))}),t.children.length&&this.forwardEvent(new A5(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(SI(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),SI(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Pp(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class PP{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $v{constructor(t,n){this.component=t,this.route=n}}function W5(e,t,n){const r=e._root;return kp(r,t?t._root:null,n,[r.value])}function xd(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function fh(e){return null!==Hu(e)}(e)?t.get(e):e:r}function kp(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Nd(t);return e.children.forEach(s=>{(function q5(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function K5(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!hu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!hu(e.url,t.url)||!hs(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TI(e,t)||!hs(e.queryParams,t.queryParams);default:return!TI(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new PP(r)):(o.data=s.data,o._resolvedData=s._resolvedData),kp(e,t,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $v(a.outlet.component,s))}else s&&Fp(t,a,i),i.canActivateChecks.push(new PP(r)),kp(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Fp(a,n.getContext(s),i)),i}function Fp(e,t,n){const r=Nd(e),i=e.value;Object.entries(r).forEach(([o,s])=>{Fp(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new $v(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Lp(e){return"function"==typeof e}function kP(e){return e instanceof Nv||"EmptyError"===e?.name}const zv=Symbol("INITIAL_VALUE");function Od(){return qn(e=>aI(e.map(t=>t.pipe(Ed(1),function jq(...e){const t=bp(e);return fe((n,r)=>{(t?lI(e,n,t):lI(e,n)).subscribe(r)})}(zv)))).pipe(Ie(t=>{for(const n of t)if(!0!==n){if(n===zv)return zv;if(!1===n||n instanceof Dd)return n}return!0}),la(t=>t!==zv),Ed(1)))}function FP(e){return function Rs(...e){return Dl(e)}(Mr(t=>{if(Td(t))throw NP(0,t)}),Ie(t=>!0===t))}class MI{constructor(t){this.segmentGroup=t||null}}class NI extends Error{constructor(t){super(),this.urlTree=t}}function Pd(e){return Rv(new MI(e))}class f6{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Re(r);if(i.numberOfChildren>1||!i.children[Ke])return Rv(new $(4e3,!1));i=i.children[Ke]}}applyRedirectCommands(t,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new NI(i);return i}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Dd(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new Rt(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const RI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function p6(e,t,n,r,i){const o=xI(e,t,n);return o.matched?(r=function V5(e,t){return e.providers&&!e._injector&&(e._injector=P_(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function c6(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Re(i.map(s=>{const a=xd(s,e);return Za(function e6(e){return e&&Lp(e.canMatch)}(a)?a.canMatch(t,n):Qo(e,()=>a(t,n)))})).pipe(Od(),FP()):Re(!0)}(r,t,n).pipe(Ie(s=>!0===s?o:{...RI}))):Re(o)}function xI(e,t,n){if("**"===t.path)return function g6(e){return{matched:!0,parameters:e.length>0?tP(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...RI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Kq)(n,e,t);if(!i)return{...RI};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function LP(e,t,n,r){return n.length>0&&function v6(e,t,n){return n.some(r=>Wv(e,t,r)&&ps(r)!==Ke)}(e,n,r)?{segmentGroup:new Rt(t,_6(r,new Rt(n,e.children))),slicedSegments:[]}:0===n.length&&function y6(e,t,n){return n.some(r=>Wv(e,t,r))}(e,n,r)?{segmentGroup:new Rt(e.segments,m6(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Rt(e.segments,e.children),slicedSegments:n}}function m6(e,t,n,r){const i={};for(const o of n)if(Wv(e,t,o)&&!r[ps(o)]){const s=new Rt([],{});i[ps(o)]=s}return{...r,...i}}function _6(e,t){const n={};n[Ke]=t;for(const r of e)if(""===r.path&&ps(r)!==Ke){const i=new Rt([],{});n[ps(r)]=i}return n}function Wv(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class E6{}class D6{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new f6(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new $(4002,`'${t.segmentGroup}'`)}recognize(){const t=LP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Ie(n=>{const r=new bI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ke,this.rootComponentType,null,{}),i=new To(r,n),o=new bP("",i),s=function p5(e,t,n=null,r=null){return fP(hP(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Ke).pipe(Id(r=>{if(r instanceof NI)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof MI?this.noMatchError(r):r}))}inheritParamsAndData(t,n){const r=t.value,i=II(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(Ie(o=>o instanceof To?[o]:[]))}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return bn(i).pipe(Dp(o=>{const s=r.children[o],a=function H5(e,t){const n=e.filter(r=>ps(r)===t);return n.push(...e.filter(r=>ps(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),cI((o,s)=>(o.push(...s),o)),xv(null),function zq(e,t){const n=arguments.length>=2;return r=>r.pipe(e?la((i,o)=>e(i,o,r)):Rn,dI(1),n?xv(t):JO(()=>new Nv))}(),Ar(o=>{if(null===o)return Pd(r);const s=VP(o);return function S6(e){e.sort((t,n)=>t.value.outlet===Ke?-1:n.value.outlet===Ke?1:t.value.outlet.localeCompare(n.value.outlet))}(s),Re(s)}))}processSegment(t,n,r,i,o,s){return bn(n).pipe(Dp(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Id(l=>{if(l instanceof MI)return Re(null);throw l}))),Qa(a=>!!a),Id(a=>{if(kP(a))return function w6(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?Re(new E6):Pd(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function C6(e,t,n,r){return!!(ps(e)===r||r!==Ke&&Wv(t,n,e))&&xI(t,e,n).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Pd(i):Pd(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=xI(n,i,o);if(!a)return Pd(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d);return this.applyRedirects.lineralizeSegments(i,g).pipe(Ar(m=>this.processSegment(t,r,n,m.concat(f),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){const s=p6(n,r,i,t);return"**"===r.path&&(n.children={}),s.pipe(qn(a=>a.matched?this.getChildConfig(t=r._injector??t,r,i).pipe(qn(({routes:l})=>{const d=r._loadedInjector??t,{consumedSegments:f,remainingSegments:g,parameters:m}=a,v=new bI(f,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function A6(e){return e.data||{}}(r),ps(r),r.component??r._loadedComponent??null,r,function M6(e){return e.resolve||{}}(r)),{segmentGroup:C,slicedSegments:y}=LP(n,f,g,l);if(0===y.length&&C.hasChildren())return this.processChildren(d,l,C).pipe(Ie(M=>null===M?null:new To(v,M)));if(0===l.length&&0===y.length)return Re(new To(v,[]));const E=ps(r)===o;return this.processSegment(d,l,C,y,E?Ke:o,!0).pipe(Ie(M=>new To(v,M instanceof To?[M]:[])))})):Pd(n)))}getChildConfig(t,n,r){return n.children?Re({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Re({routes:n._loadedRoutes,injector:n._loadedInjector}):function u6(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Re(!0):Re(i.map(s=>{const a=xd(s,e);return Za(function Q5(e){return e&&Lp(e.canLoad)}(a)?a.canLoad(t,n):Qo(e,()=>a(t,n)))})).pipe(Od(),FP())}(t,n,r).pipe(Ar(i=>i?this.configLoader.loadChildren(t,n).pipe(Mr(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function h6(e){return Rv(RP(!1,Mi.GuardRejected))}())):Re({routes:[],injector:t})}}function T6(e){const t=e.value.routeConfig;return t&&""===t.path}function VP(e){const t=[],n=new Set;for(const r of e){if(!T6(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=VP(r.children);t.push(new To(r.value,i))}return t.filter(r=>!n.has(r))}function UP(e){const t=e.children.map(n=>UP(n)).flat();return[e,...t]}function OI(e){return qn(t=>{const n=e(t);return n?bn(n).pipe(Ie(()=>t)):Re(t)})}let BP=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ke);return r}getResolvedTitleForRoute(n){return n.data[Sp]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:()=>X(k6),providedIn:"root"})}return e})(),k6=(()=>{class e extends BP{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(le(cq))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const kd=new ue("",{providedIn:"root",factory:()=>({})}),Fd=new ue("");let PI=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X(tx)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Re(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Za(n.loadComponent()).pipe(Ie(jP),Mr(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),hI(()=>{this.componentLoaders.delete(n)})),i=new XO(r,()=>new N).pipe(uI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function F6(e,t,n,r){return Za(e.loadChildren()).pipe(Ie(jP),Ar(i=>i instanceof gM||Array.isArray(i)?Re(i):bn(t.compileModuleAsync(i))),Ie(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Fd,[],{optional:!0,self:!0}).flat()),{routes:s.map(AI),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(hI(()=>{this.childrenLoaders.delete(r)})),s=new XO(o,()=>new N).pipe(uI());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jP(e){return function L6(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let kI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:()=>X(V6),providedIn:"root"})}return e})(),V6=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const HP=new ue(""),$P=new ue("");function U6(e,t,n){const r=e.get($P),i=e.get(Zi);return e.get(dt).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o;const s=new Promise(d=>{o=d}),a=i.startViewTransition(()=>(o(),function B6(e){return new Promise(t=>{RA(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=r;return l&&Qo(e,()=>l({transition:a,from:t,to:n})),s})}let Gv=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new N,this.transitionAbortSubject=new N,this.configLoader=X(PI),this.environmentInjector=X(zr),this.urlSerializer=X(Sd),this.rootContexts=X(xp),this.location=X(vp),this.inputBindingEnabled=null!==X(Hv,{optional:!0}),this.titleStrategy=X(BP),this.options=X(kd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=X(kI),this.createViewTransition=X(HP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Re(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new S5(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new D5(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new O({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(la(o=>0!==o.id),Ie(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),qn(o=>{let s=!1,a=!1;return Re(o).pipe(qn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Mi.SupersededByNewNavigation),So;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new Md(l.id,this.urlSerializer.serialize(l.rawUrl),g,Bv.IgnoredSameUrlNavigation)),l.resolve(null),So}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Re(l).pipe(qn(g=>{const m=this.transitions?.getValue();return this.events.next(new Uv(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),m!==this.transitions?.getValue()?So:Promise.resolve(g)}),function N6(e,t,n,r,i,o){return Ar(s=>function I6(e,t,n,r,i,o,s="emptyOnly"){return new D6(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(Ie(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Mr(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const m=new yP(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:m,source:v,restoredState:C,extras:y}=l,E=new Uv(g,this.urlSerializer.serialize(m),v,C);this.events.next(E);const M=IP(this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:M,urlAfterRedirects:m,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=m,Re(o)}{const g="";return this.events.next(new Md(l.id,this.urlSerializer.serialize(l.extractedUrl),g,Bv.IgnoredByUrlHandlingStrategy)),l.resolve(null),So}}),Mr(l=>{const d=new w5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Ie(l=>(this.currentTransition=o={...l,guards:W5(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function t6(e,t){return Ar(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Re({...n,guardsResult:!0}):function n6(e,t,n,r){return bn(e).pipe(Ar(i=>function l6(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Re(!0);const s=o.map(a=>{const l=Pp(t)??i,d=xd(a,l);return Za(function J5(e){return e&&Lp(e.canDeactivate)}(d)?d.canDeactivate(e,t,n,r):Qo(l,()=>d(e,t,n,r))).pipe(Qa())});return Re(s).pipe(Od())}(i.component,i.route,n,t,r)),Qa(i=>!0!==i,!0))}(s,r,i,e).pipe(Ar(a=>a&&function Y5(e){return"boolean"==typeof e}(a)?function r6(e,t,n,r){return bn(t).pipe(Dp(i=>lI(function o6(e,t){return null!==e&&t&&t(new T5(e)),Re(!0)}(i.route.parent,r),function i6(e,t){return null!==e&&t&&t(new M5(e)),Re(!0)}(i.route,r),function a6(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function G5(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>ZO(()=>Re(s.guards.map(l=>{const d=Pp(s.node)??n,f=xd(l,d);return Za(function X5(e){return e&&Lp(e.canActivateChild)}(f)?f.canActivateChild(r,e):Qo(d,()=>f(r,e))).pipe(Qa())})).pipe(Od())));return Re(o).pipe(Od())}(e,i.path,n),function s6(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Re(!0);const i=r.map(o=>ZO(()=>{const s=Pp(t)??n,a=xd(o,s);return Za(function Z5(e){return e&&Lp(e.canActivate)}(a)?a.canActivate(t,e):Qo(s,()=>a(t,e))).pipe(Qa())}));return Re(i).pipe(Od())}(e,i.route,n))),Qa(i=>!0!==i,!0))}(r,o,e,t):Re(a)),Ie(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Mr(l=>{if(o.guardsResult=l.guardsResult,Td(l.guardsResult))throw NP(0,l.guardsResult);const d=new E5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),la(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",Mi.GuardRejected),!1)),OI(l=>{if(l.guards.canActivateChecks.length)return Re(l).pipe(Mr(d=>{const f=new I5(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),qn(d=>{let f=!1;return Re(d).pipe(function R6(e,t){return Ar(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Re(n);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const d of UP(l))s.add(d);let a=0;return bn(s).pipe(Dp(l=>o.has(l)?function x6(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!SP(i)&&(o[Sp]=i.title),function O6(e,t,n,r){const i=fI(e);if(0===i.length)return Re({});const o={};return bn(i).pipe(Ar(s=>function P6(e,t,n,r){const i=Pp(t)??r,o=xd(e,i);return Za(o.resolve?o.resolve(t,n):Qo(i,()=>o(t,n)))}(e[s],t,n,r).pipe(Qa(),Mr(a=>{o[s]=a}))),dI(1),function Wq(e){return Ie(()=>e)}(o),Id(s=>kP(s)?So:Rv(s)))}(o,e,t,r).pipe(Ie(s=>(e._resolvedData=s,e.data=II(e,e.parent,n).resolve,null)))}(l,r,e,t):(l.data=II(l,l.parent,e).resolve,Re(void 0))),Mr(()=>a++),dI(1),Ar(l=>a===s.size?Re(n):So))})}(this.paramsInheritanceStrategy,this.environmentInjector),Mr({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",Mi.NoDataFromResolver)}}))}),Mr(d=>{const f=new b5(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),OI(l=>{const d=f=>{const g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(Mr(m=>{f.component=m}),Ie(()=>{})));for(const m of f.children)g.push(...d(m));return g};return aI(d(l.targetSnapshot.root)).pipe(xv(null),Ed(1))}),OI(()=>this.afterPreactivation()),qn(()=>{const{currentSnapshot:l,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?bn(f).pipe(Ie(()=>o)):Re(o)}),Ie(l=>{const d=function P5(e,t,n){const r=Op(e,t._root,n?n._root:void 0);return new EP(r,t)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:d},this.currentNavigation.targetRouterState=d,o}),Mr(()=>{this.events.next(new yI)}),((e,t,n,r)=>Ie(i=>(new z5(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ed(1),Mr({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ua(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function Gq(e){return fe((t,n)=>{ci(e).subscribe(xe(n,()=>n.complete(),ei)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(Mr(l=>{throw l}))),hI(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Mi.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Id(l=>{if(a=!0,xP(l))this.events.next(new Ad(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function L5(e){return xP(e)&&Td(e.url)}(l)?this.events.next(new CI(l.url)):o.resolve(!1);else{this.events.next(new jv(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(l))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return So}))}))}cancelNavigationTransition(n,r,i){const o=new Ad(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function j6(e){return e!==Rp}let H6=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:()=>X(z6),providedIn:"root"})}return e})();class $6{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let z6=(()=>{class e extends $6{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=kn(e)))(i||e)}})();static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zP=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:()=>X(W6),providedIn:"root"})}return e})(),W6=(()=>{class e extends zP{constructor(){super(...arguments),this.location=X(vp),this.urlSerializer=X(Sd),this.options=X(kd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=X(kI),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=IP(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Uv)this.stateMemento=this.createStateMemento();else if(n instanceof Md)this.rawUrlTree=r.initialUrl;else if(n instanceof yP){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof yI?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Ad&&(n.code===Mi.GuardRejected||n.code===Mi.NoDataFromResolver)?this.restoreHistory(r):n instanceof jv?this.restoreHistory(r,!0):n instanceof ua&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&0===o&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=kn(e)))(i||e)}})();static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Vp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Vp||{});function WP(e,t){e.events.pipe(la(n=>n instanceof ua||n instanceof Ad||n instanceof jv||n instanceof Md),Ie(n=>n instanceof ua||n instanceof Md?Vp.COMPLETE:n instanceof Ad&&(n.code===Mi.Redirect||n.code===Mi.SupersededByNewNavigation)?Vp.REDIRECTING:Vp.FAILED),la(n=>n!==Vp.REDIRECTING),Ed(1)).subscribe(()=>{t()})}function G6(e){throw e}const q6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},K6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ao=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=X(WR),this.stateManager=X(zP),this.options=X(kd,{optional:!0})||{},this.pendingTasks=X(Wc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=X(Gv),this.urlSerializer=X(Sd),this.location=X(vp),this.urlHandlingStrategy=X(kI),this._events=new N,this.errorHandler=this.options.errorHandler||G6,this.navigated=!1,this.routeReuseStrategy=X(H6),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=X(Fd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!X(Hv,{optional:!0}),this.eventsSubscription=new Et,this.isNgZoneEnabled=X(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Ad&&r.code!==Mi.Redirect&&r.code!==Mi.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ua)this.navigated=!0;else if(r instanceof CI){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||j6(i.source)};this.scheduleNavigation(s,Rp,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Q6(e){return!(e instanceof yI||e instanceof CI)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(AI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:s;let g,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...o};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}null!==f&&(f=this.removeEmptyProps(f));try{g=hP(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return fP(g,n,f,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Td(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Rp,null,r)}navigate(n,r={skipLocationChange:!1}){return function Y6(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new $(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...q6}:!1===r?{...K6}:r,Td(n))return rP(this.currentUrlTree,n,i);const o=this.parseUrl(n);return rP(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,d;s?(a=s.resolve,l=s.reject,d=s.promise):d=new Promise((g,m)=>{a=g,l=m});const f=this.pendingTasks.add();return WP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class GP{}let J6=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(la(n=>n instanceof ua),Dp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=P_(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return bn(i).pipe(wd())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Re(null);const o=i.pipe(Ar(s=>null===s?Re(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?bn([o,this.loader.loadComponent(r)]).pipe(wd()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(le(Ao),le(tx),le(zr),le(GP),le(PI))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const LI=new ue("");let qP=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Uv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ua?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Md&&n.code===Bv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof CP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new CP(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function YT(){throw new Error("invalid")}()};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac})}return e})();function gs(e,t){return{\u0275kind:e,\u0275providers:t}}function YP(){const e=X(oe);return t=>{const n=e.get(qa);if(t!==n.components[0])return;const r=e.get(Ao),i=e.get(QP);1===e.get(VI)&&r.initialNavigation(),e.get(ZP,null,je.Optional)?.setUpPreloading(),e.get(LI,null,je.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const QP=new ue("",{factory:()=>new N}),VI=new ue("",{providedIn:"root",factory:()=>1}),ZP=new ue("");function r9(e){return gs(0,[{provide:ZP,useExisting:J6},{provide:GP,useExisting:e}])}function o9(e){return gs(9,[{provide:HP,useValue:U6},{provide:$P,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const XP=new ue("ROUTER_FORROOT_GUARD"),s9=[vp,{provide:Sd,useClass:pI},Ao,xp,{provide:Rd,useFactory:function KP(e){return e.routerState.root},deps:[Ao]},PI,[]];let JP=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[s9,[],{provide:Fd,multi:!0,useValue:n},{provide:XP,useFactory:c9,deps:[[Ao,new Ls,new Vs]]},{provide:kd,useValue:r||{}},r?.useHash?{provide:cu,useClass:HG}:{provide:cu,useClass:Gx},{provide:LI,useFactory:()=>{const e=X(u8),t=X(dt),n=X(kd),r=X(Gv),i=X(Sd);return n.scrollOffset&&e.setOffset(n.scrollOffset),new qP(i,r,e,t,n)}},r?.preloadingStrategy?r9(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?d9(r):[],r?.bindToComponentInputs?gs(8,[AP,{provide:Hv,useExisting:AP}]).\u0275providers:[],r?.enableViewTransitions?o9().\u0275providers:[],[{provide:ek,useFactory:YP},{provide:CE,multi:!0,useExisting:ek}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Fd,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(le(XP,8))};static#t=this.\u0275mod=Ci({type:e});static#n=this.\u0275inj=wr({})}return e})();function c9(e){return"guarded"}function d9(e){return["disabled"===e.initialNavigation?gs(3,[{provide:vE,multi:!0,useFactory:()=>{const t=X(Ao);return()=>{t.setUpLocationChangeListener()}}},{provide:VI,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?gs(2,[{provide:VI,useValue:0},{provide:vE,multi:!0,deps:[oe],useFactory:t=>{const n=t.get(BG,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(Ao),o=t.get(QP);WP(i,()=>{r(!0)}),t.get(Gv).afterPreactivation=()=>(r(!0),o.closed?Re(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const ek=new ue(""),f9=[];let p9=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ci({type:e});static#n=this.\u0275inj=wr({imports:[JP.forRoot(f9),JP]})}return e})();function ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tk(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var UI,Nr,an,fn,_s,WI,GI,ak,ck,Hd,qp,l,d,f,g,m,v,e,t,n,r,i,o,s,a,C,Ni={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ld={duration:.5,overwrite:!1,delay:0},eo=1e8,zt=1e-8,BI=2*Math.PI,g9=BI/4,m9=0,nk=Math.sqrt,_9=Math.cos,v9=Math.sin,rr=function(t){return"string"==typeof t},yn=function(t){return"function"==typeof t},da=function(t){return"number"==typeof t},jI=function(t){return typeof t>"u"},ms=function(t){return"object"==typeof t},di=function(t){return!1!==t},HI=function(){return typeof window<"u"},qv=function(t){return yn(t)||rr(t)},rk="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Rr=Array.isArray,$I=/(?:-?\.?\d|\.)+/gi,ik=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Vd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,zI=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ok=/[+-]=-?[.\d]+/,sk=/[^,'"\[\]\s]+/gi,y9=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ri={},Kv={},lk=function(t){return(Kv=pu(t,Ri))&&pi},qI=function(t,n){return console.warn("Invalid property",t,"set to",n,"Missing plugin? gsap.registerPlugin()")},Up=function(t,n){return!n&&console.warn(t)},uk=function(t,n){return t&&(Ri[t]=n)&&Kv&&(Kv[t]=n)||Ri},Bp=function(){return 0},C9={suppressEvents:!0,isStart:!0,kill:!1},Yv={suppressEvents:!0,kill:!1},w9={suppressEvents:!0},KI={},Xa=[],YI={},xi={},QI={},dk=30,Qv=[],ZI="",XI=function(t){var r,i,n=t[0];if(ms(n)||yn(n)||(t=[t]),!(r=(n._gsap||{}).harness)){for(i=Qv.length;i--&&!Qv[i].targetTest(n););r=Qv[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Bk(t[i],r)))||t.splice(i,1);return t},fu=function(t){return t._gsap||XI(ro(t))[0]._gsap},hk=function(t,n,r){return(r=t[n])&&yn(r)?t[n]():jI(r)&&t.getAttribute&&t.getAttribute(n)||r},hi=function(t,n){return(t=t.split(",")).forEach(n)||t},Dn=function(t){return Math.round(1e5*t)/1e5||0},ir=function(t){return Math.round(1e7*t)/1e7||0},Ud=function(t,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return t=parseFloat(t),"+"===r?t+i:"-"===r?t-i:"*"===r?t*i:t/i},E9=function(t,n){for(var r=n.length,i=0;t.indexOf(n[i])<0&&++i<r;);return i<r},Zv=function(){var r,i,t=Xa.length,n=Xa.slice(0);for(YI={},Xa.length=0,r=0;r<t;r++)(i=n[r])&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},fk=function(t,n,r,i){Xa.length&&!Nr&&Zv(),t.render(n,r,i||Nr&&n<0&&(t._initted||t._startAt)),Xa.length&&!Nr&&Zv()},pk=function(t){var n=parseFloat(t);return(n||0===n)&&(t+"").match(sk).length<2?n:rr(t)?t.trim():t},gk=function(t){return t},to=function(t,n){for(var r in n)r in t||(t[r]=n[r]);return t},pu=function(t,n){for(var r in n)t[r]=n[r];return t},mk=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=ms(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Xv=function(t,n){var i,r={};for(i in t)i in n||(r[i]=t[i]);return r},jp=function(t){var n=t.parent||fn,r=t.keyframes?function(t){return function(n,r){for(var i in r)i in n||"duration"===i&&t||"ease"===i||(n[i]=r[i])}}(Rr(t.keyframes)):to;if(di(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},_k=function(t,n,r,i,o){void 0===r&&(r="_first"),void 0===i&&(i="_last");var a,s=t[i];if(o)for(a=n[o];s&&s[o]>a;)s=s._prev;return s?(n._next=s._next,s._next=n):(n._next=t[r],t[r]=n),n._next?n._next._prev=n:t[i]=n,n._prev=s,n.parent=n._dp=t,n},Jv=function(t,n,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var o=n._prev,s=n._next;o?o._next=s:t[r]===n&&(t[r]=s),s?s._prev=o:t[i]===n&&(t[i]=o),n._next=n._prev=n.parent=null},Ja=function(t,n){t.parent&&(!n||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},gu=function(t,n){if(t&&(!n||n._end>t._dur||n._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},JI=function(t,n,r,i){return t._startAt&&(Nr?t._startAt.revert(Yv):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(n,!0,i))},S9=function e(t){return!t||t._ts&&e(t.parent)},vk=function(t){return t._repeat?Bd(t._tTime,t=t.duration()+t._rDelay)*t:0},Bd=function(t,n){var r=Math.floor(t/=n);return t&&r===t?r-1:r},ey=function(t,n){return(t-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},ty=function(t){return t._end=ir(t._start+(t._tDur/Math.abs(t._ts||t._rts||zt)||0))},ny=function(t,n){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=ir(r._time-(t._ts>0?n/t._ts:((t._dirty?t.totalDuration():t._tDur)-n)/-t._ts)),ty(t),r._dirty||gu(r,t)),t},yk=function(t,n){var r;if((n._time||!n._dur&&n._initted||n._start<t._time&&(n._dur||!n.add))&&(r=ey(t.rawTime(),n),(!n._dur||$p(0,n.totalDuration(),r)-n._tTime>zt)&&n.render(r,!0)),gu(t,n)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-zt}},vs=function(t,n,r,i){return n.parent&&Ja(n),n._start=ir((da(r)?r:r||t!==fn?no(t,r,n):t._time)+n._delay),n._end=ir(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),_k(t,n,"_first","_last",t._sort?"_start":0),eb(n)||(t._recent=n),i||yk(t,n),t._ts<0&&ny(t,t._tTime),t},Ck=function(t,n){return(Ri.ScrollTrigger||qI("scrollTrigger",n))&&Ri.ScrollTrigger.create(n,t)},wk=function(t,n,r,i,o){return ub(t,n,o),t._initted?!r&&t._pt&&!Nr&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&ck!==Pi.frame?(Xa.push(t),t._lazy=[o,i],1):void 0:1},T9=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},eb=function(t){var n=t.data;return"isFromStart"===n||"isStart"===n},jd=function(t,n,r,i){var o=t._repeat,s=ir(n)||0,a=t._tTime/t._tDur;return a&&!i&&(t._time*=s/t._dur),t._dur=s,t._tDur=o?o<0?1e10:ir(s*(o+1)+t._rDelay*o):s,a>0&&!i&&ny(t,t._tTime=t._tDur*a),t.parent&&ty(t),r||gu(t.parent,t),t},Ek=function(t){return t instanceof Qr?gu(t):jd(t,t._dur)},N9={_start:0,endTime:Bp,totalDuration:Bp},no=function e(t,n,r){var a,l,d,i=t.labels,o=t._recent||N9,s=t.duration()>=eo?o.endTime(!1):t._dur;return rr(n)&&(isNaN(n)||n in i)?(l=n.charAt(0),d="%"===n.substr(-1),a=n.indexOf("="),"<"===l||">"===l?(a>=0&&(n=n.replace(/=/,"")),("<"===l?o._start:o.endTime(o._repeat>=0))+(parseFloat(n.substr(1))||0)*(d?(a<0?o:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=s),i[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),d&&r&&(l=l/100*(Rr(r)?r[0]:r).totalDuration()),a>1?e(t,n.substr(0,a-1),r)+l:s+l)):null==n?s:+n},Hp=function(t,n,r){var a,l,i=da(n[1]),o=(i?2:1)+(t<2?0:1),s=n[o];if(i&&(s.duration=n[1]),s.parent=r,t){for(a=s,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=di(l.vars.inherit)&&l.parent;s.immediateRender=di(a.immediateRender),t<2?s.runBackwards=1:s.startAt=n[o-1]}return new Vn(n[0],s,n[o+1])},el=function(t,n){return t||0===t?n(t):n},$p=function(t,n,r){return r<t?t:r>n?n:r},xr=function(t,n){return rr(t)&&(n=y9.exec(t))?n[1]:""},tb=[].slice,Ik=function(t,n){return t&&ms(t)&&"length"in t&&(!n&&!t.length||t.length-1 in t&&ms(t[0]))&&!t.nodeType&&t!==_s},ro=function(t,n,r){return an&&!n&&an.selector?an.selector(t):!rr(t)||r||!WI&&$d()?Rr(t)?function(t,n,r){return void 0===r&&(r=[]),t.forEach(function(i){var o;return rr(i)&&!n||Ik(i,1)?(o=r).push.apply(o,ro(i)):r.push(i)})||r}(t,r):Ik(t)?tb.call(t,0):t?[t]:[]:tb.call((n||GI).querySelectorAll(t),0)},nb=function(t){return t=ro(t)[0]||Up("Invalid scope")||{},function(n){var r=t.current||t.nativeElement||t;return ro(n,r.querySelectorAll?r:r===t?Up("Invalid scope")||GI.createElement("div"):t)}},bk=function(t){return t.sort(function(){return.5-Math.random()})},Dk=function(t){if(yn(t))return t;var n=ms(t)?t:{each:t},r=mu(n.ease),i=n.from||0,o=parseFloat(n.base)||0,s={},a=i>0&&i<1,l=isNaN(i)||a,d=n.axis,f=i,g=i;return rr(i)?f=g={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(f=i[0],g=i[1]),function(m,v,C){var M,T,P,U,B,ee,ie,pe,se,y=(C||n).length,E=s[y];if(!E){if(!(se="auto"===n.grid?0:(n.grid||[1,eo])[1])){for(ie=-eo;ie<(ie=C[se++].getBoundingClientRect().left)&&se<y;);se<y&&se--}for(E=s[y]=[],M=l?Math.min(se,y)*f-.5:i%se,T=se===eo?0:l?y*g/se-.5:i/se|0,ie=0,pe=eo,ee=0;ee<y;ee++)P=ee%se-M,U=T-(ee/se|0),E[ee]=B=d?Math.abs("y"===d?U:P):nk(P*P+U*U),B>ie&&(ie=B),B<pe&&(pe=B);"random"===i&&bk(E),E.max=ie-pe,E.min=pe,E.v=y=(parseFloat(n.amount)||parseFloat(n.each)*(se>y?y-1:d?"y"===d?y/se:se:Math.max(se,y/se))||0)*("edges"===i?-1:1),E.b=y<0?o-y:o,E.u=xr(n.amount||n.each)||0,r=r&&y<0?Lk(r):r}return y=(E[m]-E.min)/E.max||0,ir(E.b+(r?r(y):y)*E.v)+E.u}},rb=function(t){var n=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var i=ir(Math.round(parseFloat(r)/t)*t*n);return(i-i%1)/n+(da(r)?0:xr(r))}},Sk=function(t,n){var i,o,r=Rr(t);return!r&&ms(t)&&(i=r=t.radius||eo,t.values?(t=ro(t.values),(o=!da(t[0]))&&(i*=i)):t=rb(t.increment)),el(n,r?yn(t)?function(s){return o=t(s),Math.abs(o-s)<=i?o:s}:function(s){for(var m,v,a=parseFloat(o?s.x:s),l=parseFloat(o?s.y:0),d=eo,f=0,g=t.length;g--;)(m=o?(m=t[g].x-a)*m+(v=t[g].y-l)*v:Math.abs(t[g]-a))<d&&(d=m,f=g);return f=!i||d<=i?t[f]:s,o||f===s||da(s)?f:f+xr(s)}:rb(t))},Tk=function(t,n,r,i){return el(Rr(t)?!n:!0===r?!!(r=0):!i,function(){return Rr(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(n-t+.99*r))/r)*r*i)/i})},Ak=function(t,n,r){return el(r,function(i){return t[~~n(i)]})},zp=function(t){for(var i,o,s,a,n=0,r="";~(i=t.indexOf("random(",n));)s=t.indexOf(")",i),a="["===t.charAt(i+7),o=t.substr(i+7,s-i-7).match(a?sk:$I),r+=t.substr(n,i-n)+Tk(a?o:+o[0],a?0:+o[1],+o[2]||1e-5),n=s+1;return r+t.substr(n,t.length-n)},Mk=function(t,n,r,i,o){var s=n-t,a=i-r;return el(o,function(l){return r+((l-t)/s*a||0)})},Nk=function(t,n,r){var s,a,l,i=t.labels,o=eo;for(s in i)(a=i[s]-n)<0==!!r&&a&&o>(a=Math.abs(a))&&(l=s,o=a);return l},Oi=function(t,n,r){var l,d,f,i=t.vars,o=i[n],s=an,a=t._ctx;if(o)return l=i[n+"Params"],d=i.callbackScope||t,r&&Xa.length&&Zv(),a&&(an=a),f=l?o.apply(d,l):o.call(d),an=s,f},Wp=function(t){return Ja(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Nr),t.progress()<1&&Oi(t,"onInterrupt"),t},Rk=[],xk=function(t){if(t)if(t=!t.name&&t.default||t,HI()||t.headless){var n=t.name,r=yn(t),i=n&&!r&&t.init?function(){this._props=[]}:t,o={init:Bp,render:hb,add:ab,kill:e7,modifier:J9,rawVars:0},s={targetTest:0,get:0,getSetter:db,aliases:{},register:0};if($d(),t!==i){if(xi[n])return;to(i,to(Xv(t,o),s)),pu(i.prototype,pu(o,Xv(t,s))),xi[i.prop=n]=i,t.targetTest&&(Qv.push(i),KI[n]=1),n=("css"===n?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}uk(n,i),t.register&&t.register(pi,i,fi)}else Rk.push(t)},Ft=255,Gp={aqua:[0,Ft,Ft],lime:[0,Ft,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ft],navy:[0,0,128],white:[Ft,Ft,Ft],olive:[128,128,0],yellow:[Ft,Ft,0],orange:[Ft,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ft,0,0],pink:[Ft,192,203],cyan:[0,Ft,Ft],transparent:[Ft,Ft,Ft,0]},ib=function(t,n,r){return(6*(t+=t<0?1:t>1?-1:0)<1?n+(r-n)*t*6:t<.5?r:3*t<2?n+(r-n)*(2/3-t)*6:n)*Ft+.5|0},Ok=function(t,n,r){var o,s,a,l,d,f,g,m,v,C,i=t?da(t)?[t>>16,t>>8&Ft,t&Ft]:0:Gp.black;if(!i){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Gp[t])i=Gp[t];else if("#"===t.charAt(0)){if(t.length<6&&(o=t.charAt(1),s=t.charAt(2),a=t.charAt(3),t="#"+o+o+s+s+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(i=parseInt(t.substr(1,6),16))>>16,i>>8&Ft,i&Ft,parseInt(t.substr(7),16)/255];i=[(t=parseInt(t.substr(1),16))>>16,t>>8&Ft,t&Ft]}else if("hsl"===t.substr(0,3))if(i=C=t.match($I),n){if(~t.indexOf("="))return i=t.match(ik),r&&i.length<4&&(i[3]=1),i}else l=+i[0]%360/360,d=+i[1]/100,o=2*(f=+i[2]/100)-(s=f<=.5?f*(d+1):f+d-f*d),i.length>3&&(i[3]*=1),i[0]=ib(l+1/3,o,s),i[1]=ib(l,o,s),i[2]=ib(l-1/3,o,s);else i=t.match($I)||Gp.transparent;i=i.map(Number)}return n&&!C&&(o=i[0]/Ft,s=i[1]/Ft,a=i[2]/Ft,f=((g=Math.max(o,s,a))+(m=Math.min(o,s,a)))/2,g===m?l=d=0:(v=g-m,d=f>.5?v/(2-g-m):v/(g+m),l=g===o?(s-a)/v+(s<a?6:0):g===s?(a-o)/v+2:(o-s)/v+4,l*=60),i[0]=~~(l+.5),i[1]=~~(100*d+.5),i[2]=~~(100*f+.5)),r&&i.length<4&&(i[3]=1),i},Pk=function(t){var n=[],r=[],i=-1;return t.split(tl).forEach(function(o){var s=o.match(Vd)||[];n.push.apply(n,s),r.push(i+=s.length+1)}),n.c=r,n},kk=function(t,n,r){var l,d,f,g,i="",o=(t+i).match(tl),s=n?"hsla(":"rgba(",a=0;if(!o)return t;if(o=o.map(function(m){return(m=Ok(m,n,1))&&s+(n?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),r&&(f=Pk(t),(l=r.c).join(i)!==f.c.join(i)))for(g=(d=t.replace(tl,"1").split(Vd)).length-1;a<g;a++)i+=d[a]+(~l.indexOf(a)?o.shift()||s+"0,0,0,0)":(f.length?f:o.length?o:r).shift());if(!d)for(g=(d=t.split(tl)).length-1;a<g;a++)i+=d[a]+o[a];return i+d[g]},tl=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Gp)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),U9=/hsl[a]?\(/,Fk=function(t){var r,n=t.join(" ");if(tl.lastIndex=0,tl.test(n))return r=U9.test(n),t[1]=kk(t[1],r),t[0]=kk(t[0],r,Pk(t[1])),!0},Pi=(e=Date.now,t=500,n=33,r=e(),i=r,s=o=1e3/240,C=function y(E){var P,U,B,ee,M=e()-i,T=!0===E;if((M>t||M<0)&&(r+=M-n),((P=(B=(i+=M)-r)-s)>0||T)&&(ee=++g.frame,m=B-1e3*g.time,g.time=B/=1e3,s+=P+(P>=o?4:o-P),U=1),T||(l=d(y)),U)for(v=0;v<a.length;v++)a[v](B,m,ee,E)},g={time:0,frame:0,tick:function(){C(!0)},deltaRatio:function(E){return m/(1e3/(E||60))},wake:function(){ak&&(!WI&&HI()&&(_s=WI=window,GI=_s.document||{},Ri.gsap=pi,(_s.gsapVersions||(_s.gsapVersions=[])).push(pi.version),lk(Kv||_s.GreenSockGlobals||!_s.gsap&&_s||{}),Rk.forEach(xk)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&g.sleep(),d=f||function(E){return setTimeout(E,s-1e3*g.time+1|0)},qp=1,C(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(l),qp=0,d=Bp},lagSmoothing:function(E,M){t=E||1/0,n=Math.min(M||33,t)},fps:function(E){s=1e3*g.time+(o=1e3/(E||240))},add:function(E,M,T){var P=M?function(U,B,ee,ie){E(U,B,ee,ie),g.remove(P)}:E;return g.remove(E),a[T?"unshift":"push"](P),$d(),P},remove:function(E,M){~(M=a.indexOf(E))&&a.splice(M,1)&&v>=M&&v--},_listeners:a=[]}),$d=function(){return!qp&&Pi.wake()},at={},B9=/^[\d.\-M][\d.\-,\s]/,j9=/["']/g,H9=function(t){for(var a,l,d,n={},r=t.substr(1,t.length-3).split(":"),i=r[0],o=1,s=r.length;o<s;o++)l=r[o],a=o!==s-1?l.lastIndexOf(","):l.length,d=l.substr(0,a),n[i]=isNaN(d)?d.replace(j9,"").trim():+d,i=l.substr(a+1).trim();return n},Lk=function(t){return function(n){return 1-t(1-n)}},Vk=function e(t,n){for(var i,r=t._first;r;)r instanceof Qr?e(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?e(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},mu=function(t,n){return t&&(yn(t)?t:at[t]||function(t){var n=(t+"").split("("),r=at[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[H9(n[1])]:function(t){var n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n);return t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)}(t).split(",").map(pk)):at._CE&&B9.test(t)?at._CE("",t):r}(t))||n},_u=function(t,n,r,i){void 0===r&&(r=function(l){return 1-n(1-l)}),void 0===i&&(i=function(l){return l<.5?n(2*l)/2:1-n(2*(1-l))/2});var s,o={easeIn:n,easeOut:r,easeInOut:i};return hi(t,function(a){for(var l in at[a]=Ri[a]=o,at[s=a.toLowerCase()]=r,o)at[s+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=at[a+"."+l]=o[l]}),o},Uk=function(t){return function(n){return n<.5?(1-t(1-2*n))/2:.5+t(2*(n-.5))/2}},ob=function e(t,n,r){var i=n>=1?n:1,o=(r||(t?.3:.45))/(n<1?n:1),s=o/BI*(Math.asin(1/i)||0),a=function(f){return 1===f?1:i*Math.pow(2,-10*f)*v9((f-s)*o)+1},l="out"===t?a:"in"===t?function(d){return 1-a(1-d)}:Uk(a);return o=BI/o,l.config=function(d,f){return e(t,d,f)},l},sb=function e(t,n){void 0===n&&(n=1.70158);var r=function(s){return s?--s*s*((n+1)*s+n)+1:0},i="out"===t?r:"in"===t?function(o){return 1-r(1-o)}:Uk(r);return i.config=function(o){return e(t,o)},i};hi("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;_u(e+",Power"+(n-1),t?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(2*r,n)/2:1-Math.pow(2*(1-r),n)/2})}),at.Linear.easeNone=at.none=at.Linear.easeIn,_u("Elastic",ob("in"),ob("out"),ob()),function(e,t){var o=function(a){return a<.36363636363636365?e*a*a:a<.7272727272727273?e*Math.pow(a-1.5/t,2)+.75:a<.9090909090909092?e*(a-=2.25/t)*a+.9375:e*Math.pow(a-2.625/t,2)+.984375};_u("Bounce",function(s){return 1-o(1-s)},o)}(7.5625,2.75),_u("Expo",function(e){return e?Math.pow(2,10*(e-1)):0}),_u("Circ",function(e){return-(nk(1-e*e)-1)}),_u("Sine",function(e){return 1===e?1:1-_9(e*g9)}),_u("Back",sb("in"),sb("out"),sb()),at.SteppedEase=at.steps=Ri.SteppedEase={config:function(t,n){void 0===t&&(t=1);var r=1/t,i=t+(n?0:1),o=n?1:0;return function(a){return((i*$p(0,.99999999,a)|0)+o)*r}}},Ld.ease=at["quad.out"],hi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return ZI+=e+","+e+"Params,"});var Bk=function(t,n){this.id=m9++,t._gsap=this,this.target=t,this.harness=n,this.get=n?n.get:hk,this.set=n?n.getSetter:db},Kp=function(){function e(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,jd(this,+n.duration,1,1),this.data=n.data,an&&(this._ctx=an,an.data.push(this)),qp||Pi.wake()}var t=e.prototype;return t.delay=function(r){return r||0===r?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},t.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},t.totalDuration=function(r){return arguments.length?(this._dirty=0,jd(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(r,i){if($d(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(ny(this,r),!o._dp||o.parent||yk(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&vs(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===zt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),fk(this,r,i)),this},t.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+vk(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},t.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?r:1-r)+vk(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(r,i){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*o,i):this._repeat?Bd(this._tTime,o)+1:1},t.timeScale=function(r,i){if(!arguments.length)return this._rts===-zt?0:this._rts;if(this._rts===r)return this;var o=this.parent&&this._ts?ey(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-zt?0:this._rts,this.totalTime($p(-Math.abs(this._delay),this._tDur,o),!1!==i),ty(this),function(t){for(var n=t.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return t}(this)},t.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):($d(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==zt&&(this._tTime-=zt)))),this):this._ps},t.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&vs(i,this,r-this._delay),this}return this._start},t.endTime=function(r){return this._start+(di(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ey(i.rawTime(r),this):this._tTime:this._tTime},t.revert=function(r){void 0===r&&(r=w9);var i=Nr;return Nr=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),"nested"!==this.data&&!1!==r.kill&&this.kill(),Nr=i,this},t.globalTime=function(r){for(var i=this,o=arguments.length?r:i.rawTime();i;)o=i._start+o/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):o},t.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Ek(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Ek(this),i?this.time(i):this}return this._rDelay},t.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},t.seek=function(r,i){return this.totalTime(no(this,r),di(i))},t.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,di(i))},t.play=function(r,i){return null!=r&&this.seek(r,i),this.reversed(!1).paused(!1)},t.reverse=function(r,i){return null!=r&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},t.pause=function(r,i){return null!=r&&this.seek(r,i),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-zt:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-zt,this},t.isActive=function(){var o,r=this.parent||this._dp,i=this._start;return!(r&&!(this._ts&&this._initted&&r.isActive()&&(o=r.rawTime(!0))>=i&&o<this.endTime(!0)-zt))},t.eventCallback=function(r,i,o){var s=this.vars;return arguments.length>1?(i?(s[r]=i,o&&(s[r+"Params"]=o),"onUpdate"===r&&(this._onUpdate=i)):delete s[r],this):s[r]},t.then=function(r){var i=this;return new Promise(function(o){var s=yn(r)?r:gk,a=function(){var d=i.then;i.then=null,yn(s)&&(s=s(i))&&(s.then||s===i)&&(i.then=d),o(s),i.then=d};i._initted&&1===i.totalProgress()&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},t.kill=function(){Wp(this)},e}();to(Kp.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-zt,_prom:0,_ps:!1,_rts:1});var Qr=function(e){function t(r,i){var o;return void 0===r&&(r={}),(o=e.call(this,r)||this).labels={},o.smoothChildTiming=!!r.smoothChildTiming,o.autoRemoveChildren=!!r.autoRemoveChildren,o._sort=di(r.sortChildren),fn&&vs(r.parent||fn,ca(o),i),r.reversed&&o.reverse(),r.paused&&o.paused(!0),r.scrollTrigger&&Ck(ca(o),r.scrollTrigger),o}tk(t,e);var n=t.prototype;return n.to=function(i,o,s){return Hp(0,arguments,this),this},n.from=function(i,o,s){return Hp(1,arguments,this),this},n.fromTo=function(i,o,s,a){return Hp(2,arguments,this),this},n.set=function(i,o,s){return o.duration=0,o.parent=this,jp(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Vn(i,o,no(this,s),1),this},n.call=function(i,o,s){return vs(this,Vn.delayedCall(0,i,o),s)},n.staggerTo=function(i,o,s,a,l,d,f){return s.duration=o,s.stagger=s.stagger||a,s.onComplete=d,s.onCompleteParams=f,s.parent=this,new Vn(i,s,no(this,l)),this},n.staggerFrom=function(i,o,s,a,l,d,f){return s.runBackwards=1,jp(s).immediateRender=di(s.immediateRender),this.staggerTo(i,o,s,a,l,d,f)},n.staggerFromTo=function(i,o,s,a,l,d,f,g){return a.startAt=s,jp(a).immediateRender=di(a.immediateRender),this.staggerTo(i,o,a,l,d,f,g)},n.render=function(i,o,s){var m,v,C,y,E,M,T,P,U,B,ee,ie,a=this._time,l=this._dirty?this.totalDuration():this._tDur,d=this._dur,f=i<=0?0:ir(i),g=this._zTime<0!=i<0&&(this._initted||!d);if(this!==fn&&f>l&&i>=0&&(f=l),f!==this._tTime||s||g){if(a!==this._time&&d&&(f+=this._time-a,i+=this._time-a),m=f,U=this._start,M=!(P=this._ts),g&&(d||(a=this._zTime),(i||!o)&&(this._zTime=i)),this._repeat){if(ee=this._yoyo,E=d+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(100*E+i,o,s);if(m=ir(f%E),f===l?(y=this._repeat,m=d):((y=~~(f/E))&&y===f/E&&(m=d,y--),m>d&&(m=d)),B=Bd(this._tTime,E),!a&&this._tTime&&B!==y&&this._tTime-B*E-this._dur<=0&&(B=y),ee&&1&y&&(m=d-m,ie=1),y!==B&&!this._lock){var pe=ee&&1&B,se=pe===(ee&&1&y);if(y<B&&(pe=!pe),a=pe?0:f%d?d:f,this._lock=1,this.render(a||(ie?0:ir(y*E)),o,!d)._lock=0,this._tTime=f,!o&&this.parent&&Oi(this,"onRepeat"),this.vars.repeatRefresh&&!ie&&(this.invalidate()._lock=1),a&&a!==this._time||M!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,l=this._tDur,se&&(this._lock=2,this.render(a=pe?d:-1e-4,!0),this.vars.repeatRefresh&&!ie&&this.invalidate()),this._lock=0,!this._ts&&!M)return this;Vk(this,ie)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(T=function(t,n,r){var i;if(r>n)for(i=t._first;i&&i._start<=r;){if("isPause"===i.data&&i._start>n)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if("isPause"===i.data&&i._start<n)return i;i=i._prev}}(this,ir(a),ir(m)),T&&(f-=m-(m=T._start))),this._tTime=f,this._time=m,this._act=!P,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&m&&!o&&!y&&(Oi(this,"onStart"),this._tTime!==f))return this;if(m>=a&&i>=0)for(v=this._first;v;){if(C=v._next,(v._act||m>=v._start)&&v._ts&&T!==v){if(v.parent!==this)return this.render(i,o,s);if(v.render(v._ts>0?(m-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(m-v._start)*v._ts,o,s),m!==this._time||!this._ts&&!M){T=0,C&&(f+=this._zTime=-zt);break}}v=C}else{v=this._last;for(var ht=i<0?i:m;v;){if(C=v._prev,(v._act||ht<=v._end)&&v._ts&&T!==v){if(v.parent!==this)return this.render(i,o,s);if(v.render(v._ts>0?(ht-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(ht-v._start)*v._ts,o,s||Nr&&(v._initted||v._startAt)),m!==this._time||!this._ts&&!M){T=0,C&&(f+=this._zTime=ht?-zt:zt);break}}v=C}}if(T&&!o&&(this.pause(),T.render(m>=a?0:-zt)._zTime=m>=a?1:-1,this._ts))return this._start=U,ty(this),this.render(i,o,s);this._onUpdate&&!o&&Oi(this,"onUpdate",!0),(f===l&&this._tTime>=this.totalDuration()||!f&&a)&&(U===this._start||Math.abs(P)!==Math.abs(this._ts))&&(this._lock||((i||!d)&&(f===l&&this._ts>0||!f&&this._ts<0)&&Ja(this,1),!o&&(!(i<0)||a)&&(f||a||!l)&&(Oi(this,f===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,o){var s=this;if(da(o)||(o=no(this,o,i)),!(i instanceof Kp)){if(Rr(i))return i.forEach(function(a){return s.add(a,o)}),this;if(rr(i))return this.addLabel(i,o);if(!yn(i))return this;i=Vn.delayedCall(0,i)}return this!==i?vs(this,i,o):this},n.getChildren=function(i,o,s,a){void 0===i&&(i=!0),void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===a&&(a=-eo);for(var l=[],d=this._first;d;)d._start>=a&&(d instanceof Vn?o&&l.push(d):(s&&l.push(d),i&&l.push.apply(l,d.getChildren(!0,o,s)))),d=d._next;return l},n.getById=function(i){for(var o=this.getChildren(1,1,1),s=o.length;s--;)if(o[s].vars.id===i)return o[s]},n.remove=function(i){return rr(i)?this.removeLabel(i):yn(i)?this.killTweensOf(i):(Jv(this,i),i===this._recent&&(this._recent=this._last),gu(this))},n.totalTime=function(i,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ir(Pi.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),e.prototype.totalTime.call(this,i,o),this._forcing=0,this):this._tTime},n.addLabel=function(i,o){return this.labels[i]=no(this,o),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,o,s){var a=Vn.delayedCall(0,o||Bp,s);return a.data="isPause",this._hasPause=1,vs(this,a,no(this,i))},n.removePause=function(i){var o=this._first;for(i=no(this,i);o;)o._start===i&&"isPause"===o.data&&Ja(o),o=o._next},n.killTweensOf=function(i,o,s){for(var a=this.getTweensOf(i,s),l=a.length;l--;)nl!==a[l]&&a[l].kill(i,o);return this},n.getTweensOf=function(i,o){for(var f,s=[],a=ro(i),l=this._first,d=da(o);l;)l instanceof Vn?E9(l._targets,a)&&(d?(!nl||l._initted&&l._ts)&&l.globalTime(0)<=o&&l.globalTime(l.totalDuration())>o:!o||l.isActive())&&s.push(l):(f=l.getTweensOf(a,o)).length&&s.push.apply(s,f),l=l._next;return s},n.tweenTo=function(i,o){o=o||{};var v,s=this,a=no(s,i),d=o.startAt,f=o.onStart,g=o.onStartParams,m=o.immediateRender,C=Vn.to(s,to({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:o.duration||Math.abs((a-(d&&"time"in d?d.time:s._time))/s.timeScale())||zt,onStart:function(){if(s.pause(),!v){var E=o.duration||Math.abs((a-(d&&"time"in d?d.time:s._time))/s.timeScale());C._dur!==E&&jd(C,E,0,1).render(C._time,!0,!0),v=1}f&&f.apply(C,g||[])}},o));return m?C.render(0):C},n.tweenFromTo=function(i,o,s){return this.tweenTo(o,to({startAt:{time:no(this,i)}},s))},n.recent=function(){return this._recent},n.nextLabel=function(i){return void 0===i&&(i=this._time),Nk(this,no(this,i))},n.previousLabel=function(i){return void 0===i&&(i=this._time),Nk(this,no(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+zt)},n.shiftChildren=function(i,o,s){void 0===s&&(s=0);for(var d,a=this._first,l=this.labels;a;)a._start>=s&&(a._start+=i,a._end+=i),a=a._next;if(o)for(d in l)l[d]>=s&&(l[d]+=i);return gu(this)},n.invalidate=function(i){var o=this._first;for(this._lock=0;o;)o.invalidate(i),o=o._next;return e.prototype.invalidate.call(this,i)},n.clear=function(i){void 0===i&&(i=!0);for(var s,o=this._first;o;)s=o._next,this.remove(o),o=s;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),gu(this)},n.totalDuration=function(i){var d,f,g,o=0,s=this,a=s._last,l=eo;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-i:i));if(s._dirty){for(g=s.parent;a;)d=a._prev,a._dirty&&a.totalDuration(),(f=a._start)>l&&s._sort&&a._ts&&!s._lock?(s._lock=1,vs(s,a,f-a._delay,1)._lock=0):l=f,f<0&&a._ts&&(o-=f,(!g&&!s._dp||g&&g.smoothChildTiming)&&(s._start+=f/s._ts,s._time-=f,s._tTime-=f),s.shiftChildren(-f,!1,-1/0),l=0),a._end>o&&a._ts&&(o=a._end),a=d;jd(s,s===fn&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(i){if(fn._ts&&(fk(fn,ey(i,fn)),ck=Pi.frame),Pi.frame>=dk){dk+=Ni.autoSleep||120;var o=fn._first;if((!o||!o._ts)&&Ni.autoSleep&&Pi._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||Pi.sleep()}}},t}(Kp);to(Qr.prototype,{_lock:0,_hasPause:0,_forcing:0});var nl,lb,W9=function(t,n,r,i,o,s,a){var g,m,v,C,y,E,M,T,l=new fi(this._pt,t,n,0,1,Gk,null,o),d=0,f=0;for(l.b=r,l.e=i,r+="",(M=~(i+="").indexOf("random("))&&(i=zp(i)),s&&(s(T=[r,i],t,n),r=T[0],i=T[1]),m=r.match(zI)||[];g=zI.exec(i);)C=g[0],y=i.substring(d,g.index),v?v=(v+1)%5:"rgba("===y.substr(-5)&&(v=1),C!==m[f++]&&(E=parseFloat(m[f-1])||0,l._pt={_next:l._pt,p:y||1===f?y:",",s:E,c:"="===C.charAt(1)?Ud(E,C)-E:parseFloat(C)-E,m:v&&v<4?Math.round:0},d=zI.lastIndex);return l.c=d<i.length?i.substring(d,i.length):"",l.fp=a,(ok.test(i)||M)&&(l.e=0),this._pt=l,l},ab=function(t,n,r,i,o,s,a,l,d,f){yn(i)&&(i=i(o||0,t,s));var C,g=t[n],m="get"!==r?r:yn(g)?d?t[n.indexOf("set")||!yn(t["get"+n.substr(3)])?n:"get"+n.substr(3)](d):t[n]():g,v=yn(g)?d?Q9:zk:cb;if(rr(i)&&(~i.indexOf("random(")&&(i=zp(i)),"="===i.charAt(1)&&((C=Ud(m,i)+(xr(m)||0))||0===C)&&(i=C)),!f||m!==i||lb)return isNaN(m*i)||""===i?(!g&&!(n in t)&&qI(n,i),W9.call(this,t,n,m,i,v,l||Ni.stringFilter,d)):(C=new fi(this._pt,t,n,+m||0,i-(m||0),"boolean"==typeof g?X9:Wk,0,v),d&&(C.fp=d),a&&C.modifier(a,this,t),this._pt=C)},jk=function(t,n,r,i,o,s){var a,l,d,f;if(xi[t]&&!1!==(a=new xi[t]).init(o,a.rawVars?n[t]:function(t,n,r,i,o){if(yn(t)&&(t=Yp(t,o,n,r,i)),!ms(t)||t.style&&t.nodeType||Rr(t)||rk(t))return rr(t)?Yp(t,o,n,r,i):t;var a,s={};for(a in t)s[a]=Yp(t[a],o,n,r,i);return s}(n[t],i,o,s,r),r,i,s)&&(r._pt=l=new fi(r._pt,o,t,0,1,a.render,a,0,a.priority),r!==Hd))for(d=r._ptLookup[r._targets.indexOf(o)],f=a._props.length;f--;)d[a._props[f]]=l;return a},ub=function e(t,n,r){var B,ee,ie,pe,se,ht,un,qt,Kt,mr,ar,Un,lr,i=t.vars,o=i.ease,s=i.startAt,a=i.immediateRender,l=i.lazy,d=i.onUpdate,f=i.runBackwards,g=i.yoyoEase,m=i.keyframes,v=i.autoRevert,C=t._dur,y=t._startAt,E=t._targets,M=t.parent,T=M&&"nested"===M.data?M.vars.targets:E,P="auto"===t._overwrite&&!UI,U=t.timeline;if(U&&(!m||!o)&&(o="none"),t._ease=mu(o,Ld.ease),t._yEase=g?Lk(mu(!0===g?o:g,Ld.ease)):0,g&&t._yoyo&&!t._repeat&&(g=t._yEase,t._yEase=t._ease,t._ease=g),t._from=!U&&!!i.runBackwards,!U||m&&!i.stagger){if(Un=(qt=E[0]?fu(E[0]).harness:0)&&i[qt.prop],B=Xv(i,KI),y&&(y._zTime<0&&y.progress(1),n<0&&f&&a&&!v?y.render(-1,!0):y.revert(f&&C?Yv:C9),y._lazy=0),s){if(Ja(t._startAt=Vn.set(E,to({data:"isStart",overwrite:!1,parent:M,immediateRender:!0,lazy:!y&&di(l),startAt:null,delay:0,onUpdate:d&&function(){return Oi(t,"onUpdate")},stagger:0},s))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Nr||!a&&!v)&&t._startAt.revert(Yv),a&&C&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(f&&C&&!y)if(n&&(a=!1),ie=to({overwrite:!1,data:"isFromStart",lazy:a&&!y&&di(l),immediateRender:a,stagger:0,parent:M},B),Un&&(ie[qt.prop]=Un),Ja(t._startAt=Vn.set(E,ie)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Nr?t._startAt.revert(Yv):t._startAt.render(-1,!0)),t._zTime=n,a){if(!n)return}else e(t._startAt,zt,zt);for(t._pt=t._ptCache=0,l=C&&di(l)||l&&!C,ee=0;ee<E.length;ee++){if(un=(se=E[ee])._gsap||XI(E)[ee]._gsap,t._ptLookup[ee]=mr={},YI[un.id]&&Xa.length&&Zv(),ar=T===E?ee:T.indexOf(se),qt&&!1!==(Kt=new qt).init(se,Un||B,t,ar,T)&&(t._pt=pe=new fi(t._pt,se,Kt.name,0,1,Kt.render,Kt,0,Kt.priority),Kt._props.forEach(function(Oo){mr[Oo]=pe}),Kt.priority&&(ht=1)),!qt||Un)for(ie in B)xi[ie]&&(Kt=jk(ie,B,t,ar,se,T))?Kt.priority&&(ht=1):mr[ie]=pe=ab.call(t,se,ie,"get",B[ie],ar,T,0,i.stringFilter);t._op&&t._op[ee]&&t.kill(se,t._op[ee]),P&&t._pt&&(nl=t,fn.killTweensOf(se,mr,t.globalTime(n)),lr=!t.parent,nl=0),t._pt&&l&&(YI[un.id]=1)}ht&&qk(t),t._onInit&&t._onInit(t)}t._onUpdate=d,t._initted=(!t._op||t._pt)&&!lr,m&&n<=0&&U.render(eo,!0,!0)},Y9=function(t,n,r,i){var s,a,o=n.ease||i||"power1.inOut";if(Rr(n))a=r[t]||(r[t]=[]),n.forEach(function(l,d){return a.push({t:d/(n.length-1)*100,v:l,e:o})});else for(s in n)a=r[s]||(r[s]=[]),"ease"===s||a.push({t:parseFloat(t),v:n[s],e:o})},Yp=function(t,n,r,i,o){return yn(t)?t.call(n,r,i,o):rr(t)&&~t.indexOf("random(")?zp(t):t},Hk=ZI+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",$k={};hi(Hk+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return $k[e]=1});var Vn=function(e){function t(r,i,o,s){var a;"number"==typeof i&&(o.duration=i,i=o,o=null);var U,B,ee,ie,pe,se,ht,un,l=(a=e.call(this,s?i:jp(i))||this).vars,d=l.duration,f=l.delay,g=l.immediateRender,m=l.stagger,v=l.overwrite,C=l.keyframes,y=l.defaults,E=l.scrollTrigger,M=l.yoyoEase,T=i.parent||fn,P=(Rr(r)||rk(r)?da(r[0]):"length"in i)?[r]:ro(r);if(a._targets=P.length?XI(P):Up("GSAP target "+r+" not found. https://gsap.com",!Ni.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=v,C||m||qv(d)||qv(f)){if(i=a.vars,(U=a.timeline=new Qr({data:"nested",defaults:y||{},targets:T&&"nested"===T.data?T.vars.targets:P})).kill(),U.parent=U._dp=ca(a),U._start=0,m||qv(d)||qv(f)){if(ie=P.length,ht=m&&Dk(m),ms(m))for(pe in m)~Hk.indexOf(pe)&&(un||(un={}),un[pe]=m[pe]);for(B=0;B<ie;B++)(ee=Xv(i,$k)).stagger=0,M&&(ee.yoyoEase=M),un&&pu(ee,un),se=P[B],ee.duration=+Yp(d,ca(a),B,se,P),ee.delay=(+Yp(f,ca(a),B,se,P)||0)-a._delay,!m&&1===ie&&ee.delay&&(a._delay=f=ee.delay,a._start+=f,ee.delay=0),U.to(se,ee,ht?ht(B,se,P):0),U._ease=at.none;U.duration()?d=f=0:a.timeline=0}else if(C){jp(to(U.vars.defaults,{ease:"none"})),U._ease=mu(C.ease||i.ease||"none");var Kt,mr,ar,qt=0;if(Rr(C))C.forEach(function(Un){return U.to(P,Un,">")}),U.duration();else{for(pe in ee={},C)"ease"===pe||"easeEach"===pe||Y9(pe,C[pe],ee,C.easeEach);for(pe in ee)for(Kt=ee[pe].sort(function(Un,lr){return Un.t-lr.t}),qt=0,B=0;B<Kt.length;B++)(ar={ease:(mr=Kt[B]).e,duration:(mr.t-(B?Kt[B-1].t:0))/100*d})[pe]=mr.v,U.to(P,ar,qt),qt+=ar.duration;U.duration()<d&&U.to({},{duration:d-U.duration()})}}d||a.duration(d=U.duration())}else a.timeline=0;return!0===v&&!UI&&(nl=ca(a),fn.killTweensOf(P),nl=0),vs(T,ca(a),o),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(g||!d&&!C&&a._start===ir(T._time)&&di(g)&&S9(ca(a))&&"nested"!==T.data)&&(a._tTime=-zt,a.render(Math.max(0,-f)||0)),E&&Ck(ca(a),E),a}tk(t,e);var n=t.prototype;return n.render=function(i,o,s){var m,v,C,y,E,M,T,P,U,a=this._time,l=this._tDur,d=this._dur,f=i<0,g=i>l-zt&&!f?l:i<zt?0:i;if(d){if(g!==this._tTime||!i||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f){if(m=g,P=this.timeline,this._repeat){if(y=d+this._rDelay,this._repeat<-1&&f)return this.totalTime(100*y+i,o,s);if(m=ir(g%y),g===l?(C=this._repeat,m=d):((C=~~(g/y))&&C===ir(g/y)&&(m=d,C--),m>d&&(m=d)),(M=this._yoyo&&1&C)&&(U=this._yEase,m=d-m),E=Bd(this._tTime,y),m===a&&!s&&this._initted&&C===E)return this._tTime=g,this;C!==E&&(P&&this._yEase&&Vk(P,M),this.vars.repeatRefresh&&!M&&!this._lock&&this._time!==y&&this._initted&&(this._lock=s=1,this.render(ir(y*C),!0).invalidate()._lock=0))}if(!this._initted){if(wk(this,f?i:m,s,o,g))return this._tTime=0,this;if(!(a===this._time||s&&this.vars.repeatRefresh&&C!==E))return this;if(d!==this._dur)return this.render(i,o,s)}if(this._tTime=g,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=T=(U||this._ease)(m/d),this._from&&(this.ratio=T=1-T),m&&!a&&!o&&!C&&(Oi(this,"onStart"),this._tTime!==g))return this;for(v=this._pt;v;)v.r(T,v.d),v=v._next;P&&P.render(i<0?i:P._dur*P._ease(m/this._dur),o,s)||this._startAt&&(this._zTime=i),this._onUpdate&&!o&&(f&&JI(this,i,0,s),Oi(this,"onUpdate")),this._repeat&&C!==E&&this.vars.onRepeat&&!o&&this.parent&&Oi(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(f&&!this._onUpdate&&JI(this,i,0,!0),(i||!d)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Ja(this,1),!o&&(!f||a)&&(g||a||M)&&(Oi(this,g===l?"onComplete":"onReverseComplete",!0),this._prom&&!(g<l&&this.timeScale()>0)&&this._prom()))}}else!function(t,n,r,i){var d,f,g,o=t.ratio,s=n<0||!n&&(!t._start&&T9(t)&&(t._initted||!eb(t))||(t._ts<0||t._dp._ts<0)&&!eb(t))?0:1,a=t._rDelay,l=0;if(a&&t._repeat&&(l=$p(0,t._tDur,n),f=Bd(l,a),t._yoyo&&1&f&&(s=1-s),f!==Bd(t._tTime,a)&&(o=1-s,t.vars.repeatRefresh&&t._initted&&t.invalidate())),s!==o||Nr||i||t._zTime===zt||!n&&t._zTime){if(!t._initted&&wk(t,n,i,r,l))return;for(g=t._zTime,t._zTime=n||(r?zt:0),r||(r=n&&!g),t.ratio=s,t._from&&(s=1-s),t._time=0,t._tTime=l,d=t._pt;d;)d.r(s,d.d),d=d._next;n<0&&JI(t,n,0,!0),t._onUpdate&&!r&&Oi(t,"onUpdate"),l&&t._repeat&&!r&&t.parent&&Oi(t,"onRepeat"),(n>=t._tDur||n<0)&&t.ratio===s&&(s&&Ja(t,1),!r&&!Nr&&(Oi(t,s?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=n)}(this,i,o,s);return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),e.prototype.invalidate.call(this,i)},n.resetTo=function(i,o,s,a,l){qp||Pi.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||ub(this,d),function(t,n,r,i,o,s,a,l){var f,g,m,v,d=(t._pt&&t._ptCache||(t._ptCache={}))[n];if(!d)for(d=t._ptCache[n]=[],m=t._ptLookup,v=t._targets.length;v--;){if((f=m[v][n])&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==n&&f.fp!==n;)f=f._next;if(!f)return lb=1,t.vars[n]="+=0",ub(t,a),lb=0,l?Up(n+" not eligible for reset"):1;d.push(f)}for(v=d.length;v--;)(f=(g=d[v])._pt||g).s=!i&&0!==i||o?f.s+(i||0)+s*f.c:i,f.c=r-f.s,g.e&&(g.e=Dn(r)+xr(g.e)),g.b&&(g.b=f.s+xr(g.b))}(this,i,o,s,a,this._ease(d/this._dur),d,l)?this.resetTo(i,o,s,a,1):(ny(this,0),this.parent||_k(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,o){if(void 0===o&&(o="all"),!(i||o&&"all"!==o))return this._lazy=this._pt=0,this.parent?Wp(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(i,o,nl&&!0!==nl.vars.overwrite)._first||Wp(this),this.parent&&s!==this.timeline.totalDuration()&&jd(this,this._dur*this.timeline._tDur/s,0,1),this}var g,m,v,C,y,E,M,a=this._targets,l=i?ro(i):a,d=this._ptLookup,f=this._pt;if((!o||"all"===o)&&function(t,n){for(var r=t.length,i=r===n.length;i&&r--&&t[r]===n[r];);return r<0}(a,l))return"all"===o&&(this._pt=0),Wp(this);for(g=this._op=this._op||[],"all"!==o&&(rr(o)&&(y={},hi(o,function(T){return y[T]=1}),o=y),o=function(t,n){var o,s,a,l,r=t[0]?fu(t[0]).harness:0,i=r&&r.aliases;if(!i)return n;for(s in o=pu({},n),i)if(s in o)for(a=(l=i[s].split(",")).length;a--;)o[l[a]]=o[s];return o}(a,o)),M=a.length;M--;)if(~l.indexOf(a[M]))for(y in m=d[M],"all"===o?(g[M]=o,C=m,v={}):(v=g[M]=g[M]||{},C=o),C)(E=m&&m[y])&&((!("kill"in E.d)||!0===E.d.kill(y))&&Jv(this,E,"_pt"),delete m[y]),"all"!==v&&(v[y]=1);return this._initted&&!this._pt&&f&&Wp(this),this},t.to=function(i,o){return new t(i,o,arguments[2])},t.from=function(i,o){return Hp(1,arguments)},t.delayedCall=function(i,o,s,a){return new t(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:o,onReverseComplete:o,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},t.fromTo=function(i,o,s){return Hp(2,arguments)},t.set=function(i,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new t(i,o)},t.killTweensOf=function(i,o,s){return fn.killTweensOf(i,o,s)},t}(Kp);to(Vn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),hi("staggerTo,staggerFrom,staggerFromTo",function(e){Vn[e]=function(){var t=new Qr,n=tb.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}});var cb=function(t,n,r){return t[n]=r},zk=function(t,n,r){return t[n](r)},Q9=function(t,n,r,i){return t[n](i.fp,r)},Z9=function(t,n,r){return t.setAttribute(n,r)},db=function(t,n){return yn(t[n])?zk:jI(t[n])&&t.setAttribute?Z9:cb},Wk=function(t,n){return n.set(n.t,n.p,Math.round(1e6*(n.s+n.c*t))/1e6,n)},X9=function(t,n){return n.set(n.t,n.p,!!(n.s+n.c*t),n)},Gk=function(t,n){var r=n._pt,i="";if(!t&&n.b)i=n.b;else if(1===t&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},hb=function(t,n){for(var r=n._pt;r;)r.r(t,r.d),r=r._next},J9=function(t,n,r,i){for(var s,o=this._pt;o;)s=o._next,o.p===i&&o.modifier(t,n,r),o=s},e7=function(t){for(var r,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?Jv(this,n,"_pt"):n.dep||(r=1),n=i;return!r},t7=function(t,n,r,i){i.mSet(t,n,i.m.call(i.tween,r,i.mt),i)},qk=function(t){for(var r,i,o,s,n=t._pt;n;){for(r=n._next,i=o;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:s)?n._prev._next=n:o=n,(n._next=i)?i._prev=n:s=n,n=r}t._pt=o},fi=function(){function e(n,r,i,o,s,a,l,d,f){this.t=r,this.s=o,this.c=s,this.p=i,this.r=a||Wk,this.d=l||this,this.set=d||cb,this.pr=f||0,this._next=n,n&&(n._prev=this)}return e.prototype.modifier=function(r,i,o){this.mSet=this.mSet||this.set,this.set=t7,this.m=r,this.mt=o,this.tween=i},e}();hi(ZI+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return KI[e]=1}),Ri.TweenMax=Ri.TweenLite=Vn,Ri.TimelineLite=Ri.TimelineMax=Qr,fn=new Qr({sortChildren:!1,defaults:Ld,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Ni.stringFilter=Fk;var vu=[],ry={},n7=[],Kk=0,r7=0,fb=function(t){return(ry[t]||n7).map(function(n){return n()})},pb=function(){var t=Date.now(),n=[];t-Kk>2&&(fb("matchMediaInit"),vu.forEach(function(r){var s,a,l,d,i=r.queries,o=r.conditions;for(a in i)(s=_s.matchMedia(i[a]).matches)&&(l=1),s!==o[a]&&(o[a]=s,d=1);d&&(r.revert(),l&&n.push(r))}),fb("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),Kk=t,fb("matchMedia"))},Yk=function(){function e(n,r){this.selector=r&&nb(r),this.data=[],this._r=[],this.isReverted=!1,this.id=r7++,n&&this.add(n)}var t=e.prototype;return t.add=function(r,i,o){yn(r)&&(o=i,i=r,r=yn);var s=this,a=function(){var g,d=an,f=s.selector;return d&&d!==s&&d.data.push(s),o&&(s.selector=nb(o)),an=s,g=i.apply(s,arguments),yn(g)&&s._r.push(g),an=d,s.selector=f,s.isReverted=!1,g};return s.last=a,r===yn?a(s,function(l){return s.add(null,l)}):r?s[r]=a:a},t.ignore=function(r){var i=an;an=null,r(this),an=i},t.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof e?r.push.apply(r,i.getTweens()):i instanceof Vn&&!(i.parent&&"nested"===i.parent.data)&&r.push(i)}),r},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(r,i){var o=this;if(r?function(){for(var d,a=o.getTweens(),l=o.data.length;l--;)"isFlip"===(d=o.data[l]).data&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(f){return a.splice(a.indexOf(f),1)}));for(a.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,g){return g.g-f.g||-1/0}).forEach(function(f){return f.t.revert(r)}),l=o.data.length;l--;)(d=o.data[l])instanceof Qr?"nested"!==d.data&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Vn)&&d.revert&&d.revert(r);o._r.forEach(function(f){return f(r,o)}),o.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var s=vu.length;s--;)vu[s].id===this.id&&vu.splice(s,1)},t.revert=function(r){this.kill(r||{})},e}(),i7=function(){function e(n){this.contexts=[],this.scope=n,an&&an.data.push(this)}var t=e.prototype;return t.add=function(r,i,o){ms(r)||(r={matches:r});var l,d,f,s=new Yk(0,o||this.scope),a=s.conditions={};for(d in an&&!s.selector&&(s.selector=an.selector),this.contexts.push(s),i=s.add("onMatch",i),s.queries=r,r)"all"===d?f=1:(l=_s.matchMedia(r[d]))&&(vu.indexOf(s)<0&&vu.push(s),(a[d]=l.matches)&&(f=1),l.addListener?l.addListener(pb):l.addEventListener("change",pb));return f&&i(s,function(g){return s.add(null,g)}),this},t.revert=function(r){this.kill(r||{})},t.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},e}(),iy={registerPlugin:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(i){return xk(i)})},timeline:function(t){return new Qr(t)},getTweensOf:function(t,n){return fn.getTweensOf(t,n)},getProperty:function(t,n,r,i){rr(t)&&(t=ro(t)[0]);var o=fu(t||{}).get,s=r?gk:pk;return"native"===r&&(r=""),t&&(n?s((xi[n]&&xi[n].get||o)(t,n,r,i)):function(a,l,d){return s((xi[a]&&xi[a].get||o)(t,a,l,d))})},quickSetter:function(t,n,r){if((t=ro(t)).length>1){var i=t.map(function(f){return pi.quickSetter(f,n,r)}),o=i.length;return function(f){for(var g=o;g--;)i[g](f)}}var s=xi[n],a=fu(t=t[0]||{}),l=a.harness&&(a.harness.aliases||{})[n]||n,d=s?function(f){var g=new s;Hd._pt=0,g.init(t,r?f+r:f,Hd,0,[t]),g.render(1,g),Hd._pt&&hb(1,Hd)}:a.set(t,l);return s?d:function(f){return d(t,l,r?f+r:f,a,1)}},quickTo:function(t,n,r){var i,o=pi.to(t,pu(((i={})[n]="+=0.1",i.paused=!0,i),r||{})),s=function(l,d,f){return o.resetTo(n,l,d,f)};return s.tween=o,s},isTweening:function(t){return fn.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=mu(t.ease,Ld.ease)),mk(Ld,t||{})},config:function(t){return mk(Ni,t||{})},registerEffect:function(t){var n=t.name,r=t.effect,o=t.defaults,s=t.extendTimeline;(t.plugins||"").split(",").forEach(function(a){return a&&!xi[a]&&!Ri[a]&&Up(n+" effect requires "+a+" plugin.")}),QI[n]=function(a,l,d){return r(ro(a),to(l||{},o),d)},s&&(Qr.prototype[n]=function(a,l,d){return this.add(QI[n](a,ms(l)?l:(d=l)&&{},this),d)})},registerEase:function(t,n){at[t]=mu(n)},parseEase:function(t,n){return arguments.length?mu(t,n):at},getById:function(t){return fn.getById(t)},exportRoot:function(t,n){void 0===t&&(t={});var i,o,r=new Qr(t);for(r.smoothChildTiming=di(t.smoothChildTiming),fn.remove(r),r._dp=0,r._time=r._tTime=fn._time,i=fn._first;i;)o=i._next,(n||!(!i._dur&&i instanceof Vn&&i.vars.onComplete===i._targets[0]))&&vs(r,i,i._start-i._delay),i=o;return vs(fn,r,0),r},context:function(t,n){return t?new Yk(t,n):an},matchMedia:function(t){return new i7(t)},matchMediaRefresh:function(){return vu.forEach(function(t){var r,i,n=t.conditions;for(i in n)n[i]&&(n[i]=!1,r=1);r&&t.revert()})||pb()},addEventListener:function(t,n){var r=ry[t]||(ry[t]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(t,n){var r=ry[t],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:function e(t,n,r){var i=n-t;return Rr(t)?Ak(t,e(0,t.length),n):el(r,function(o){return(i+(o-t)%i)%i+t})},wrapYoyo:function e(t,n,r){var i=n-t,o=2*i;return Rr(t)?Ak(t,e(0,t.length-1),n):el(r,function(s){return t+((s=(o+(s-t)%o)%o||0)>i?o-s:s)})},distribute:Dk,random:Tk,snap:Sk,normalize:function(t,n,r){return Mk(t,n,0,1,r)},getUnit:xr,clamp:function(t,n,r){return el(r,function(i){return $p(t,n,i)})},splitColor:Ok,toArray:ro,selector:nb,mapRange:Mk,pipe:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduce(function(o,s){return s(o)},i)}},unitize:function(t,n){return function(r){return t(parseFloat(r))+(n||xr(r))}},interpolate:function e(t,n,r,i){var o=isNaN(t+n)?0:function(v){return(1-v)*t+v*n};if(!o){var l,d,f,g,m,s=rr(t),a={};if(!0===r&&(i=1)&&(r=null),s)t={p:t},n={p:n};else if(Rr(t)&&!Rr(n)){for(f=[],m=(g=t.length)-2,d=1;d<g;d++)f.push(e(t[d-1],t[d]));g--,o=function(C){C*=g;var y=Math.min(m,~~C);return f[y](C-y)},r=n}else i||(t=pu(Rr(t)?[]:{},t));if(!f){for(l in n)ab.call(a,t,l,"get",n[l]);o=function(C){return hb(C,a)||(s?t.p:t)}}}return el(r,o)},shuffle:bk},install:lk,effects:QI,ticker:Pi,updateRoot:Qr.updateRoot,plugins:xi,globalTimeline:fn,core:{PropTween:fi,globals:uk,Tween:Vn,Timeline:Qr,Animation:Kp,getCache:fu,_removeLinkedListItem:Jv,reverting:function(){return Nr},context:function(t){return t&&an&&(an.data.push(t),t._ctx=an),an},suppressOverwrites:function(t){return UI=t}}};hi("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return iy[e]=Vn[e]}),Pi.add(Qr.updateRoot),Hd=iy.to({},{duration:0});var o7=function(t,n){for(var r=t._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},gb=function(t,n){return{name:t,rawVars:1,init:function(i,o,s){s._onInit=function(a){var l,d;if(rr(o)&&(l={},hi(o,function(f){return l[f]=1}),o=l),n){for(d in l={},o)l[d]=n(o[d]);o=l}!function(t,n){var i,o,s,r=t._targets;for(i in n)for(o=r.length;o--;)(s=t._ptLookup[o][i])&&(s=s.d)&&(s._pt&&(s=o7(s,i)),s&&s.modifier&&s.modifier(n[i],t,r[o],i))}(a,o)}}}},pi=iy.registerPlugin({name:"attr",init:function(t,n,r,i,o){var s,a,l;for(s in this.tween=r,n)l=t.getAttribute(s)||"",(a=this.add(t,"setAttribute",(l||0)+"",n[s],i,o,0,0,s)).op=s,a.b=l,this._props.push(s)},render:function(t,n){for(var r=n._pt;r;)Nr?r.set(r.t,r.p,r.b,r):r.r(t,r.d),r=r._next}},{name:"endArray",init:function(t,n){for(var r=n.length;r--;)this.add(t,r,t[r]||0,n[r],0,0,0,0,0,1)}},gb("roundProps",rb),gb("modifiers"),gb("snap",Sk))||iy;Vn.version=Qr.version=pi.version="3.12.5",ak=1,HI()&&$d();var Qk,rl,zd,mb,yu,Zk,_b,r1,ha={},Cu=180/Math.PI,Wd=Math.PI/180,Gd=Math.atan2,Xk=1e8,vb=/([A-Z])/g,u7=/(left|right|width|margin|padding|x)/i,c7=/[\s,\(]\S/,ys={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},yb=function(t,n){return n.set(n.t,n.p,Math.round(1e4*(n.s+n.c*t))/1e4+n.u,n)},d7=function(t,n){return n.set(n.t,n.p,1===t?n.e:Math.round(1e4*(n.s+n.c*t))/1e4+n.u,n)},h7=function(t,n){return n.set(n.t,n.p,t?Math.round(1e4*(n.s+n.c*t))/1e4+n.u:n.b,n)},f7=function(t,n){var r=n.s+n.c*t;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},Jk=function(t,n){return n.set(n.t,n.p,t?n.e:n.b,n)},e1=function(t,n){return n.set(n.t,n.p,1!==t?n.b:n.e,n)},p7=function(t,n,r){return t.style[n]=r},g7=function(t,n,r){return t.style.setProperty(n,r)},m7=function(t,n,r){return t._gsap[n]=r},_7=function(t,n,r){return t._gsap.scaleX=t._gsap.scaleY=r},v7=function(t,n,r,i,o){var s=t._gsap;s.scaleX=s.scaleY=r,s.renderTransform(o,s)},y7=function(t,n,r,i,o){var s=t._gsap;s[n]=r,s.renderTransform(o,s)},pn="transform",gi=pn+"Origin",C7=function e(t,n){var r=this,i=this.target,o=i.style,s=i._gsap;if(t in ha&&o){if(this.tfm=this.tfm||{},"transform"===t)return ys.transform.split(",").forEach(function(a){return e.call(r,a,n)});if(~(t=ys[t]||t).indexOf(",")?t.split(",").forEach(function(a){return r.tfm[a]=fa(i,a)}):this.tfm[t]=s.x?s[t]:fa(i,t),t===gi&&(this.tfm.zOrigin=s.zOrigin),this.props.indexOf(pn)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(gi,n,"")),t=pn}(o||n)&&this.props.push(t,n,o[t])},t1=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},w7=function(){var o,s,t=this.props,n=this.target,r=n.style,i=n._gsap;for(o=0;o<t.length;o+=3)t[o+1]?n[t[o]]=t[o+2]:t[o+2]?r[t[o]]=t[o+2]:r.removeProperty("--"===t[o].substr(0,2)?t[o]:t[o].replace(vb,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)i[s]=this.tfm[s];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(!(o=_b())||!o.isStart)&&!r[pn]&&(t1(r),i.zOrigin&&r[gi]&&(r[gi]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},n1=function(t,n){var r={target:t,props:[],revert:w7,save:C7};return t._gsap||pi.core.getCache(t),n&&n.split(",").forEach(function(i){return r.save(i)}),r},Cb=function(t,n){var r=rl.createElementNS?rl.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):rl.createElement(t);return r&&r.style?r:rl.createElement(t)},Cs=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(vb,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,qd(n)||n,1)||""},i1="O,Moz,ms,Ms,Webkit".split(","),qd=function(t,n,r){var o=(n||yu).style,s=5;if(t in o&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(i1[s]+t in o););return s<0?null:(3===s?"ms":s>=0?i1[s]:"")+t},wb=function(){typeof window<"u"&&window.document&&(Qk=window,zd=(rl=Qk.document).documentElement,yu=Cb("div")||{style:{}},Cb("div"),pn=qd(pn),gi=pn+"Origin",yu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",r1=!!qd("perspective"),_b=pi.core.reverting,mb=1)},Eb=function e(t){var s,n=Cb("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,o=this.style.cssText;if(zd.appendChild(n),n.appendChild(this),this.style.display="block",t)try{s=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch{}else this._gsapBBox&&(s=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),zd.removeChild(n),this.style.cssText=o,s},o1=function(t,n){for(var r=n.length;r--;)if(t.hasAttribute(n[r]))return t.getAttribute(n[r])},s1=function(t){var n;try{n=t.getBBox()}catch{n=Eb.call(t,!0)}return n&&(n.width||n.height)||t.getBBox===Eb||(n=Eb.call(t,!0)),!n||n.width||n.x||n.y?n:{x:+o1(t,["x","cx","x1"])||0,y:+o1(t,["y","cy","y1"])||0,width:0,height:0}},a1=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!s1(t))},wu=function(t,n){if(n){var i,r=t.style;n in ha&&n!==gi&&(n=pn),r.removeProperty?(("ms"===(i=n.substr(0,2))||"webkit"===n.substr(0,6))&&(n="-"+n),r.removeProperty("--"===i?n:n.replace(vb,"-$1").toLowerCase())):r.removeAttribute(n)}},il=function(t,n,r,i,o,s){var a=new fi(t._pt,n,r,0,1,s?e1:Jk);return t._pt=a,a.b=i,a.e=o,t._props.push(r),a},l1={deg:1,rad:1,turn:1},E7={grid:1,flex:1},ol=function e(t,n,r,i){var C,y,E,M,o=parseFloat(r)||0,s=(r+"").trim().substr((o+"").length)||"px",a=yu.style,l=u7.test(n),d="svg"===t.tagName.toLowerCase(),f=(d?"client":"offset")+(l?"Width":"Height"),g=100,m="px"===i,v="%"===i;if(i===s||!o||l1[i]||l1[s])return o;if("px"!==s&&!m&&(o=e(t,n,r,"px")),M=t.getCTM&&a1(t),(v||"%"===s)&&(ha[n]||~n.indexOf("adius")))return C=M?t.getBBox()[l?"width":"height"]:t[f],Dn(v?o/C*g:o/100*C);if(a[l?"width":"height"]=g+(m?s:i),y=~n.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,M&&(y=(t.ownerSVGElement||{}).parentNode),(!y||y===rl||!y.appendChild)&&(y=rl.body),(E=y._gsap)&&v&&E.width&&l&&E.time===Pi.time&&!E.uncache)return Dn(o/E.width*g);if(!v||"height"!==n&&"width"!==n)(v||"%"===s)&&!E7[Cs(y,"display")]&&(a.position=Cs(t,"position")),y===t&&(a.position="static"),y.appendChild(yu),C=yu[f],y.removeChild(yu),a.position="absolute";else{var T=t.style[n];t.style[n]=g+i,C=t[f],T?t.style[n]=T:wu(t,n)}return l&&v&&((E=fu(y)).time=Pi.time,E.width=y[f]),Dn(m?C*o/g:C&&o?g/C*o:0)},fa=function(t,n,r,i){var o;return mb||wb(),n in ys&&"transform"!==n&&~(n=ys[n]).indexOf(",")&&(n=n.split(",")[0]),ha[n]&&"transform"!==n?(o=Zp(t,i),o="transformOrigin"!==n?o[n]:o.svg?o.origin:sy(Cs(t,gi))+" "+o.zOrigin+"px"):(!(o=t.style[n])||"auto"===o||i||~(o+"").indexOf("calc("))&&(o=oy[n]&&oy[n](t,n,r)||Cs(t,n)||hk(t,n)||("opacity"===n?1:0)),r&&!~(o+"").trim().indexOf(" ")?ol(t,n,o,r)+r:o},I7=function(t,n,r,i){if(!r||"none"===r){var o=qd(n,t,1),s=o&&Cs(t,o,1);s&&s!==r?(n=o,r=s):"borderColor"===n&&(r=Cs(t,"borderTopColor"))}var f,g,m,v,C,y,E,M,T,P,U,a=new fi(this._pt,t.style,n,0,1,Gk),l=0,d=0;if(a.b=r,a.e=i,r+="","auto"==(i+="")&&(y=t.style[n],t.style[n]=i,i=Cs(t,n)||i,y?t.style[n]=y:wu(t,n)),Fk(f=[r,i]),i=f[1],m=(r=f[0]).match(Vd)||[],(i.match(Vd)||[]).length){for(;g=Vd.exec(i);)E=g[0],T=i.substring(l,g.index),C?C=(C+1)%5:("rgba("===T.substr(-5)||"hsla("===T.substr(-5))&&(C=1),E!==(y=m[d++]||"")&&(v=parseFloat(y)||0,U=y.substr((v+"").length),"="===E.charAt(1)&&(E=Ud(v,E)+U),M=parseFloat(E),P=E.substr((M+"").length),l=Vd.lastIndex-P.length,P||(P=P||Ni.units[n]||U,l===i.length&&(i+=P,a.e+=P)),U!==P&&(v=ol(t,n,y,P)||0),a._pt={_next:a._pt,p:T||1===d?T:",",s:v,c:M-v,m:C&&C<4||"zIndex"===n?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r="display"===n&&"none"===i?e1:Jk;return ok.test(i)&&(a.e=0),this._pt=a,a},u1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},b7=function(t){var n=t.split(" "),r=n[0],i=n[1]||"50%";return("top"===r||"bottom"===r||"left"===i||"right"===i)&&(t=r,r=i,i=t),n[0]=u1[r]||r,n[1]=u1[i]||i,n.join(" ")},D7=function(t,n){if(n.tween&&n.tween._time===n.tween._dur){var a,l,d,r=n.t,i=r.style,o=n.u,s=r._gsap;if("all"===o||!0===o)i.cssText="",l=1;else for(d=(o=o.split(",")).length;--d>-1;)ha[a=o[d]]&&(l=1,a="transformOrigin"===a?gi:pn),wu(r,a);l&&(wu(r,pn),s&&(s.svg&&r.removeAttribute("transform"),Zp(r,1),s.uncache=1,t1(i)))}},oy={clearProps:function(t,n,r,i,o){if("isFromStart"!==o.data){var s=t._pt=new fi(t._pt,n,r,0,0,D7);return s.u=i,s.pr=-10,s.tween=o,t._props.push(r),1}}},Qp=[1,0,0,1,0,0],c1={},d1=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},h1=function(t){var n=Cs(t,pn);return d1(n)?Qp:n.substr(7).match(ik).map(Dn)},Ib=function(t,n){var s,a,l,d,r=t._gsap||fu(t),i=t.style,o=h1(t);return r.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(o=[(l=t.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?Qp:o:(o===Qp&&!t.offsetParent&&t!==zd&&!r.svg&&(l=i.display,i.display="block",(!(s=t.parentNode)||!t.offsetParent)&&(d=1,a=t.nextElementSibling,zd.appendChild(t)),o=h1(t),l?i.display=l:wu(t,"display"),d&&(a?s.insertBefore(t,a):s?s.appendChild(t):zd.removeChild(t))),n&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},bb=function(t,n,r,i,o,s){var ee,ie,se,a=t._gsap,l=o||Ib(t,!0),d=a.xOrigin||0,f=a.yOrigin||0,g=a.xOffset||0,m=a.yOffset||0,v=l[0],C=l[1],y=l[2],E=l[3],M=l[4],T=l[5],P=n.split(" "),U=parseFloat(P[0])||0,B=parseFloat(P[1])||0;r?l!==Qp&&(ie=v*E-C*y)&&(se=U*(-C/ie)+B*(v/ie)-(v*T-C*M)/ie,U=U*(E/ie)+B*(-y/ie)+(y*T-E*M)/ie,B=se):(U=(ee=s1(t)).x+(~P[0].indexOf("%")?U/100*ee.width:U),B=ee.y+(~(P[1]||P[0]).indexOf("%")?B/100*ee.height:B)),i||!1!==i&&a.smooth?(a.xOffset=g+((M=U-d)*v+(T=B-f)*y)-M,a.yOffset=m+(M*C+T*E)-T):a.xOffset=a.yOffset=0,a.xOrigin=U,a.yOrigin=B,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,t.style[gi]="0px 0px",s&&(il(s,a,"xOrigin",d,U),il(s,a,"yOrigin",f,B),il(s,a,"xOffset",g,a.xOffset),il(s,a,"yOffset",m,a.yOffset)),t.setAttribute("data-svg-origin",U+" "+B)},Zp=function(t,n){var r=t._gsap||new Bk(t);if("x"in r&&!n&&!r.uncache)return r;var f,g,m,v,C,y,E,M,T,P,U,B,ee,ie,pe,se,ht,un,qt,Kt,mr,ar,Un,lr,Oo,rC,Vg,Ug,Uu,_2,_a,Bu,i=t.style,o=r.scaleX<0,s="px",a="deg",l=getComputedStyle(t),d=Cs(t,gi)||"0";return f=g=m=y=E=M=T=P=U=0,v=C=1,r.svg=!(!t.getCTM||!a1(t)),l.translate&&(("none"!==l.translate||"none"!==l.scale||"none"!==l.rotate)&&(i[pn]=("none"!==l.translate?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==l.rotate?"rotate("+l.rotate+") ":"")+("none"!==l.scale?"scale("+l.scale.split(" ").join(",")+") ":"")+("none"!==l[pn]?l[pn]:"")),i.scale=i.rotate=i.translate="none"),ie=Ib(t,r.svg),r.svg&&(r.uncache?(Oo=t.getBBox(),d=r.xOrigin-Oo.x+"px "+(r.yOrigin-Oo.y)+"px",lr=""):lr=!n&&t.getAttribute("data-svg-origin"),bb(t,lr||d,!!lr||r.originIsAbsolute,!1!==r.smooth,ie)),B=r.xOrigin||0,ee=r.yOrigin||0,ie!==Qp&&(un=ie[0],qt=ie[1],Kt=ie[2],mr=ie[3],f=ar=ie[4],g=Un=ie[5],6===ie.length?(v=Math.sqrt(un*un+qt*qt),C=Math.sqrt(mr*mr+Kt*Kt),y=un||qt?Gd(qt,un)*Cu:0,(T=Kt||mr?Gd(Kt,mr)*Cu+y:0)&&(C*=Math.abs(Math.cos(T*Wd))),r.svg&&(f-=B-(B*un+ee*Kt),g-=ee-(B*qt+ee*mr))):(_2=ie[7],Vg=ie[8],Ug=ie[9],_a=ie[11],f=ie[12],g=ie[13],m=ie[14],E=(pe=Gd(Bu=ie[6],Uu=ie[10]))*Cu,pe&&(lr=ar*(se=Math.cos(-pe))+Vg*(ht=Math.sin(-pe)),Oo=Un*se+Ug*ht,rC=Bu*se+Uu*ht,Vg=ar*-ht+Vg*se,Ug=Un*-ht+Ug*se,Uu=Bu*-ht+Uu*se,_a=_2*-ht+_a*se,ar=lr,Un=Oo,Bu=rC),M=(pe=Gd(-Kt,Uu))*Cu,pe&&(se=Math.cos(-pe),_a=mr*(ht=Math.sin(-pe))+_a*se,un=lr=un*se-Vg*ht,qt=Oo=qt*se-Ug*ht,Kt=rC=Kt*se-Uu*ht),y=(pe=Gd(qt,un))*Cu,pe&&(lr=un*(se=Math.cos(pe))+qt*(ht=Math.sin(pe)),Oo=ar*se+Un*ht,qt=qt*se-un*ht,Un=Un*se-ar*ht,un=lr,ar=Oo),E&&Math.abs(E)+Math.abs(y)>359.9&&(E=y=0,M=180-M),v=Dn(Math.sqrt(un*un+qt*qt+Kt*Kt)),C=Dn(Math.sqrt(Un*Un+Bu*Bu)),pe=Gd(ar,Un),T=Math.abs(pe)>2e-4?pe*Cu:0,U=_a?1/(_a<0?-_a:_a):0),r.svg&&(lr=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!d1(Cs(t,pn)),lr&&t.setAttribute("transform",lr))),Math.abs(T)>90&&Math.abs(T)<270&&(o?(v*=-1,T+=y<=0?180:-180,y+=y<=0?180:-180):(C*=-1,T+=T<=0?180:-180)),n=n||r.uncache,r.x=f-((r.xPercent=f&&(!n&&r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-f)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+s,r.y=g-((r.yPercent=g&&(!n&&r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-g)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+s,r.z=m+s,r.scaleX=Dn(v),r.scaleY=Dn(C),r.rotation=Dn(y)+a,r.rotationX=Dn(E)+a,r.rotationY=Dn(M)+a,r.skewX=T+a,r.skewY=P+a,r.transformPerspective=U+s,(r.zOrigin=parseFloat(d.split(" ")[2])||!n&&r.zOrigin||0)&&(i[gi]=sy(d)),r.xOffset=r.yOffset=0,r.force3D=Ni.force3D,r.renderTransform=r.svg?T7:r1?f1:S7,r.uncache=0,r},sy=function(t){return(t=t.split(" "))[0]+" "+t[1]},Db=function(t,n,r){var i=xr(n);return Dn(parseFloat(n)+parseFloat(ol(t,"x",r+"px",i)))+i},S7=function(t,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,f1(t,n)},Eu="0deg",Xp="0px",Iu=") ",f1=function(t,n){var r=n||this,i=r.xPercent,o=r.yPercent,s=r.x,a=r.y,l=r.z,d=r.rotation,f=r.rotationY,g=r.rotationX,m=r.skewX,v=r.skewY,C=r.scaleX,y=r.scaleY,E=r.transformPerspective,M=r.force3D,T=r.target,P=r.zOrigin,U="",B="auto"===M&&t&&1!==t||!0===M;if(P&&(g!==Eu||f!==Eu)){var se,ee=parseFloat(f)*Wd,ie=Math.sin(ee),pe=Math.cos(ee);ee=parseFloat(g)*Wd,se=Math.cos(ee),s=Db(T,s,ie*se*-P),a=Db(T,a,-Math.sin(ee)*-P),l=Db(T,l,pe*se*-P+P)}E!==Xp&&(U+="perspective("+E+Iu),(i||o)&&(U+="translate("+i+"%, "+o+"%) "),(B||s!==Xp||a!==Xp||l!==Xp)&&(U+=l!==Xp||B?"translate3d("+s+", "+a+", "+l+") ":"translate("+s+", "+a+Iu),d!==Eu&&(U+="rotate("+d+Iu),f!==Eu&&(U+="rotateY("+f+Iu),g!==Eu&&(U+="rotateX("+g+Iu),(m!==Eu||v!==Eu)&&(U+="skew("+m+", "+v+Iu),(1!==C||1!==y)&&(U+="scale("+C+", "+y+Iu),T.style[pn]=U||"translate(0, 0)"},T7=function(t,n){var B,ee,ie,pe,se,r=n||this,i=r.xPercent,o=r.yPercent,s=r.x,a=r.y,l=r.rotation,d=r.skewX,f=r.skewY,g=r.scaleX,m=r.scaleY,v=r.target,C=r.xOrigin,y=r.yOrigin,E=r.xOffset,M=r.yOffset,T=r.forceCSS,P=parseFloat(s),U=parseFloat(a);l=parseFloat(l),d=parseFloat(d),(f=parseFloat(f))&&(d+=f=parseFloat(f),l+=f),l||d?(l*=Wd,d*=Wd,B=Math.cos(l)*g,ee=Math.sin(l)*g,ie=Math.sin(l-d)*-m,pe=Math.cos(l-d)*m,d&&(f*=Wd,se=Math.tan(d-f),ie*=se=Math.sqrt(1+se*se),pe*=se,f&&(se=Math.tan(f),B*=se=Math.sqrt(1+se*se),ee*=se)),B=Dn(B),ee=Dn(ee),ie=Dn(ie),pe=Dn(pe)):(B=g,pe=m,ee=ie=0),(P&&!~(s+"").indexOf("px")||U&&!~(a+"").indexOf("px"))&&(P=ol(v,"x",s,"px"),U=ol(v,"y",a,"px")),(C||y||E||M)&&(P=Dn(P+C-(C*B+y*ie)+E),U=Dn(U+y-(C*ee+y*pe)+M)),(i||o)&&(se=v.getBBox(),P=Dn(P+i/100*se.width),U=Dn(U+o/100*se.height)),v.setAttribute("transform",se="matrix("+B+","+ee+","+ie+","+pe+","+P+","+U+")"),T&&(v.style[pn]=se)},A7=function(t,n,r,i,o){var g,m,s=360,a=rr(o),d=parseFloat(o)*(a&&~o.indexOf("rad")?Cu:1)-i,f=i+d+"deg";return a&&("short"===(g=o.split("_")[1])&&(d%=s)!=d%180&&(d+=d<0?s:-s),"cw"===g&&d<0?d=(d+s*Xk)%s-~~(d/s)*s:"ccw"===g&&d>0&&(d=(d-s*Xk)%s-~~(d/s)*s)),t._pt=m=new fi(t._pt,n,r,i,d,d7),m.e=f,m.u="deg",t._props.push(r),m},p1=function(t,n){for(var r in n)t[r]=n[r];return t},M7=function(t,n,r){var a,l,d,f,g,m,C,i=p1({},r._gsap),s=r.style;for(l in i.svg?(d=r.getAttribute("transform"),r.setAttribute("transform",""),s[pn]=n,a=Zp(r,1),wu(r,pn),r.setAttribute("transform",d)):(d=getComputedStyle(r)[pn],s[pn]=n,a=Zp(r,1),s[pn]=d),ha)(d=i[l])!==(f=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(g=xr(d)!==(C=xr(f))?ol(r,l,d,C):parseFloat(d),m=parseFloat(f),t._pt=new fi(t._pt,a,l,g,m-g,yb),t._pt.u=C||0,t._props.push(l));p1(a,i)};hi("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",o="Left",s=(t<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map(function(a){return t<2?e+a:"border"+a+e});oy[t>1?"border"+e:e]=function(a,l,d,f,g){var m,v;if(arguments.length<4)return m=s.map(function(C){return fa(a,C,d)}),5===(v=m.join(" ")).split(m[0]).length?m[0]:v;m=(f+"").split(" "),v={},s.forEach(function(C,y){return v[C]=m[y]=m[y]||m[(y-1)/2|0]}),a.init(l,v,g)}});var g1={name:"css",register:wb,targetTest:function(t){return t.style&&t.nodeType},init:function(t,n,r,i,o){var d,f,g,m,v,C,y,E,M,T,P,U,B,ee,ie,pe,s=this._props,a=t.style,l=r.vars.startAt;for(y in mb||wb(),this.styles=this.styles||n1(t),pe=this.styles.props,this.tween=r,n)if("autoRound"!==y&&(f=n[y],!xi[y]||!jk(y,n,r,i,t,o)))if(C=oy[y],"function"==(v=typeof f)&&(v=typeof(f=f.call(r,i,t,o))),"string"===v&&~f.indexOf("random(")&&(f=zp(f)),C)C(this,t,y,f,r)&&(ie=1);else if("--"===y.substr(0,2))d=(getComputedStyle(t).getPropertyValue(y)+"").trim(),f+="",tl.lastIndex=0,tl.test(d)||(E=xr(d),M=xr(f)),M?E!==M&&(d=ol(t,y,d,M)+M):E&&(f+=E),this.add(a,"setProperty",d,f,i,o,0,0,y),s.push(y),pe.push(y,0,a[y]);else if("undefined"!==v){if(l&&y in l?(d="function"==typeof l[y]?l[y].call(r,i,t,o):l[y],rr(d)&&~d.indexOf("random(")&&(d=zp(d)),xr(d+"")||"auto"===d||(d+=Ni.units[y]||xr(fa(t,y))||""),"="===(d+"").charAt(1)&&(d=fa(t,y))):d=fa(t,y),m=parseFloat(d),(T="string"===v&&"="===f.charAt(1)&&f.substr(0,2))&&(f=f.substr(2)),g=parseFloat(f),y in ys&&("autoAlpha"===y&&(1===m&&"hidden"===fa(t,"visibility")&&g&&(m=0),pe.push("visibility",0,a.visibility),il(this,a,"visibility",m?"inherit":"hidden",g?"inherit":"hidden",!g)),"scale"!==y&&"transform"!==y&&~(y=ys[y]).indexOf(",")&&(y=y.split(",")[0])),P=y in ha)if(this.styles.save(y),U||((B=t._gsap).renderTransform&&!n.parseTransform||Zp(t,n.parseTransform),ee=!1!==n.smoothOrigin&&B.smooth,(U=this._pt=new fi(this._pt,a,pn,0,1,B.renderTransform,B,0,-1)).dep=1),"scale"===y)this._pt=new fi(this._pt,B,"scaleY",B.scaleY,(T?Ud(B.scaleY,T+g):g)-B.scaleY||0,yb),this._pt.u=0,s.push("scaleY",y),y+="X";else{if("transformOrigin"===y){pe.push(gi,0,a[gi]),f=b7(f),B.svg?bb(t,f,0,ee,0,this):((M=parseFloat(f.split(" ")[2])||0)!==B.zOrigin&&il(this,B,"zOrigin",B.zOrigin,M),il(this,a,y,sy(d),sy(f)));continue}if("svgOrigin"===y){bb(t,f,1,ee,0,this);continue}if(y in c1){A7(this,B,y,m,T?Ud(m,T+f):f);continue}if("smoothOrigin"===y){il(this,B,"smooth",B.smooth,f);continue}if("force3D"===y){B[y]=f;continue}if("transform"===y){M7(this,f,t);continue}}else y in a||(y=qd(y)||y);if(P||(g||0===g)&&(m||0===m)&&!c7.test(f)&&y in a)g||(g=0),(E=(d+"").substr((m+"").length))!==(M=xr(f)||(y in Ni.units?Ni.units[y]:E))&&(m=ol(t,y,d,M)),this._pt=new fi(this._pt,P?B:a,y,m,(T?Ud(m,T+g):g)-m,P||"px"!==M&&"zIndex"!==y||!1===n.autoRound?yb:f7),this._pt.u=M||0,E!==M&&"%"!==M&&(this._pt.b=d,this._pt.r=h7);else if(y in a)I7.call(this,t,y,d,T?T+f:f);else if(y in t)this.add(t,y,d||t[y],T?T+f:f,i,o);else if("parseTransform"!==y){qI(y,f);continue}P||(y in a?pe.push(y,0,a[y]):pe.push(y,1,d||t[y])),s.push(y)}ie&&qk(this)},render:function(t,n){if(n.tween._time||!_b())for(var r=n._pt;r;)r.r(t,r.d),r=r._next;else n.styles.revert()},get:fa,aliases:ys,getSetter:function(t,n,r){var i=ys[n];return i&&i.indexOf(",")<0&&(n=i),n in ha&&n!==gi&&(t._gsap.x||fa(t,"x"))?r&&Zk===r?"scale"===n?_7:m7:(Zk=r||{})&&("scale"===n?v7:y7):t.style&&!jI(t.style[n])?p7:~n.indexOf("-")?g7:db(t,n)},core:{_removeProperty:wu,_getMatrix:Ib}};pi.utils.checkPrefix=qd,pi.core.getStyleSaver=n1,function(e,t,n,r){var i=hi(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(o){ha[o]=1});hi(t,function(o){Ni.units[o]="deg",c1[o]=1}),ys[i[13]]=e+","+t,hi("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(o){var s=o.split(":");ys[s[1]]=i[s[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),hi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Ni.units[e]="px"}),pi.registerPlugin(g1);var Zr,m1,pa,ws,sl,_1,v1,ay,Sb=pi.registerPlugin(g1)||pi,y1=function(){return typeof window<"u"},C1=function(){return Zr||y1()&&(Zr=window.gsap)&&Zr.registerPlugin&&Zr},w1=function(t){return"string"==typeof t},E1=function(t){return"function"==typeof t},Jp=function(t,n){var r="x"===n?"Width":"Height",i="scroll"+r,o="client"+r;return t===pa||t===ws||t===sl?Math.max(ws[i],sl[i])-(pa["inner"+r]||ws[o]||sl[o]):t[i]-t["offset"+r]},eg=function(t,n){var r="scroll"+("x"===n?"Left":"Top");return t===pa&&(null!=t.pageXOffset?r="page"+n.toUpperCase()+"Offset":t=null!=ws[r]?ws:sl),function(){return t[r]}},I1=function(t,n){if(!(t=_1(t)[0])||!t.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var r=t.getBoundingClientRect(),i=!n||n===pa||n===sl,o=i?{top:ws.clientTop-(pa.pageYOffset||ws.scrollTop||sl.scrollTop||0),left:ws.clientLeft-(pa.pageXOffset||ws.scrollLeft||sl.scrollLeft||0)}:n.getBoundingClientRect(),s={x:r.left-o.left,y:r.top-o.top};return!i&&n&&(s.x+=eg(n,"x")(),s.y+=eg(n,"y")()),s},b1=function(t,n,r,i,o){return isNaN(t)||"object"==typeof t?w1(t)&&"="===t.charAt(1)?parseFloat(t.substr(2))*("-"===t.charAt(0)?-1:1)+i-o:"max"===t?Jp(n,r)-o:Math.min(Jp(n,r),I1(t,n)[r]-o):parseFloat(t)-o},D1=function(){Zr=C1(),y1()&&Zr&&typeof document<"u"&&document.body&&(pa=window,sl=document.body,ws=document.documentElement,_1=Zr.utils.toArray,Zr.config({autoKillThreshold:7}),v1=Zr.config(),m1=1)},tg={version:"3.12.5",name:"scrollTo",rawVars:1,register:function(t){Zr=t,D1()},init:function(t,n,r,i,o){m1||D1();var s=this,a=Zr.getProperty(t,"scrollSnapType");s.isWin=t===pa,s.target=t,s.tween=r,n=function(t,n,r,i){if(E1(t)&&(t=t(n,r,i)),"object"!=typeof t)return w1(t)&&"max"!==t&&"="!==t.charAt(1)?{x:t,y:t}:{y:t};if(t.nodeType)return{y:t,x:t};var s,o={};for(s in t)o[s]="onAutoKill"!==s&&E1(t[s])?t[s](n,r,i):t[s];return o}(n,i,t,o),s.vars=n,s.autoKill=!!n.autoKill,s.getX=eg(t,"x"),s.getY=eg(t,"y"),s.x=s.xPrev=s.getX(),s.y=s.yPrev=s.getY(),ay||(ay=Zr.core.globals().ScrollTrigger),"smooth"===Zr.getProperty(t,"scrollBehavior")&&Zr.set(t,{scrollBehavior:"auto"}),a&&"none"!==a&&(s.snap=1,s.snapInline=t.style.scrollSnapType,t.style.scrollSnapType="none"),null!=n.x?(s.add(s,"x",s.x,b1(n.x,t,"x",s.x,n.offsetX||0),i,o),s._props.push("scrollTo_x")):s.skipX=1,null!=n.y?(s.add(s,"y",s.y,b1(n.y,t,"y",s.y,n.offsetY||0),i,o),s._props.push("scrollTo_y")):s.skipY=1},render:function(t,n){for(var m,v,C,y,E,r=n._pt,i=n.target,o=n.tween,s=n.autoKill,a=n.xPrev,l=n.yPrev,d=n.isWin,f=n.snap,g=n.snapInline;r;)r.r(t,r.d),r=r._next;m=d||!n.skipX?n.getX():a,C=(v=d||!n.skipY?n.getY():l)-l,y=m-a,E=v1.autoKillThreshold,n.x<0&&(n.x=0),n.y<0&&(n.y=0),s&&(!n.skipX&&(y>E||y<-E)&&m<Jp(i,"x")&&(n.skipX=1),!n.skipY&&(C>E||C<-E)&&v<Jp(i,"y")&&(n.skipY=1),n.skipX&&n.skipY&&(o.kill(),n.vars.onAutoKill&&n.vars.onAutoKill.apply(o,n.vars.onAutoKillParams||[]))),d?pa.scrollTo(n.skipX?m:n.x,n.skipY?v:n.y):(n.skipY||(i.scrollTop=n.y),n.skipX||(i.scrollLeft=n.x)),f&&(1===t||0===t)&&(v=i.scrollTop,m=i.scrollLeft,g?i.style.scrollSnapType=g:i.style.removeProperty("scroll-snap-type"),i.scrollTop=v+1,i.scrollLeft=m+1,i.scrollTop=v,i.scrollLeft=m),n.xPrev=n.x,n.yPrev=n.y,ay&&ay.update()},kill:function(t){var n="scrollTo"===t,r=this._props.indexOf(t);return(n||"scrollTo_x"===t)&&(this.skipX=1),(n||"scrollTo_y"===t)&&(this.skipY=1),r>-1&&this._props.splice(r,1),!this._props.length}};tg.max=Jp,tg.getOffset=I1,tg.buildGetter=eg,C1()&&Zr.registerPlugin(tg);var Kd=Ve(852);(0,Kd.registerVersion)("firebase","10.11.0","app");class O7 extends Et{constructor(t,n){super()}schedule(t,n=0){return this}}const ly={setInterval(e,t,...n){const{delegate:r}=ly;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=ly;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class S1 extends O7{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return ly.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&ly.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,cn(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const Tb={now:()=>(Tb.delegate||Date).now(),delegate:void 0};class ng{constructor(t,n=ng.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}ng.now=Tb.now;class T1 extends ng{constructor(t,n=ng.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const F7=new class k7 extends T1{}(class P7 extends S1{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}}),A1=new T1(S1),Ab=new gd("ANGULARFIRE2_VERSION");class M1{constructor(){return((e,t)=>{const n=(0,Kd.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r})(V7)}}const V7="app-check";function Yd(){}class N1{zone;delegate;constructor(t,n=F7){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{t.apply(this,[s])})},n,r)}}class U7{zone;task=null;constructor(t){this.zone=t}call(t,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yd,{},Yd,Yd)),n.pipe(Mr({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let R1=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new N1(Zone.current)),this.insideAngular=n.run(()=>new N1(Zone.current,A1)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||e)(le(dt))};static \u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function al(e){return function j7(e){return function(n){return(n=n.lift(new U7(e.ngZone))).pipe(Cd(e.outsideAngular),du(e.insideAngular))}}(function Qd(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}())(e)}var ll=Ve(345);ll.A.registerVersion("firebase","10.11.0","app-compat");const W7=["ngOnDestroy"];class x1{constructor(t){return t}}const uy=new ue("angularfire2.app.options"),cy=new ue("angularfire2.app.name");function Mb(e,t,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const s=ll.A.apps.filter(a=>a&&a.name===i.name)[0]||t.runOutsideAngular(()=>ll.A.initializeApp(e,i));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){const a=!!module.hot;K7("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new x1(s)}const K7=(e,...t)=>{},Y7={provide:x1,useFactory:Mb,deps:[uy,dt,[new Ls,cy]]};let Q7=(()=>{class e{static initializeApp(n,r){return{ngModule:e,providers:[{provide:uy,useValue:n},{provide:cy,useValue:r}]}}constructor(n){ll.A.registerVersion("angularfire",Ab.full,"core"),ll.A.registerVersion("angularfire",Ab.full,"app-compat"),ll.A.registerVersion("angular",X3.full,n.toString())}static \u0275fac=function(r){return new(r||e)(le(rs))};static \u0275mod=Ci({type:e});static \u0275inj=wr({providers:[Y7]})}return e})();function O1(e,t,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return function Z7(e,t){try{return e.toString()===t.toString()}catch{return e===t}}(i,s)||(P1("error",`${t} was already initialized on the ${n} Firebase App with different settings.${X7?" You may need to reload as Firebase is not HMR aware.":""}`),P1("warn",{is:i,was:s})),o;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([e,a,i]),a}}const X7=typeof module<"u"&&!!module.hot,P1=(e,...t)=>{};function Nb(...e){const t=bp(e),n=function Mq(e,t){return"number"==typeof oI(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?ci(r[0]):wd(n)(bn(r,t)):So}globalThis.\u0275AngularfireInstanceCache||=[],Ve(509);class J7 extends N{constructor(t=1/0,n=1/0,r=Tb){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function k1(e={}){const{connector:t=(()=>new N),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,d=0,f=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),s=l=void 0,f=g=!1},C=()=>{const y=s;v(),y?.unsubscribe()};return fe((y,E)=>{d++,!g&&!f&&m();const M=l=l??t();E.add(()=>{d--,0===d&&!g&&!f&&(a=Rb(C,i))}),M.subscribe(E),!s&&d>0&&(s=new Ui({next:T=>M.next(T),error:T=>{g=!0,m(),a=Rb(v,n,T),M.error(T)},complete:()=>{f=!0,m(),a=Rb(v,r),M.complete()}}),ci(y).subscribe(s))})(o)}}function Rb(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Ui({next:()=>{r.unsubscribe(),e()}});return ci(t(...n)).subscribe(r)}function F1(e,t,n){let r,i=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e):r=e??1/0,k1({connector:()=>new J7(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function L1(e,t){return Ae(t)?qn(()=>e,t):qn(()=>e)}const V1=new ue("angularfire2.auth.use-emulator"),U1=new ue("angularfire2.auth.settings"),B1=new ue("angularfire2.auth.tenant-id"),j1=new ue("angularfire2.auth.langugage-code"),H1=new ue("angularfire2.auth.use-device-language"),$1=new ue("angularfire.auth.persistence"),z1=(e,t,n,r,i,o,s,a)=>O1(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(const[d,f]of Object.entries(s))l.settings[d]=f;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]);let W1=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,l,d,f,g,m,v){const C=new N,y=Re(void 0).pipe(du(s.outsideAngular),qn(()=>o.runOutsideAngular(()=>Promise.resolve().then(Ve.bind(Ve,509)))),Ie(()=>Mb(n,o,r)),Ie(E=>z1(E,o,a,d,f,g,l,m)),F1({bufferSize:1,refCount:!1}));if(QE(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Re(null);else{y.pipe(Qa()).subscribe();const E=y.pipe(qn(P=>P.getRedirectResult().then(U=>U,()=>null)),al,F1({bufferSize:1,refCount:!1})),M=y.pipe(qn(P=>new At(U=>({unsubscribe:o.runOutsideAngular(()=>P.onAuthStateChanged(B=>U.next(B),B=>U.error(B),()=>U.complete()))})))),T=y.pipe(qn(P=>new At(U=>({unsubscribe:o.runOutsideAngular(()=>P.onIdTokenChanged(B=>U.next(B),B=>U.error(B),()=>U.complete()))}))));this.authState=E.pipe(L1(M),Cd(s.outsideAngular),du(s.insideAngular)),this.user=E.pipe(L1(T),Cd(s.outsideAngular),du(s.insideAngular)),this.idToken=this.user.pipe(qn(P=>P?bn(P.getIdToken()):Re(null))),this.idTokenResult=this.user.pipe(qn(P=>P?bn(P.getIdTokenResult()):Re(null))),this.credential=Nb(E,C,this.authState.pipe(la(P=>!P))).pipe(Ie(P=>P?.user?P:null),Cd(s.outsideAngular),du(s.insideAngular))}return((e,t,n,r={})=>new Proxy(e,{get:(i,o)=>n.runOutsideAngular(()=>{if(e[o])return r?.spy?.get&&r.spy.get(o,e[o]),e[o];if(W7.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(d=>n.run(()=>d)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,d)=>s.then(f=>{const g=f?.(...d);return r?.spy?.apply&&r.spy.apply(o,d,g),g})})})}))(this,y,o,{spy:{apply:(E,M,T)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&T.then(P=>C.next(P))}}})}static \u0275fac=function(r){return new(r||e)(le(uy),le(cy,8),le(rs),le(dt),le(R1),le(V1,8),le(U1,8),le(B1,8),le(j1,8),le(H1,8),le($1,8),le(M1,8))};static \u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();function iK(e,t){return e===t}var Du=Ve(362),I=Ve(76),xb=Ve(41);const G1="@firebase/database";let Ob="";function Pb(e){Ob=e}class oK{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,I.As)(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:(0,I.$L)(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class sK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return(0,I.gR)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const K1=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new oK(t)}}catch{}return new sK},Su=K1("localStorage"),kb=K1("sessionStorage"),Zd=new xb.Vy("@firebase/database"),Y1=function(){let e=1;return function(){return e++}}(),Q1=function(e){const t=(0,I.kj)(e),n=new I.gz;n.update(t);const r=n.digest();return I.K3.encodeByteArray(r)},rg=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=rg.apply(null,r):t+="object"==typeof r?(0,I.As)(r):r,t+=" "}return t};let Tu=null,Z1=!0;const X1=function(e,t){(0,I.vA)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Zd.logLevel=xb.$b.VERBOSE,Tu=Zd.log.bind(Zd),t&&kb.set("logging_enabled",!0)):"function"==typeof e?Tu=e:(Tu=null,kb.remove("logging_enabled"))},or=function(...e){if(!0===Z1&&(Z1=!1,null===Tu&&!0===kb.get("logging_enabled")&&X1(!0)),Tu){const t=rg.apply(null,e);Tu(t)}},ig=function(e){return function(...t){or(e,...t)}},Fb=function(...e){const t="FIREBASE INTERNAL ERROR: "+rg(...e);Zd.error(t)},Es=function(...e){const t=`FIREBASE FATAL ERROR: ${rg(...e)}`;throw Zd.error(t),new Error(t)},Or=function(...e){const t="FIREBASE WARNING: "+rg(...e);Zd.warn(t)},dy=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ul="[MIN_NAME]",ga="[MAX_NAME]",Au=function(e,t){if(e===t)return 0;if(e===ul||t===ga)return-1;if(t===ul||e===ga)return 1;{const n=tF(e),r=tF(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},uK=function(e,t){return e===t?0:e<t?-1:1},og=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,I.As)(t))},Lb=function(e){if("object"!=typeof e||null===e)return(0,I.As)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,I.As)(t[r]),n+=":",n+=Lb(e[t[r]]);return n+="}",n},J1=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function sr(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const eF=function(e){(0,I.vA)(!dy(e),"Invalid JSON number");const r=1023;let i,o,s,a,l;0===e?(o=0,s=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(e/Math.pow(2,-1074))));const d=[];for(l=52;l;l-=1)d.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(i?1:0),d.reverse();const f=d.join("");let g="";for(l=0;l<64;l+=8){let m=parseInt(f.substr(l,8),2).toString(16);1===m.length&&(m="0"+m),g+=m}return g.toLowerCase()},fK=new RegExp("^-?(0*)\\d{1,10}$"),tF=function(e){if(fK.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Xd=function(e){try{e()}catch(t){setTimeout(()=>{throw Or("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},sg=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class _K{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Or(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class vK{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(or("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Or(t)}}let ag=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const sF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uF="websocket",cF="long_polling";class Ub{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Su.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Su.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function dF(e,t,n){let r;if((0,I.vA)("string"==typeof t,"typeof type must == string"),(0,I.vA)("object"==typeof n,"typeof params must == object"),t===uF)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==cF)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function yK(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return sr(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class CK{constructor(){this.counters_={}}incrementCounter(t,n=1){(0,I.gR)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return(0,I.A4)(this.counters_)}}const Bb={},jb={};function Hb(e){const t=e.toString();return Bb[t]||(Bb[t]=new CK),Bb[t]}class EK{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Xd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class cl{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ig(t),this.stats_=Hb(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),dF(n,cF,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new EK(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,I.$g)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $b((...o)=>{const[s,a,l,d,f]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&sF.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){cl.forceAllow_=!0}static forceDisallow(){cl.forceDisallow_=!0}static isAvailable(){return!((0,I.$g)()||!cl.forceAllow_&&(cl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=(0,I.As)(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,I.KA)(n),i=J1(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if((0,I.$g)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=(0,I.As)(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class $b{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,I.$g)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Y1(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=$b.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){or("frame writing exception"),a.stack&&or(a.stack),or(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||or("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){(0,I.$g)()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{or("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let fy=null;typeof MozWebSocket<"u"?fy=MozWebSocket:typeof WebSocket<"u"&&(fy=WebSocket);let Jd=(()=>{class e{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ig(this.connId),this.stats_=Hb(r),this.connURL=e.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return!(0,I.$g)()&&typeof location<"u"&&location.hostname&&sF.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),dF(n,uF,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Su.set("previous_websocket_failure",!0);try{let i;if((0,I.$g)()){i={headers:{"User-Agent":`Firebase/5/${Ob}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new fy(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==fy&&!e.forceDisallow_}static previouslyFailed(){return Su.isInMemoryStorage||!0===Su.get("previous_websocket_failure")}markConnectionHealthy(){Su.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,I.$L)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,I.vA)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,I.As)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=J1(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),vF=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[cl,Jd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Jd&&Jd.isAvailable();let i=r&&!Jd.previouslyFailed();if(n.webSocketOnly&&(r||Or("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Jd];else{const o=this.transports_=[];for(const s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class DF{constructor(t,n,r,i,o,s,a,l,d,f){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ig("c:"+this.id+":"),this.transportManager_=new vF(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=sg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=og("t",t),r=og("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=og("t",t),r=og("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=og("t",t);if("d"in t){const r=t.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?Fb("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fb("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Or("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),sg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Su.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class SF{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class TF{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,I.vA)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){(0,I.vA)(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class py extends TF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,I.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new py}getInitialEvent(t){return(0,I.vA)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class bt{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function _t(){return new bt("")}function et(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function dl(e){return e.pieces_.length-e.pieceNum_}function Lt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new bt(e.pieces_,t)}function Wb(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function lg(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function NF(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new bt(t,0)}function ln(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof bt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new bt(n,0)}function tt(e){return e.pieceNum_>=e.pieces_.length}function Xr(e,t){const n=et(e),r=et(t);if(null===n)return t;if(n===r)return Xr(Lt(e),Lt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function zK(e,t){const n=lg(e,0),r=lg(t,0);for(let i=0;i<n.length&&i<r.length;i++){const o=Au(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Gb(e,t){if(dl(e)!==dl(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function io(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(dl(e)>dl(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class WK{constructor(t,n){this.errorPrefix_=n,this.parts_=lg(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,I.OE)(this.parts_[r]);RF(this)}}function RF(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Mu(e))}function Mu(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class qb extends TF{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new qb}getInitialEvent(t){return(0,I.vA)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const ug=1e3;let my,Nu=(()=>{class e extends SF{constructor(n,r,i,o,s,a,l,d){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=d,this.id=e.nextPersistentConnectionId_++,this.log_=ig("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ug,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!(0,I.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qb.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&py.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_((0,I.As)(s)),(0,I.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new I.cY,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,I.vA)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,I.vA)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,l=>{const d=l.d,f=l.s;e.warnOnListenWarnings_(d,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),"ok"!==f&&this.removeListen_(i,o),n.onComplete&&n.onComplete(f,d))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,I.gR)(n,"w")){const i=(0,I.yw)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Or(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,I.qc)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,I.Cv)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,I.vA)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,I.As)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):Fb("Unrecognized action received from server: "+(0,I.As)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,I.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ug,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ug,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ug),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,b.A)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let l=!1,d=null;const f=function(){d?d.close():(l=!0,o())},g=function(v){(0,I.vA)(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)};n.realtime_={close:f,sendRequest:g};const m=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[v,C]=yield Promise.all([n.authTokenProvider_.getToken(m),n.appCheckTokenProvider_.getToken(m)]);l?or("getToken() completed but was canceled"):(or("getToken() completed. Creating connection."),n.authToken_=v&&v.accessToken,n.appCheckToken_=C&&C.token,d=new DF(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,y=>{Or(y+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(v){n.log_("Failed to get token: "+v),l||(n.repoInfo_.nodeAdmin&&Or(v),f())}}})()}interrupt(n){or("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){or("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,I.Im)(this.interruptReasons_)&&(this.reconnectDelay_=ug,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>Lb(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new bt(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){or("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){or("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,I.$g)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+Ob.replace(/\./g,"-")]=1,(0,I.jZ)()?n["framework.cordova"]=1:(0,I.lV)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=py.getInstance().currentlyOnline();return(0,I.Im)(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class it{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new it(t,n)}}class gy{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new it(ul,t),i=new it(ul,n);return 0!==this.compare(r,i)}minPost(){return it.MIN}}class PF extends gy{static get __EMPTY_NODE(){return my}static set __EMPTY_NODE(t){my=t}compare(t,n){return Au(t.name,n.name)}isDefinedOn(t){throw(0,I.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return it.MIN}maxPost(){return new it(ga,my)}makePost(t,n){return(0,I.vA)("string"==typeof t,"KeyIndex indexValue must always be a string."),new it(t,my)}toString(){return".key"}}const Is=new PF;class _y{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Yb,Mo=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??mi.EMPTY_NODE,this.right=s??mi.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return mi.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return mi.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class mi{constructor(t,n=mi.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new mi(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Mo.BLACK,null,null))}remove(t){return new mi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Mo.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _y(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new _y(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new _y(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new _y(this.root_,null,this.comparator_,!0,t)}}function JK(e,t){return Au(e.name,t.name)}function Kb(e,t){return Au(e,t)}mi.EMPTY_NODE=new class XK{copy(t,n,r,i,o){return this}insert(t,n,r){return new Mo(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const kF=function(e){return"number"==typeof e?"number:"+eF(e):"string:"+e},FF=function(e){if(e.isLeafNode()){const t=e.val();(0,I.vA)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,I.gR)(t,".sv"),"Priority must be a string or number.")}else(0,I.vA)(e===Yb||e.isEmpty(),"priority of unexpected type.");(0,I.vA)(e===Yb||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let LF,VF,UF,eh=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,I.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),FF(this.priorityNode_)}static set __childrenNodeConstructor(n){LF=n}static get __childrenNodeConstructor(){return LF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return tt(n)?this:".priority"===et(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=et(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,I.vA)(".priority"!==i||1===dl(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Lt(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+kF(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?eF(this.value_):this.value_,this.lazyHash_=Q1(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:((0,I.vA)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return(0,I.vA)(o>=0,"Unknown leaf type: "+r),(0,I.vA)(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Wt=new class rY extends gy{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?Au(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return it.MIN}maxPost(){return new it(ga,new eh("[PRIORITY-POST]",UF))}makePost(t,n){const r=VF(t);return new it(n,new eh("[PRIORITY-POST]",r))}toString(){return".priority"}},iY=Math.log(2);class oY{constructor(t){this.count=(o=>parseInt(Math.log(o)/iY,10))(t+1),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const vy=function(e,t,n,r){e.sort(t);const i=function(l,d){const f=d-l;let g,m;if(0===f)return null;if(1===f)return g=e[l],m=n?n(g):g,new Mo(m,g.node,Mo.BLACK,null,null);{const v=parseInt(f/2,10)+l,C=i(l,v),y=i(v+1,d);return g=e[v],m=n?n(g):g,new Mo(m,g.node,Mo.BLACK,C,y)}},a=function(l){let d=null,f=null,g=e.length;const m=function(C,y){const E=g-C,M=g;g-=C;const T=i(E+1,M),P=e[E],U=n?n(P):P;v(new Mo(U,P.node,y,null,T))},v=function(C){d?(d.left=C,d=C):(f=C,d=C)};for(let C=0;C<l.count;++C){const y=l.nextBitIsOne(),E=Math.pow(2,l.count-(C+1));y?m(E,Mo.BLACK):(m(E,Mo.BLACK),m(E,Mo.RED))}return f}(new oY(e.length));return new mi(r||t,a)};let Qb;const th={};class ma{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return(0,I.vA)(th&&Wt,"ChildrenNode.ts has not been loaded"),Qb=Qb||new ma({".priority":th},{".priority":Wt}),Qb}get(t){const n=(0,I.yw)(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof mi?n:null}hasIndex(t){return(0,I.gR)(this.indexSet_,t.toString())}addIndex(t,n){(0,I.vA)(t!==Is,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(it.Wrap);let a,s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?vy(r,t.getCompare()):th;const l=t.toString(),d=Object.assign({},this.indexSet_);d[l]=t;const f=Object.assign({},this.indexes_);return f[l]=a,new ma(f,d)}addToIndexes(t,n){const r=(0,I.kH)(this.indexes_,(i,o)=>{const s=(0,I.yw)(this.indexSet_,o);if((0,I.vA)(s,"Missing index implementation for "+o),i===th){if(s.isDefinedOn(t.node)){const a=[],l=n.getIterator(it.Wrap);let d=l.getNext();for(;d;)d.name!==t.name&&a.push(d),d=l.getNext();return a.push(t),vy(a,s.getCompare())}return th}{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new it(t.name,a))),l.insert(t,t.node)}});return new ma(r,this.indexSet_)}removeFromIndexes(t,n){const r=(0,I.kH)(this.indexes_,i=>{if(i===th)return i;{const o=n.get(t.name);return o?i.remove(new it(t.name,o)):i}});return new ma(r,this.indexSet_)}}let cg,Ge=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&FF(this.priorityNode_),this.children_.isEmpty()&&(0,I.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return cg||(cg=new e(new mi(Kb),null,ma.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cg}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?cg:r}}getChild(n){const r=et(n);return null===r?this:this.getImmediateChild(r).getChild(Lt(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,I.vA)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new it(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?cg:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){const i=et(n);if(null===i)return r;{(0,I.vA)(".priority"!==et(n)||1===dl(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Lt(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(Wt,(a,l)=>{r[a]=l.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+kF(this.getPriority().val())+":"),this.forEachChild(Wt,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":Q1(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new it(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new it(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new it(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,it.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,it.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===dg?-1:0}withIndex(n){if(n===Is||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Is||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Wt),o=r.getIterator(Wt);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===Is?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const dg=new class sY extends Ge{constructor(){super(new mi(Kb),Ge.EMPTY_NODE,ma.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ge.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(it,{MIN:{value:new it(ul,Ge.EMPTY_NODE)},MAX:{value:new it(ga,dg)}}),PF.__EMPTY_NODE=Ge.EMPTY_NODE,eh.__childrenNodeConstructor=Ge,function eY(e){Yb=e}(dg),function nY(e){UF=e}(dg);const aY=!0;function gn(e,t=null){if(null===e)return Ge.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,I.vA)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new eh(e,gn(t));if(e instanceof Array||!aY){let n=Ge.EMPTY_NODE;return sr(e,(r,i)=>{if((0,I.gR)(e,r)&&"."!==r.substring(0,1)){const o=gn(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(gn(t))}{const n=[];let r=!1;if(sr(e,(s,a)=>{if("."!==s.substring(0,1)){const l=gn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new it(s,l)))}}),0===n.length)return Ge.EMPTY_NODE;const o=vy(n,JK,s=>s.name,Kb);if(r){const s=vy(n,Wt.getCompare());return new Ge(o,gn(t),new ma({".priority":s},{".priority":Wt}))}return new Ge(o,gn(t),ma.Default)}}!function tY(e){VF=e}(gn);class Zb extends gy{constructor(t){super(),this.indexPath_=t,(0,I.vA)(!tt(t)&&".priority"!==et(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?Au(t.name,n.name):o}makePost(t,n){const r=gn(t),i=Ge.EMPTY_NODE.updateChild(this.indexPath_,r);return new it(n,i)}maxPost(){const t=Ge.EMPTY_NODE.updateChild(this.indexPath_,dg);return new it(ga,t)}toString(){return lg(this.indexPath_,0).join("/")}}const Xb=new class lY extends gy{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?Au(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return it.MIN}maxPost(){return it.MAX}makePost(t,n){const r=gn(t);return new it(n,r)}toString(){return".value"}};function BF(e){return{type:"value",snapshotNode:e}}function nh(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function hg(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function fg(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Jb{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){(0,I.vA)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(hg(n,a)):(0,I.vA)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(nh(n,r)):s.trackChildChange(fg(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Wt,(i,o)=>{n.hasChild(i)||r.trackChildChange(hg(i,o))}),n.isLeafNode()||n.forEachChild(Wt,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(fg(i,o,s))}else r.trackChildChange(nh(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Ge.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class pg{constructor(t){this.indexedFilter_=new Jb(t.getIndex()),this.index_=t.getIndex(),this.startPost_=pg.getStartPost_(t),this.endPost_=pg.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new it(n,r))||(r=Ge.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Ge.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ge.EMPTY_NODE);const o=this;return n.forEachChild(Wt,(s,a)=>{o.matches(new it(s,a))||(i=i.updateImmediateChild(s,Ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class cY{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new pg(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new it(n,r))||(r=Ge.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ge.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=Ge.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(Ge.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const g=this.index_.getCompare();s=(m,v)=>g(v,m)}else s=this.index_.getCompare();const a=t;(0,I.vA)(a.numChildren()===this.limit_,"");const l=new it(n,r),d=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(a.hasChild(n)){const g=a.getImmediateChild(n);let m=i.getChildAfterChild(this.index_,d,this.reverse_);for(;null!=m&&(m.name===n||a.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);const v=null==m?1:s(m,l);if(f&&!r.isEmpty()&&v>=0)return o?.trackChildChange(fg(n,r,g)),a.updateImmediateChild(n,r);{o?.trackChildChange(hg(n,g));const y=a.updateImmediateChild(n,Ge.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(o?.trackChildChange(nh(m.name,m.node)),y.updateImmediateChild(m.name,m.node)):y}}return r.isEmpty()?t:f&&s(d,l)>=0?(null!=o&&(o.trackChildChange(hg(d.name,d.node)),o.trackChildChange(nh(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(d.name,Ge.EMPTY_NODE)):t}}class yy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,I.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,I.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ul}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,I.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,I.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ga}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,I.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Wt}copy(){const t=new yy;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function eD(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function tD(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Cy(e,t){const n=e.copy();return n.index_=t,n}function jF(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Wt?n="$priority":e.index_===Xb?n="$value":e.index_===Is?n="$key":((0,I.vA)(e.index_ instanceof Zb,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,I.As)(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=(0,I.As)(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+(0,I.As)(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=(0,I.As)(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+(0,I.As)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function HF(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Wt&&(t.i=e.index_.toString()),t}class wy extends SF{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ig("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:((0,I.vA)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=wy.getListenId_(t,r),a={};this.listens_[s]=a;const l=jF(t._queryParams);this.restRequest_(o+".json",l,(d,f)=>{let g=f;if(404===d&&(g=null,d=null),null===d&&this.onDataUpdate_(o,g,!1,r),(0,I.yw)(this.listens_,s)===a){let m;m=d?401===d?"permission_denied":"rest_error:"+d:"ok",i(m,null)}})}unlisten(t,n){const r=wy.getListenId_(t,n);delete this.listens_[r]}get(t){const n=jF(t._queryParams),r=t._path.toString(),i=new I.cY;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,I.Am)(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,I.$L)(a.responseText)}catch{Or("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&Or("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class mY{constructor(){this.rootNode_=Ge.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function Ey(){return{value:null,children:new Map}}function rh(e,t,n){if(tt(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=et(t);e.children.has(r)||e.children.set(r,Ey()),rh(e.children.get(r),t=Lt(t),n)}}function nD(e,t){if(tt(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Wt,(r,i)=>{rh(e,new bt(r),i)}),nD(e,t)}}if(e.children.size>0){const n=et(t);return t=Lt(t),e.children.has(n)&&nD(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function rD(e,t,n){null!==e.value?n(t,e.value):function _Y(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{rD(i,new bt(t.toString()+"/"+r),n)})}class vY{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&sr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class wY{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vY(t);const r=1e4+2e4*Math.random();sg(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;sr(t,(i,o)=>{o>0&&(0,I.gR)(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),sg(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var bs=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(bs||{});function sD(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Iy{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=bs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(tt(this.path)){if(null!=this.affectedTree.value)return(0,I.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new bt(t));return new Iy(_t(),n,this.revert)}}return(0,I.vA)(et(this.path)===t,"operationForChild called for unrelated child."),new Iy(Lt(this.path),this.affectedTree,this.revert)}}class gg{constructor(t,n){this.source=t,this.path=n,this.type=bs.LISTEN_COMPLETE}operationForChild(t){return tt(this.path)?new gg(this.source,_t()):new gg(this.source,Lt(this.path))}}class Ru{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=bs.OVERWRITE}operationForChild(t){return tt(this.path)?new Ru(this.source,_t(),this.snap.getImmediateChild(t)):new Ru(this.source,Lt(this.path),this.snap)}}class ih{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=bs.MERGE}operationForChild(t){if(tt(this.path)){const n=this.children.subtree(new bt(t));return n.isEmpty()?null:n.value?new Ru(this.source,_t(),n.value):new ih(this.source,_t(),n)}return(0,I.vA)(et(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ih(this.source,Lt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hl{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(tt(t))return this.isFullyInitialized()&&!this.filtered_;const n=et(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class EY{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function mg(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>function DY(e,t,n){if(null==t.childName||null==n.childName)throw(0,I.Hk)("Should only compare child_ events.");const r=new it(t.childName,t.snapshotNode),i=new it(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,l)),s.forEach(a=>{const l=function bY(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,o);i.forEach(d=>{d.respondsTo(a.type)&&t.push(d.createEvent(l,e.query_))})})}function by(e,t){return{eventCache:e,serverCache:t}}function _g(e,t,n,r){return by(new hl(t,n,r),e.serverCache)}function zF(e,t,n,r){return by(e.eventCache,new hl(t,n,r))}function Dy(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function xu(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let aD;class Gt{constructor(t,n=(()=>(aD||(aD=new mi(uK)),aD))()){this.value=t,this.children=n}static fromObject(t){let n=new Gt(null);return sr(t,(r,i)=>{n=n.set(new bt(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:_t(),value:this.value};if(tt(t))return null;{const r=et(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Lt(t),n);return null!=o?{path:ln(new bt(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(tt(t))return this;{const n=et(t),r=this.children.get(n);return null!==r?r.subtree(Lt(t)):new Gt(null)}}set(t,n){if(tt(t))return new Gt(n,this.children);{const r=et(t),o=(this.children.get(r)||new Gt(null)).set(Lt(t),n),s=this.children.insert(r,o);return new Gt(this.value,s)}}remove(t){if(tt(t))return this.children.isEmpty()?new Gt(null):new Gt(null,this.children);{const n=et(t),r=this.children.get(n);if(r){const i=r.remove(Lt(t));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new Gt(null):new Gt(this.value,o)}return this}}get(t){if(tt(t))return this.value;{const n=et(t),r=this.children.get(n);return r?r.get(Lt(t)):null}}setTree(t,n){if(tt(t))return n;{const r=et(t),o=(this.children.get(r)||new Gt(null)).setTree(Lt(t),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Gt(this.value,s)}}fold(t){return this.fold_(_t(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(ln(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,_t(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(tt(t))return null;{const o=et(t),s=this.children.get(o);return s?s.findOnPath_(Lt(t),ln(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,_t(),n)}foreachOnPath_(t,n,r){if(tt(t))return this;{this.value&&r(n,this.value);const i=et(t),o=this.children.get(i);return o?o.foreachOnPath_(Lt(t),ln(n,i),r):new Gt(null)}}foreach(t){this.foreach_(_t(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ln(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class No{constructor(t){this.writeTree_=t}static empty(){return new No(new Gt(null))}}function vg(e,t,n){if(tt(t))return new No(new Gt(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Xr(i,t);return o=o.updateChild(s,n),new No(e.writeTree_.set(i,o))}{const i=new Gt(n),o=e.writeTree_.setTree(t,i);return new No(o)}}}function lD(e,t,n){let r=e;return sr(n,(i,o)=>{r=vg(r,ln(t,i),o)}),r}function WF(e,t){if(tt(t))return No.empty();{const n=e.writeTree_.setTree(t,new Gt(null));return new No(n)}}function uD(e,t){return null!=Ou(e,t)}function Ou(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Xr(n.path,t)):null}function GF(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Wt,(r,i)=>{t.push(new it(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new it(r,i.value))}),t}function fl(e,t){if(tt(t))return e;{const n=Ou(e,t);return new No(null!=n?new Gt(n):e.writeTree_.subtree(t))}}function cD(e){return e.writeTree_.isEmpty()}function oh(e,t){return qF(_t(),e.writeTree_,t)}function qF(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?((0,I.vA)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=qF(ln(e,i),o,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(ln(e,".priority"),r)),n}}function Sy(e,t){return XF(t,e)}function RY(e,t){if(e.snap)return io(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&io(ln(e.path,n),t))return!0;return!1}function OY(e){return e.visible}function KF(e,t,n){let r=No.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)io(n,s)?(a=Xr(n,s),r=vg(r,a,o.snap)):io(s,n)&&(a=Xr(s,n),r=vg(r,_t(),o.snap.getChild(a)));else{if(!o.children)throw(0,I.Hk)("WriteRecord should have .snap or .children");if(io(n,s))a=Xr(n,s),r=lD(r,a,o.children);else if(io(s,n))if(a=Xr(s,n),tt(a))r=lD(r,_t(),o.children);else{const l=(0,I.yw)(o.children,et(a));if(l){const d=l.getChild(Lt(a));r=vg(r,_t(),d)}}}}}return r}function YF(e,t,n,r,i){if(r||i){const o=fl(e.visibleWrites,t);if(!i&&cD(o))return n;if(!i&&null==n&&!uD(o,_t()))return null;{const s=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(io(d.path,t)||io(t,d.path))};return oh(KF(e.allWrites,s,t),n||Ge.EMPTY_NODE)}}{const o=Ou(e.visibleWrites,t);if(null!=o)return o;{const s=fl(e.visibleWrites,t);return cD(s)?n:null!=n||uD(s,_t())?oh(s,n||Ge.EMPTY_NODE):null}}}function Ty(e,t,n,r){return YF(e.writeTree,e.treePath,t,n,r)}function dD(e,t){return function PY(e,t,n){let r=Ge.EMPTY_NODE;const i=Ou(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Wt,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=fl(e.visibleWrites,t);return n.forEachChild(Wt,(s,a)=>{const l=oh(fl(o,new bt(s)),a);r=r.updateImmediateChild(s,l)}),GF(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return GF(fl(e.visibleWrites,t)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(e.writeTree,e.treePath,t)}function QF(e,t,n,r){return function kY(e,t,n,r,i){(0,I.vA)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=ln(t,n);if(uD(e.visibleWrites,o))return null;{const s=fl(e.visibleWrites,o);return cD(s)?i.getChild(n):oh(s,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Ay(e,t){return function LY(e,t){return Ou(e.visibleWrites,t)}(e.writeTree,ln(e.treePath,t))}function hD(e,t,n){return function FY(e,t,n,r){const i=ln(t,n),o=Ou(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?oh(fl(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function ZF(e,t){return XF(ln(e.treePath,t),e.writeTree)}function XF(e,t){return{treePath:e,writeTree:t}}class jY{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;(0,I.vA)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,I.vA)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,fg(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,hg(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,nh(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw(0,I.Hk)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,fg(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const JF=new class HY{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class fD{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new hl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hD(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:xu(this.viewCache_),o=function BY(e,t,n,r,i,o){return function VY(e,t,n,r,i,o,s){let a;const l=fl(e.visibleWrites,t),d=Ou(l,_t());if(null!=d)a=d;else{if(null==n)return[];a=oh(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const f=[],g=s.getCompare(),m=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let v=m.getNext();for(;v&&f.length<i;)0!==g(v,r)&&f.push(v),v=m.getNext();return f}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,i,n,1,r,t);return 0===o.length?null:o[0]}}function eL(e,t,n,r,i,o){const s=t.eventCache;if(null!=Ay(r,n))return t;{let a,l;if(tt(n))if((0,I.vA)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const d=xu(t),g=dD(r,d instanceof Ge?d:Ge.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const d=Ty(r,xu(t));a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const d=et(n);if(".priority"===d){(0,I.vA)(1===dl(n),"Can't have a priority with additional path components");const f=s.getNode();l=t.serverCache.getNode();const g=QF(r,n,f,l);a=null!=g?e.filter.updatePriority(f,g):s.getNode()}else{const f=Lt(n);let g;if(s.isCompleteForChild(d)){l=t.serverCache.getNode();const m=QF(r,n,s.getNode(),l);g=null!=m?s.getNode().getImmediateChild(d).updateChild(f,m):s.getNode().getImmediateChild(d)}else g=hD(r,d,t.serverCache);a=null!=g?e.filter.updateChild(s.getNode(),d,g,f,i,o):s.getNode()}}return _g(t,a,s.isFullyInitialized()||tt(n),e.filter.filtersNodes())}}function My(e,t,n,r,i,o,s,a){const l=t.serverCache;let d;const f=s?e.filter:e.filter.getIndexedFilter();if(tt(n))d=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);d=f.updateFullNode(l.getNode(),v,null)}else{const v=et(n);if(!l.isCompleteForPath(n)&&dl(n)>1)return t;const C=Lt(n),E=l.getNode().getImmediateChild(v).updateChild(C,r);d=".priority"===v?f.updatePriority(l.getNode(),E):f.updateChild(l.getNode(),v,E,C,JF,null)}const g=zF(t,d,l.isFullyInitialized()||tt(n),f.filtersNodes());return eL(e,g,n,i,new fD(i,g,o),a)}function pD(e,t,n,r,i,o,s){const a=t.eventCache;let l,d;const f=new fD(i,t,o);if(tt(n))d=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=_g(t,d,!0,e.filter.filtersNodes());else{const g=et(n);if(".priority"===g)d=e.filter.updatePriority(t.eventCache.getNode(),r),l=_g(t,d,a.isFullyInitialized(),a.isFiltered());else{const m=Lt(n),v=a.getNode().getImmediateChild(g);let C;if(tt(m))C=r;else{const y=f.getCompleteChild(g);C=null!=y?".priority"===Wb(m)&&y.getChild(NF(m)).isEmpty()?y:y.updateChild(m,r):Ge.EMPTY_NODE}l=v.equals(C)?t:_g(t,e.filter.updateChild(a.getNode(),g,C,m,f,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function tL(e,t){return e.eventCache.isCompleteForChild(t)}function nL(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function gD(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d,l=t;d=tt(n)?r:new Gt(null).setTree(n,r);const f=t.serverCache.getNode();return d.children.inorderTraversal((g,m)=>{if(f.hasChild(g)){const C=nL(0,t.serverCache.getNode().getImmediateChild(g),m);l=My(e,l,new bt(g),C,i,o,s,a)}}),d.children.inorderTraversal((g,m)=>{const v=!t.serverCache.isCompleteForChild(g)&&null===m.value;if(!f.hasChild(g)&&!v){const y=nL(0,t.serverCache.getNode().getImmediateChild(g),m);l=My(e,l,new bt(g),y,i,o,s,a)}}),l}class ZY{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Jb(r.getIndex()),o=function dY(e){return e.loadsAllData()?new Jb(e.getIndex()):e.hasLimit()?new cY(e):new pg(e)}(r);this.processor_=function $Y(e){return{filter:e}}(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(Ge.EMPTY_NODE,s.getNode(),null),d=o.updateFullNode(Ge.EMPTY_NODE,a.getNode(),null),f=new hl(l,s.isFullyInitialized(),i.filtersNodes()),g=new hl(d,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=by(g,f),this.eventGenerator_=new EY(this.query_)}get query(){return this.query_}}function eQ(e,t){const n=xu(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!tt(t)&&!n.getImmediateChild(et(t)).isEmpty())?n.getChild(t):null}function rL(e){return 0===e.eventRegistrations_.length}function iL(e,t,n){const r=[];if(n){(0,I.vA)(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}else i.push(s)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function oL(e,t,n,r){t.type===bs.MERGE&&null!==t.source.queryId&&((0,I.vA)(xu(e.viewCache_),"We should always have a full cache before handling merges"),(0,I.vA)(Dy(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function WY(e,t,n,r,i){const o=new jY;let s,a;if(n.type===bs.OVERWRITE){const d=n;d.source.fromUser?s=pD(e,t,d.path,d.snap,r,i,o):((0,I.vA)(d.source.fromServer,"Unknown source."),a=d.source.tagged||t.serverCache.isFiltered()&&!tt(d.path),s=My(e,t,d.path,d.snap,r,i,a,o))}else if(n.type===bs.MERGE){const d=n;d.source.fromUser?s=function qY(e,t,n,r,i,o,s){let a=t;return r.foreach((l,d)=>{const f=ln(n,l);tL(t,et(f))&&(a=pD(e,a,f,d,i,o,s))}),r.foreach((l,d)=>{const f=ln(n,l);tL(t,et(f))||(a=pD(e,a,f,d,i,o,s))}),a}(e,t,d.path,d.children,r,i,o):((0,I.vA)(d.source.fromServer,"Unknown source."),a=d.source.tagged||t.serverCache.isFiltered(),s=gD(e,t,d.path,d.children,r,i,a,o))}else if(n.type===bs.ACK_USER_WRITE){const d=n;s=d.revert?function QY(e,t,n,r,i,o){let s;if(null!=Ay(r,n))return t;{const a=new fD(r,t,i),l=t.eventCache.getNode();let d;if(tt(n)||".priority"===et(n)){let f;if(t.serverCache.isFullyInitialized())f=Ty(r,xu(t));else{const g=t.serverCache.getNode();(0,I.vA)(g instanceof Ge,"serverChildren would be complete if leaf node"),f=dD(r,g)}d=e.filter.updateFullNode(l,f,o)}else{const f=et(n);let g=hD(r,f,t.serverCache);null==g&&t.serverCache.isCompleteForChild(f)&&(g=l.getImmediateChild(f)),d=null!=g?e.filter.updateChild(l,f,g,Lt(n),a,o):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,Ge.EMPTY_NODE,Lt(n),a,o):l,d.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Ty(r,xu(t)),s.isLeafNode()&&(d=e.filter.updateFullNode(d,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Ay(r,_t()),_g(t,d,s,e.filter.filtersNodes())}}(e,t,d.path,r,i,o):function KY(e,t,n,r,i,o,s){if(null!=Ay(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(tt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return My(e,t,n,l.getNode().getChild(n),i,o,a,s);if(tt(n)){let d=new Gt(null);return l.getNode().forEachChild(Is,(f,g)=>{d=d.set(new bt(f),g)}),gD(e,t,n,d,i,o,a,s)}return t}{let d=new Gt(null);return r.foreach((f,g)=>{const m=ln(n,f);l.isCompleteForPath(m)&&(d=d.set(f,l.getNode().getChild(m)))}),gD(e,t,n,d,i,o,a,s)}}(e,t,d.path,d.affectedTree,r,i,o)}else{if(n.type!==bs.LISTEN_COMPLETE)throw(0,I.Hk)("Unknown operation type: "+n.type);s=function YY(e,t,n,r,i){const o=t.serverCache;return eL(e,zF(t,o.getNode(),o.isFullyInitialized()||tt(n),o.isFiltered()),n,r,JF,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function GY(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Dy(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(BF(Dy(t)))}}(t,s,l),{viewCache:s,changes:l}}(e.processor_,i,t,n,r);return function zY(e,t){(0,I.vA)(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,I.vA)(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),(0,I.vA)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,sL(e,o.changes,o.viewCache.eventCache.getNode(),null)}function sL(e,t,n,r){return function IY(e,t,n,r){const i=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function uY(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(s.childName,s.snapshotNode))}),mg(e,i,"child_removed",t,r,n),mg(e,i,"child_added",t,r,n),mg(e,i,"child_moved",o,r,n),mg(e,i,"child_changed",t,r,n),mg(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let Ny,xy;class aL{constructor(){this.views=new Map}}function mD(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return(0,I.vA)(null!=o,"SyncTree gave us an op for an invalid query."),oL(o,t,n,r)}{let o=[];for(const s of e.views.values())o=o.concat(oL(s,t,n,r));return o}}function lL(e,t,n,r,i){const s=e.views.get(t._queryIdentifier);if(!s){let a=Ty(n,i?r:null),l=!1;a?l=!0:r instanceof Ge?(a=dD(n,r),l=!1):(a=Ge.EMPTY_NODE,l=!1);const d=by(new hl(a,l,!1),new hl(r,i,!1));return new ZY(t,d)}return s}function uL(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function pl(e,t){let n=null;for(const r of e.views.values())n=n||eQ(r,t);return n}function cL(e,t){return t._queryParams.loadsAllData()?Ry(e):e.views.get(t._queryIdentifier)}function dL(e,t){return null!=cL(e,t)}function gl(e){return null!=Ry(e)}function Ry(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let cQ=1;class hL{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Gt(null),this.pendingWriteTree_=function UY(){return{visibleWrites:No.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _D(e,t,n,r,i){return function TY(e,t,n,r,i){(0,I.vA)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=vg(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?sh(e,new Ru({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ml(e,t,n=!1){const r=function MY(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function NY(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);(0,I.vA)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&RY(a,r.path)?i=!1:io(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function xY(e){e.visibleWrites=KF(e.allWrites,OY,_t()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=WF(e.visibleWrites,r.path):sr(r.children,l=>{e.visibleWrites=WF(e.visibleWrites,ln(r.path,l))}),!0))}(e.pendingWriteTree_,t)){let o=new Gt(null);return null!=r.snap?o=o.set(_t(),!0):sr(r.children,s=>{o=o.set(new bt(s),!0)}),sh(e,new Iy(r.path,o,n))}return[]}function yg(e,t,n){return sh(e,new Ru({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Oy(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||dL(s,t))){const l=function aQ(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=gl(e);if("default"===i)for(const[l,d]of e.views.entries())s=s.concat(iL(d,n,r)),rL(d)&&(e.views.delete(l),d.query._queryParams.loadsAllData()||o.push(d.query));else{const l=e.views.get(i);l&&(s=s.concat(iL(l,n,r)),rL(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!gl(e)&&o.push(new(function iQ(){return(0,I.vA)(Ny,"Reference.ts has not been loaded"),Ny}())(t._repo,t._path)),{removed:o,events:s}}(s,t,n,r);(function oQ(e){return 0===e.views.size})(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const d=l.removed;if(a=l.events,!i){const f=-1!==d.findIndex(m=>m._queryParams.loadsAllData()),g=e.syncPointTree_.findOnPath(o,(m,v)=>gl(v));if(f&&!g){const m=e.syncPointTree_.subtree(o);if(!m.isEmpty()){const v=function _Q(e){return e.fold((t,n,r)=>{if(n&&gl(n))return[Ry(n)];{let i=[];return n&&(i=uL(n)),sr(r,(o,s)=>{i=i.concat(s)}),i}})}(m);for(let C=0;C<v.length;++C){const y=v[C],E=y.query,M=mL(e,y);e.listenProvider_.startListening(wg(E),Cg(e,E),M.hashFn,M.onComplete)}}}!g&&d.length>0&&!r&&(f?e.listenProvider_.stopListening(wg(t),null):d.forEach(m=>{const v=e.queryToTagMap.get(ky(m));e.listenProvider_.stopListening(wg(m),v)}))}!function vQ(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=ky(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,d)}return a}function fL(e,t,n,r){const i=yD(e,r);if(null!=i){const o=CD(i),s=o.path,a=o.queryId,l=Xr(s,t);return wD(e,s,new Ru(sD(a),l,n))}return[]}function vD(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(m,v)=>{const C=Xr(m,i);o=o||pl(v,C),s=s||gl(v)});let l,a=e.syncPointTree_.get(i);a?(s=s||gl(a),o=o||pl(a,_t())):(a=new aL,e.syncPointTree_=e.syncPointTree_.set(i,a)),null!=o?l=!0:(l=!1,o=Ge.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((v,C)=>{const y=pl(C,_t());y&&(o=o.updateImmediateChild(v,y))}));const d=dL(a,t);if(!d&&!t._queryParams.loadsAllData()){const m=ky(t);(0,I.vA)(!e.queryToTagMap.has(m),"View does not exist, but we have a tag");const v=function yQ(){return cQ++}();e.queryToTagMap.set(m,v),e.tagToQueryMap.set(v,m)}let g=function sQ(e,t,n,r,i,o){const s=lL(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function tQ(e,t){e.eventRegistrations_.push(t)}(s,n),function nQ(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Wt,(o,s)=>{r.push(nh(o,s))}),n.isFullyInitialized()&&r.push(BF(n.getNode())),sL(e,r,n.getNode(),t)}(s,n)}(a,t,n,Sy(e.pendingWriteTree_,i),o,l);if(!d&&!s&&!r){const m=cL(a,t);g=g.concat(function CQ(e,t,n){const r=t._path,i=Cg(e,t),o=mL(e,n),s=e.listenProvider_.startListening(wg(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)(0,I.vA)(!gl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((d,f,g)=>{if(!tt(d)&&f&&gl(f))return[Ry(f).query];{let m=[];return f&&(m=m.concat(uL(f).map(v=>v.query))),sr(g,(v,C)=>{m=m.concat(C)}),m}});for(let d=0;d<l.length;++d){const f=l[d];e.listenProvider_.stopListening(wg(f),Cg(e,f))}}return s}(e,t,m))}return g}function Py(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const d=pl(a,Xr(s,t));if(d)return d});return YF(i,t,o,n,!0)}function sh(e,t){return pL(t,e.syncPointTree_,null,Sy(e.pendingWriteTree_,_t()))}function pL(e,t,n,r){if(tt(e.path))return gL(e,t,n,r);{const i=t.get(_t());null==n&&null!=i&&(n=pl(i,_t()));let o=[];const s=et(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const d=n?n.getImmediateChild(s):null,f=ZF(r,s);o=o.concat(pL(a,l,d,f))}return i&&(o=o.concat(mD(i,e,r,n))),o}}function gL(e,t,n,r){const i=t.get(_t());null==n&&null!=i&&(n=pl(i,_t()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,d=ZF(r,s),f=e.operationForChild(s);f&&(o=o.concat(gL(f,a,l,d)))}),i&&(o=o.concat(mD(i,e,r,n))),o}function mL(e,t){const n=t.query,r=Cg(e,n);return{hashFn:()=>(function XY(e){return e.viewCache_.serverCache.getNode()}(t)||Ge.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function pQ(e,t,n){const r=yD(e,n);if(r){const i=CD(r),o=i.path,s=i.queryId,a=Xr(o,t);return wD(e,o,new gg(sD(s),a))}return[]}(e,n._path,r):function fQ(e,t){return sh(e,new gg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const o=function hK(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(i,n);return Oy(e,n,null,o)}}}}function Cg(e,t){const n=ky(t);return e.queryToTagMap.get(n)}function ky(e){return e._path.toString()+"$"+e._queryIdentifier}function yD(e,t){return e.tagToQueryMap.get(t)}function CD(e){const t=e.indexOf("$");return(0,I.vA)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new bt(e.substr(0,t))}}function wD(e,t,n){const r=e.syncPointTree_.get(t);return(0,I.vA)(r,"Missing sync point for query tag that we're tracking"),mD(r,n,Sy(e.pendingWriteTree_,t),null)}function wg(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function uQ(){return(0,I.vA)(xy,"Reference.ts has not been loaded"),xy}())(e._repo,e._path):e}class ED{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new ED(n)}node(){return this.node_}}class ID{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ln(this.path_,t);return new ID(this.syncTree_,n)}node(){return Py(this.syncTree_,this.path_)}}const wQ=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},_L=function(e,t,n){return e&&"object"==typeof e?((0,I.vA)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?EQ(e[".sv"],t,n):"object"==typeof e[".sv"]?IQ(e[".sv"],t):void(0,I.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},EQ=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,I.vA)(!1,"Unexpected server value: "+e)},IQ=function(e,t,n){e.hasOwnProperty("increment")||(0,I.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&(0,I.vA)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,I.vA)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},vL=function(e,t,n,r){return DD(t,new ID(n,e),r)},bD=function(e,t,n){return DD(e,new ED(t),n)};function DD(e,t,n){const r=e.getPriority().val(),i=_L(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=_L(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new eh(a,gn(i)):e}{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new eh(i))),s.forEachChild(Wt,(a,l)=>{const d=DD(l,t.getImmediateChild(a),n);d!==l&&(o=o.updateImmediateChild(a,d))}),o}}class SD{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Fy(e,t){let n=t instanceof bt?t:new bt(t),r=e,i=et(n);for(;null!==i;){const o=(0,I.yw)(r.node.children,i)||{children:{},childCount:0};r=new SD(i,r,o),n=Lt(n),i=et(n)}return r}function Pu(e){return e.node.value}function TD(e,t){e.node.value=t,AD(e)}function yL(e){return e.node.childCount>0}function Ly(e,t){sr(e.node.children,(n,r)=>{t(new SD(n,e,r))})}function CL(e,t,n,r){n&&!r&&t(e),Ly(e,i=>{CL(i,t,!0,r)}),n&&r&&t(e)}function Eg(e){return new bt(null===e.parent?e.name:Eg(e.parent)+"/"+e.name)}function AD(e){null!==e.parent&&function SQ(e,t,n){const r=function bQ(e){return void 0===Pu(e)&&!yL(e)}(n),i=(0,I.gR)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,AD(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,AD(e))}(e.parent,e.name,e)}const TQ=/[\[\].#$\/\u0000-\u001F\u007F]/,AQ=/[\[\].#$\u0000-\u001F\u007F]/,MD=10485760,Vy=function(e){return"string"==typeof e&&0!==e.length&&!TQ.test(e)},wL=function(e){return"string"==typeof e&&0!==e.length&&!AQ.test(e)},Ig=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!dy(e)||e&&"object"==typeof e&&(0,I.gR)(e,".sv")},Ds=function(e,t,n,r){r&&void 0===t||bg((0,I.dI)(e,"value"),t,n)},bg=function(e,t,n){const r=n instanceof bt?new WK(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Mu(r));if("function"==typeof t)throw new Error(e+"contains a function "+Mu(r)+" with contents = "+t.toString());if(dy(t))throw new Error(e+"contains "+t.toString()+" "+Mu(r));if("string"==typeof t&&t.length>MD/3&&(0,I.OE)(t)>MD)throw new Error(e+"contains a string greater than "+MD+" utf8 bytes "+Mu(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(sr(t,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Vy(s)))throw new Error(e+" contains an invalid key ("+s+") "+Mu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function GK(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,I.OE)(t),RF(e)})(r,s),bg(e,a,r),function qK(e){const t=e.parts_.pop();e.byteLength_-=(0,I.OE)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&o)throw new Error(e+' contains ".value" child '+Mu(r)+" in addition to actual children.")}},EL=function(e,t,n,r){if(r&&void 0===t)return;const i=(0,I.dI)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];sr(t,(s,a)=>{const l=new bt(s);if(bg(i,a,ln(n,l)),".priority"===Wb(l)&&!Ig(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const o=lg(r);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!Vy(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(zK);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&io(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},ND=function(e,t,n){if(!n||void 0!==t){if(dy(t))throw new Error((0,I.dI)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ig(t))throw new Error((0,I.dI)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Dg=function(e,t,n,r){if(!(r&&void 0===n||Vy(n)))throw new Error((0,I.dI)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Sg=function(e,t,n,r){if(!(r&&void 0===n||wL(n)))throw new Error((0,I.dI)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},RQ=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Sg(e,t,n,r)},oo=function(e,t){if(".info"===et(t))throw new Error(e+" failed = Can't modify data under /.info/")},IL=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Vy(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wL(e)}(n))throw new Error((0,I.dI)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class xQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Uy(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==n&&!Gb(o,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function bL(e,t,n){Uy(e,n),DL(e,r=>Gb(r,t))}function ki(e,t,n){Uy(e,n),DL(e,r=>io(r,t)||io(t,r))}function DL(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(OQ(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function OQ(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Tu&&or("event: "+n.toString()),Xd(r)}}}const SL="repo_interrupt",PQ=25;class kQ{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ey(),this.transactionQueueTree_=new SD,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function TL(e){const n=e.infoData_.getNode(new bt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Tg(e){return wQ({timestamp:TL(e)})}function AL(e,t,n,r,i){e.dataUpdateCount++;const o=new bt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const l=(0,I.kH)(n,d=>gn(d));s=function gQ(e,t,n,r){const i=yD(e,r);if(i){const o=CD(i),s=o.path,a=o.queryId,l=Xr(s,t),d=Gt.fromObject(n);return wD(e,s,new ih(sD(a),l,d))}return[]}(e.serverSyncTree_,o,l,i)}else{const l=gn(n);s=fL(e.serverSyncTree_,o,l,i)}else if(r){const l=(0,I.kH)(n,d=>gn(d));s=function hQ(e,t,n){const r=Gt.fromObject(n);return sh(e,new ih({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,l)}else{const l=gn(n);s=yg(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=lh(e,o)),ki(e.eventQueue_,a,s)}function ML(e,t){RD(e,"connected",t),!1===t&&function BQ(e){ah(e,"onDisconnectEvents");const t=Tg(e),n=Ey();rD(e.onDisconnect_,_t(),(i,o)=>{const s=vL(i,o,e.serverSyncTree_,t);rh(n,i,s)});let r=[];rD(n,_t(),(i,o)=>{r=r.concat(yg(e.serverSyncTree_,i,o));const s=kD(e,i);lh(e,s)}),e.onDisconnect_=Ey(),ki(e.eventQueue_,_t(),r)}(e)}function RD(e,t,n){const r=new bt("/.info/"+t),i=gn(n);e.infoData_.updateSnapshot(r,i);const o=yg(e.infoSyncTree_,r,i);ki(e.eventQueue_,r,o)}function By(e){return e.nextWriteId_++}function xD(e,t,n,r,i){ah(e,"set",{path:t.toString(),value:n,priority:r});const o=Tg(e),s=gn(n,r),a=Py(e.serverSyncTree_,t),l=bD(s,a,o),d=By(e),f=_D(e.serverSyncTree_,t,l,d,!0);Uy(e.eventQueue_,f),e.server_.put(t.toString(),s.val(!0),(m,v)=>{const C="ok"===m;C||Or("set at "+t+" failed: "+m);const y=ml(e.serverSyncTree_,d,!C);ki(e.eventQueue_,t,y),_l(0,i,m,v)});const g=kD(e,t);lh(e,g),ki(e.eventQueue_,g,[])}function jQ(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&nD(e.onDisconnect_,t),_l(0,n,r,i)})}function NL(e,t,n,r){const i=gn(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(o,s)=>{"ok"===o&&rh(e.onDisconnect_,t,i),_l(0,r,o,s)})}function OD(e,t,n){let r;r=".info"===et(t._path)?Oy(e.infoSyncTree_,t,n):Oy(e.serverSyncTree_,t,n),bL(e.eventQueue_,t._path,r)}function RL(e){e.persistentConnection_&&e.persistentConnection_.interrupt(SL)}function ah(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),or(n,...t)}function _l(e,t,n,r){t&&Xd(()=>{if("ok"===n)t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,t(s)}})}function PD(e,t,n){return Py(e.serverSyncTree_,t,n)||Ge.EMPTY_NODE}function jy(e,t=e.transactionQueueTree_){if(t||Hy(e,t),Pu(t)){const n=OL(e,t);(0,I.vA)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function qQ(e,t,n){const r=n.map(d=>d.currentWriteId),i=PD(e,t,r);let o=i;const s=i.hash();for(let d=0;d<n.length;d++){const f=n[d];(0,I.vA)(0===f.status,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const g=Xr(t,f.path);o=o.updateChild(g,f.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,d=>{ah(e,"transaction put response",{path:l.toString(),status:d});let f=[];if("ok"===d){const g=[];for(let m=0;m<n.length;m++)n[m].status=2,f=f.concat(ml(e.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&g.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();Hy(e,Fy(e.transactionQueueTree_,t)),jy(e,e.transactionQueueTree_),ki(e.eventQueue_,t,f);for(let m=0;m<g.length;m++)Xd(g[m])}else{if("datastale"===d)for(let g=0;g<n.length;g++)n[g].status=3===n[g].status?4:0;else{Or("transaction at "+l.toString()+" failed: "+d);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=d}lh(e,t)}},s)}(e,Eg(t),n)}else yL(t)&&Ly(t,n=>{jy(e,n)})}function lh(e,t){const n=xL(e,t),r=Eg(n);return function KQ(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],d=Xr(n,l.path);let g,f=!1;if((0,I.vA)(null!==d,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,g=l.abortReason,i=i.concat(ml(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=PQ)f=!0,g="maxretry",i=i.concat(ml(e.serverSyncTree_,l.currentWriteId,!0));else{const m=PD(e,l.path,s);l.currentInputSnapshot=m;const v=t[a].update(m.val());if(void 0!==v){bg("transaction failed: Data returned ",v,l.path);let C=gn(v);"object"==typeof v&&null!=v&&(0,I.gR)(v,".priority")||(C=C.updatePriority(m.getPriority()));const E=l.currentWriteId,M=Tg(e),T=bD(C,m,M);l.currentOutputSnapshotRaw=C,l.currentOutputSnapshotResolved=T,l.currentWriteId=By(e),s.splice(s.indexOf(E),1),i=i.concat(_D(e.serverSyncTree_,l.path,T,l.currentWriteId,l.applyLocally)),i=i.concat(ml(e.serverSyncTree_,E,!0))}else f=!0,g="nodata",i=i.concat(ml(e.serverSyncTree_,l.currentWriteId,!0))}ki(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,function(m){setTimeout(m,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&r.push("nodata"===g?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(g),!1,null)))}Hy(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Xd(r[a]);jy(e,e.transactionQueueTree_)}(e,OL(e,n),r),r}function xL(e,t){let n,r=e.transactionQueueTree_;for(n=et(t);null!==n&&void 0===Pu(r);)r=Fy(r,n),n=et(t=Lt(t));return r}function OL(e,t){const n=[];return PL(e,t,n),n.sort((r,i)=>r.order-i.order),n}function PL(e,t,n){const r=Pu(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ly(t,i=>{PL(e,i,n)})}function Hy(e,t){const n=Pu(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,TD(t,n.length>0?n:void 0)}Ly(t,r=>{Hy(e,r)})}function kD(e,t){const n=Eg(xL(e,t)),r=Fy(e.transactionQueueTree_,t);return function DQ(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{FD(e,i)}),FD(e,r),CL(r,i=>{FD(e,i)}),n}function FD(e,t){const n=Pu(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,I.vA)(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):((0,I.vA)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ml(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?TD(t,void 0):n.length=o+1,ki(e.eventQueue_,Eg(t),i);for(let s=0;s<r.length;s++)Xd(r[s])}}const LD=function(e,t){const n=ZQ(e),r=n.namespace;return"firebase.com"===n.domain&&Es(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Es("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Or("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ub(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new bt(n.pathString)}},ZQ=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"==typeof e){let d=e.indexOf("//");d>=0&&(a=e.substring(0,d-1),e=e.substring(d+2));let f=e.indexOf("/");-1===f&&(f=e.length);let g=e.indexOf("?");-1===g&&(g=e.length),t=e.substring(0,Math.min(f,g)),f<g&&(i=function YQ(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(f,g)));const m=function QQ(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Or(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,g)));d=t.indexOf(":"),d>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(d+1),10)):d=t.length;const v=t.slice(0,d);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{const C=t.indexOf(".");r=t.substring(0,C).toLowerCase(),n=t.substring(C+1),o=r}"ns"in m&&(o=m.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},kL="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",XQ=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=kL.charAt(n%64),n=Math.floor(n/64);(0,I.vA)(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=kL.charAt(t[i]);return(0,I.vA)(20===s.length,"nextPushId: Length should be 20."),s}}();class FL{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,I.As)(this.snapshot.exportVal())}}class LL{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class VD{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return(0,I.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class VL{constructor(t,n){this._repo=t,this._path=n}cancel(){const t=new I.cY;return jQ(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){oo("OnDisconnect.remove",this._path);const t=new I.cY;return NL(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){oo("OnDisconnect.set",this._path),Ds("OnDisconnect.set",t,this._path,!1);const n=new I.cY;return NL(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){oo("OnDisconnect.setWithPriority",this._path),Ds("OnDisconnect.setWithPriority",t,this._path,!1),ND("OnDisconnect.setWithPriority",n,!1);const r=new I.cY;return function HQ(e,t,n,r,i){const o=gn(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{"ok"===s&&rh(e.onDisconnect_,t,o),_l(0,i,s,a)})}(this._repo,this._path,t,n,r.wrapCallback(()=>{})),r.promise}update(t){oo("OnDisconnect.update",this._path),EL("OnDisconnect.update",t,this._path,!1);const n=new I.cY;return function $Q(e,t,n,r){if((0,I.Im)(n))return or("onDisconnect().update() called with empty data.  Don't do anything."),void _l(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,o)=>{"ok"===i&&sr(n,(s,a)=>{const l=gn(a);rh(e.onDisconnect_,ln(t,s),l)}),_l(0,r,i,o)})}(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}}class _i{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return tt(this._path)?null:Wb(this._path)}get ref(){return new so(this._repo,this._path)}get _queryIdentifier(){const t=HF(this._queryParams),n=Lb(t);return"{}"===n?"default":n}get _queryObject(){return HF(this._queryParams)}isEqual(t){if(!((t=(0,I.Ku)(t))instanceof _i))return!1;const n=this._repo===t._repo,r=Gb(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function $K(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function $y(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function vl(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Is){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==ul)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==ga)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Wt){if(null!=t&&!Ig(t)||null!=n&&!Ig(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,I.vA)(e.getIndex()instanceof Zb||e.getIndex()===Xb,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function zy(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class so extends _i{constructor(t,n){super(t,n,new yy,!1)}get parent(){const t=NF(this._path);return null===t?null:new so(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class ku{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new bt(t),r=Fu(this.ref,t);return new ku(this._node.getChild(n),r,Wt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new ku(i,Fu(this.ref,r),Wt)))}hasChild(t){const n=new bt(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function UL(e,t){return(e=(0,I.Ku)(e))._checkNotDeleted("ref"),void 0!==t?Fu(e._root,t):e._root}function BL(e,t){(e=(0,I.Ku)(e))._checkNotDeleted("refFromURL");const n=LD(t,e._repo.repoInfo_.nodeAdmin);IL("refFromURL",n);const r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Es("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),UL(e,n.path.toString())}function Fu(e,t){return null===et((e=(0,I.Ku)(e))._path)?RQ("child","path",t,!1):Sg("child","path",t,!1),new so(e._repo,ln(e._path,t))}function UD(e,t){e=(0,I.Ku)(e),oo("set",e._path),Ds("set",t,e._path,!1);const n=new I.cY;return xD(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function rZ(e,t){EL("update",t,e._path,!1);const n=new I.cY;return function UQ(e,t,n,r){ah(e,"update",{path:t.toString(),value:n});let i=!0;const o=Tg(e),s={};if(sr(n,(a,l)=>{i=!1,s[a]=vL(ln(t,a),gn(l),e.serverSyncTree_,o)}),i)or("update() called with empty data.  Don't do anything."),_l(0,r,"ok",void 0);else{const a=By(e),l=function dQ(e,t,n,r){!function AY(e,t,n,r){(0,I.vA)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=lD(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Gt.fromObject(n);return sh(e,new ih({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,a);Uy(e.eventQueue_,l),e.server_.merge(t.toString(),n,(d,f)=>{const g="ok"===d;g||Or("update at "+t+" failed: "+d);const m=ml(e.serverSyncTree_,a,!g),v=m.length>0?lh(e,t):t;ki(e.eventQueue_,v,m),_l(0,r,d,f)}),sr(n,d=>{const f=kD(e,ln(t,d));lh(e,f)}),ki(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function iZ(e){e=(0,I.Ku)(e);const t=new VD(()=>{}),n=new Ag(t);return function VQ(e,t,n){const r=function mQ(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(d,f)=>{const g=Xr(d,n);r=r||pl(f,g)});let i=e.syncPointTree_.get(n);i?r=r||pl(i,_t()):(i=new aL,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new hl(r,!0,!1):null;return function JY(e){return Dy(e.viewCache_)}(lL(i,t,Sy(e.pendingWriteTree_,t._path),o?s.getNode():Ge.EMPTY_NODE,o))}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(i=>{const o=gn(i).withIndex(t._queryParams.getIndex());let s;if(vD(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=yg(e.serverSyncTree_,t._path,o);else{const a=Cg(e.serverSyncTree_,t);s=fL(e.serverSyncTree_,t._path,o,a)}return ki(e.eventQueue_,t._path,s),Oy(e.serverSyncTree_,t,n,null,!0),o},i=>(ah(e,"get for query "+(0,I.As)(t)+" failed: "+i),Promise.reject(new Error(i))))}(e._repo,e,n).then(r=>new ku(r,new so(e._repo,e._path),e._queryParams.getIndex()))}class Ag{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const r=n._queryParams.getIndex();return new FL("value",this,new ku(t.snapshotNode,new so(n._repo,n._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new LL(this,t,n):null}matches(t){return t instanceof Ag&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Wy{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n="children_added"===t?"child_added":t;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new LL(this,t,n):null}createEvent(t,n){(0,I.vA)(null!=t.childName,"Child events should have a childName.");const r=Fu(new so(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new FL(t.type,this,new ku(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Wy&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Mg(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const l=n,d=(f,g)=>{OD(e._repo,e,a),l(f,g)};d.userCallback=n.userCallback,d.context=n.context,n=d}const s=new VD(n,o||void 0),a="value"===t?new Ag(s):new Wy(t,s);return function zQ(e,t,n){let r;r=".info"===et(t._path)?vD(e.infoSyncTree_,t,n):vD(e.serverSyncTree_,t,n),bL(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>OD(e._repo,e,a)}function BD(e,t,n,r){return Mg(e,"value",t,n,r)}function jL(e,t,n,r){return Mg(e,"child_added",t,n,r)}function HL(e,t,n,r){return Mg(e,"child_changed",t,n,r)}function $L(e,t,n,r){return Mg(e,"child_moved",t,n,r)}function zL(e,t,n,r){return Mg(e,"child_removed",t,n,r)}function WL(e,t,n){let r=null;const i=n?new VD(n):null;"value"===t?r=new Ag(i):t&&(r=new Wy(t,i)),OD(e._repo,e,r)}class Ro{}class GL extends Ro{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){Ds("endAt",this._value,t._path,!0);const n=tD(t._queryParams,this._value,this._key);if(zy(n),vl(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _i(t._repo,t._path,n,t._orderByCalled)}}class sZ extends Ro{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){Ds("endBefore",this._value,t._path,!1);const n=function gY(e,t,n){let r;return r=tD(e,t,e.index_===Is||n?n:ul),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(zy(n),vl(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _i(t._repo,t._path,n,t._orderByCalled)}}class qL extends Ro{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){Ds("startAt",this._value,t._path,!0);const n=eD(t._queryParams,this._value,this._key);if(zy(n),vl(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new _i(t._repo,t._path,n,t._orderByCalled)}}class uZ extends Ro{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){Ds("startAfter",this._value,t._path,!1);const n=function pY(e,t,n){let r;return r=eD(e,t,e.index_===Is||n?n:ga),r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(zy(n),vl(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new _i(t._repo,t._path,n,t._orderByCalled)}}class dZ extends Ro{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new _i(t._repo,t._path,function hY(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(t._queryParams,this._limit),t._orderByCalled)}}class fZ extends Ro{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new _i(t._repo,t._path,function fY(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(t._queryParams,this._limit),t._orderByCalled)}}class gZ extends Ro{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){$y(t,"orderByChild");const n=new bt(this._path);if(tt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Zb(n),i=Cy(t._queryParams,r);return vl(i),new _i(t._repo,t._path,i,!0)}}class _Z extends Ro{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){$y(t,"orderByKey");const n=Cy(t._queryParams,Is);return vl(n),new _i(t._repo,t._path,n,!0)}}class yZ extends Ro{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){$y(t,"orderByPriority");const n=Cy(t._queryParams,Wt);return vl(n),new _i(t._repo,t._path,n,!0)}}class wZ extends Ro{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){$y(t,"orderByValue");const n=Cy(t._queryParams,Xb);return vl(n),new _i(t._repo,t._path,n,!0)}}class IZ extends Ro{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(Ds("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new GL(this._value,this._key)._apply(new qL(this._value,this._key)._apply(t))}}function xo(e,...t){let n=(0,I.Ku)(e);for(const r of t)n=r._apply(n);return n}(function rQ(e){(0,I.vA)(!Ny,"__referenceConstructor has already been defined"),Ny=e})(so),function lQ(e){(0,I.vA)(!xy,"__referenceConstructor has already been defined"),xy=e}(so);const jD={};function HD(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Es("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),or("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l,d,s=LD(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(d=process.env.FIREBASE_DATABASE_EMULATOR_HOST),d?(l=!0,o=`http://${d}?ns=${a.namespace}`,s=LD(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const f=i&&l?new ag(ag.OWNER):new vK(e.name,e.options,t);IL("Invalid Firebase Database URL",s),tt(s.path)||Es("Database URL must point to the root of a Firebase Database (not including a child path).");const g=function AZ(e,t,n,r){let i=jD[t.name];i||(i={},jD[t.name]=i);let o=i[e.toURLString()];return o&&Es("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new kQ(e,false,n,r),i[e.toURLString()]=o,o}(a,e,f,new _K(e.name,n));return new NZ(g,e)}class NZ{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function FQ(e,t,n){if(e.stats_=Hb(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new wy(e.repoInfo_,(r,i,o,s)=>{AL(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>ML(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,I.As)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Nu(e.repoInfo_,t,(r,i,o,s)=>{AL(e,r,i,o,s)},r=>{ML(e,r)},r=>{!function LQ(e,t){sr(t,(n,r)=>{RD(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function wK(e,t){const n=e.toString();return jb[n]||(jb[n]=t()),jb[n]}(e.repoInfo_,()=>new wY(e.stats_,e.server_)),e.infoData_=new mY,e.infoSyncTree_=new hL({startListening:(r,i,o,s)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=yg(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),RD(e,"connected",!1),e.serverSyncTree_=new hL({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{const d=s(a,l);ki(e.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new so(this._repo,_t())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function TZ(e,t){const n=jD[t];(!n||n[e.key]!==e)&&Es(`Database ${t}(${e.repoInfo_}) has already been deleted.`),RL(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Es("Cannot call "+t+" on a deleted database.")}}function YL(){vF.IS_TRANSPORT_INITIALIZED&&Or("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function RZ(){YL(),cl.forceDisallow()}function xZ(){YL(),Jd.forceDisallow(),cl.forceAllow()}function kZ(e,t){X1(e,t)}const LZ={".sv":"timestamp"};class BZ{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Nu.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Nu.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function FZ(e){Pb(Kd.SDK_VERSION),(0,Kd._registerComponent)(new Du.uA("database",(t,{instanceIdentifier:n})=>HD(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Kd.registerVersion)(G1,"1.0.4",e),(0,Kd.registerVersion)(G1,"1.0.4","esm2017")}();const zZ=new xb.Vy("@firebase/database-compat"),ZL=function(e){zZ.warn("FIREBASE WARNING: "+e)};class qZ{constructor(t){this._delegate=t}cancel(t){(0,I.od)("OnDisconnect.cancel",0,1,arguments.length),(0,I.oD)("OnDisconnect.cancel","onComplete",t,!0);const n=this._delegate.cancel();return t&&n.then(()=>t(null),r=>t(r)),n}remove(t){(0,I.od)("OnDisconnect.remove",0,1,arguments.length),(0,I.oD)("OnDisconnect.remove","onComplete",t,!0);const n=this._delegate.remove();return t&&n.then(()=>t(null),r=>t(r)),n}set(t,n){(0,I.od)("OnDisconnect.set",1,2,arguments.length),(0,I.oD)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){(0,I.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,I.oD)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(t,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(t,n){if((0,I.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,ZL("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,I.oD)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(t);return n&&r.then(()=>n(null),i=>n(i)),r}}class KZ{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return(0,I.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class yl{constructor(t,n){this._database=t,this._delegate=n}val(){return(0,I.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,I.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,I.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,I.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,I.od)("DataSnapshot.child",0,1,arguments.length),t=String(t),Sg("DataSnapshot.child","path",t,!1),new yl(this._database,this._delegate.child(t))}hasChild(t){return(0,I.od)("DataSnapshot.hasChild",1,1,arguments.length),Sg("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,I.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,I.od)("DataSnapshot.forEach",1,1,arguments.length),(0,I.oD)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new yl(this._database,n)))}hasChildren(){return(0,I.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,I.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,I.od)("DataSnapshot.ref",0,0,arguments.length),new Fi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class gr{constructor(t,n){this.database=t,this._delegate=n}on(t,n,r,i){var o;(0,I.od)("Query.on",2,4,arguments.length),(0,I.oD)("Query.on","callback",n,!1);const s=gr.getCancelAndContextArgs_("Query.on",r,i),a=(d,f)=>{n.call(s.context,new yl(this.database,d),f)};a.userCallback=n,a.context=s.context;const l=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return BD(this._delegate,a,l),n;case"child_added":return jL(this._delegate,a,l),n;case"child_removed":return zL(this._delegate,a,l),n;case"child_changed":return HL(this._delegate,a,l),n;case"child_moved":return $L(this._delegate,a,l),n;default:throw new Error((0,I.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,r){if((0,I.od)("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,I.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,I.oD)("Query.off","callback",n,!0),(0,I.HN)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,WL(this._delegate,t,i)}else WL(this._delegate,t)}get(){return iZ(this._delegate).then(t=>new yl(this.database,t))}once(t,n,r,i){(0,I.od)("Query.once",1,4,arguments.length),(0,I.oD)("Query.once","callback",n,!0);const o=gr.getCancelAndContextArgs_("Query.once",r,i),s=new I.cY,a=(d,f)=>{const g=new yl(this.database,d);n&&n.call(o.context,g,f),s.resolve(g)};a.userCallback=n,a.context=o.context;const l=d=>{o.cancel&&o.cancel.call(o.context,d),s.reject(d)};switch(t){case"value":BD(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":jL(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":zL(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":HL(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":$L(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,I.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,I.od)("Query.limitToFirst",1,1,arguments.length),new gr(this.database,xo(this._delegate,function hZ(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new dZ(e)}(t)))}limitToLast(t){return(0,I.od)("Query.limitToLast",1,1,arguments.length),new gr(this.database,xo(this._delegate,function pZ(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new fZ(e)}(t)))}orderByChild(t){return(0,I.od)("Query.orderByChild",1,1,arguments.length),new gr(this.database,xo(this._delegate,function mZ(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Sg("orderByChild","path",e,!1),new gZ(e)}(t)))}orderByKey(){return(0,I.od)("Query.orderByKey",0,0,arguments.length),new gr(this.database,xo(this._delegate,function vZ(){return new _Z}()))}orderByPriority(){return(0,I.od)("Query.orderByPriority",0,0,arguments.length),new gr(this.database,xo(this._delegate,function CZ(){return new yZ}()))}orderByValue(){return(0,I.od)("Query.orderByValue",0,0,arguments.length),new gr(this.database,xo(this._delegate,function EZ(){return new wZ}()))}startAt(t=null,n){return(0,I.od)("Query.startAt",0,2,arguments.length),new gr(this.database,xo(this._delegate,function lZ(e=null,t){return Dg("startAt","key",t,!0),new qL(e,t)}(t,n)))}startAfter(t=null,n){return(0,I.od)("Query.startAfter",0,2,arguments.length),new gr(this.database,xo(this._delegate,function cZ(e,t){return Dg("startAfter","key",t,!0),new uZ(e,t)}(t,n)))}endAt(t=null,n){return(0,I.od)("Query.endAt",0,2,arguments.length),new gr(this.database,xo(this._delegate,function oZ(e,t){return Dg("endAt","key",t,!0),new GL(e,t)}(t,n)))}endBefore(t=null,n){return(0,I.od)("Query.endBefore",0,2,arguments.length),new gr(this.database,xo(this._delegate,function aZ(e,t){return Dg("endBefore","key",t,!0),new sZ(e,t)}(t,n)))}equalTo(t,n){return(0,I.od)("Query.equalTo",1,2,arguments.length),new gr(this.database,xo(this._delegate,function bZ(e,t){return Dg("equalTo","key",t,!0),new IZ(e,t)}(t,n)))}toString(){return(0,I.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,I.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,I.od)("Query.isEqual",1,1,arguments.length),!(t instanceof gr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,I.oD)(t,"cancel",i.cancel,!0),i.context=r,(0,I.HN)(t,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,I.dI)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new Fi(this.database,new so(this._delegate._repo,this._delegate._path))}}class Fi extends gr{constructor(t,n){super(t,new _i(n._repo,n._path,new yy,!1)),this.database=t,this._delegate=n}getKey(){return(0,I.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,I.od)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Fi(this.database,Fu(this._delegate,t))}getParent(){(0,I.od)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Fi(this.database,t):null}getRoot(){return(0,I.od)("Reference.root",0,0,arguments.length),new Fi(this.database,this._delegate.root)}set(t,n){(0,I.od)("Reference.set",1,2,arguments.length),(0,I.oD)("Reference.set","onComplete",n,!0);const r=UD(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}update(t,n){if((0,I.od)("Reference.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,ZL("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}oo("Reference.update",this._delegate._path),(0,I.oD)("Reference.update","onComplete",n,!0);const r=rZ(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){(0,I.od)("Reference.setWithPriority",2,3,arguments.length),(0,I.oD)("Reference.setWithPriority","onComplete",r,!0);const i=function nZ(e,t,n){if(oo("setWithPriority",e._path),Ds("setWithPriority",t,e._path,!1),ND("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new I.cY;return xD(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(t){(0,I.od)("Reference.remove",0,1,arguments.length),(0,I.oD)("Reference.remove","onComplete",t,!0);const n=function eZ(e){return oo("remove",e._path),UD(e,null)}(this._delegate);return t&&n.then(()=>t(null),r=>t(r)),n}transaction(t,n,r){(0,I.od)("Reference.transaction",1,3,arguments.length),(0,I.oD)("Reference.transaction","transactionUpdate",t,!1),(0,I.oD)("Reference.transaction","onComplete",n,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,I.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function jZ(e,t,n){var r;if(e=(0,I.Ku)(e),oo("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,o=new I.cY,a=BD(e,()=>{});return function GQ(e,t,n,r,i,o){ah(e,"transaction on "+t);const s={path:t,update:n,onComplete:r,status:null,order:Y1(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=PD(e,t,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{bg("transaction failed: Data returned ",l,s.path),s.status=0;const d=Fy(e.transactionQueueTree_,t),f=Pu(d)||[];let g;f.push(s),TD(d,f),"object"==typeof l&&null!==l&&(0,I.gR)(l,".priority")?(g=(0,I.yw)(l,".priority"),(0,I.vA)(Ig(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(Py(e.serverSyncTree_,t)||Ge.EMPTY_NODE).getPriority().val();const m=Tg(e),v=gn(l,g),C=bD(v,a,m);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=C,s.currentWriteId=By(e);const y=_D(e.serverSyncTree_,t,C,s.currentWriteId,s.applyLocally);ki(e.eventQueue_,t,y),jy(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(l,d,f)=>{let g=null;l?o.reject(l):(g=new ku(f,new so(e._repo,e._path),Wt),o.resolve(new BZ(d,g)))},a,i),o.promise}(this._delegate,t,{applyLocally:r}).then(o=>new KZ(o.committed,new yl(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(t,n){(0,I.od)("Reference.setPriority",1,2,arguments.length),(0,I.oD)("Reference.setPriority","onComplete",n,!0);const r=function tZ(e,t){e=(0,I.Ku)(e),oo("setPriority",e._path),ND("setPriority",t,!1);const n=new I.cY;return xD(e._repo,ln(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}push(t,n){(0,I.od)("Reference.push",0,2,arguments.length),(0,I.oD)("Reference.push","onComplete",n,!0);const r=function JQ(e,t){e=(0,I.Ku)(e),oo("push",e._path),Ds("push",t,e._path,!0);const n=TL(e._repo),r=XQ(n),i=Fu(e,r),o=Fu(e,r);let s;return s=null!=t?UD(o,t).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,t),i=r.then(s=>new Fi(this.database,s));n&&i.then(()=>n(null),s=>n(s));const o=new Fi(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return oo("Reference.onDisconnect",this._delegate._path),new qZ(new VL(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ng{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:RZ,forceLongPolling:xZ}}useEmulator(t,n,r={}){!function QL(e,t,n,r={}){(e=(0,I.Ku)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Es("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Es('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ag(ag.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:(0,I.Fy)(r.mockUserToken,e.app.options.projectId);o=new ag(s)}!function SZ(e,t,n,r){e.repoInfo_=new Ub(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(this._delegate,t,n,r)}ref(t){if((0,I.od)("database.ref",0,1,arguments.length),t instanceof Fi){const n=BL(this._delegate,t.toString());return new Fi(this,n)}{const n=UL(this._delegate,t);return new Fi(this,n)}}refFromURL(t){(0,I.od)("database.refFromURL",1,1,arguments.length);const r=BL(this._delegate,t);return new Fi(this,r)}goOffline(){return(0,I.od)("database.goOffline",0,0,arguments.length),function OZ(e){(e=(0,I.Ku)(e))._checkNotDeleted("goOffline"),RL(e._repo)}(this._delegate)}goOnline(){return(0,I.od)("database.goOnline",0,0,arguments.length),function PZ(e){(e=(0,I.Ku)(e))._checkNotDeleted("goOnline"),function WQ(e){e.persistentConnection_&&e.persistentConnection_.resume(SL)}(e._repo)}(this._delegate)}}Ng.ServerValue={TIMESTAMP:function VZ(){return LZ}(),increment:e=>function UZ(e){return{".sv":{increment:e}}}(e)};var QZ=Object.freeze({__proto__:null,initStandalone:function YZ({app:e,url:t,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){Pb(n);const a=new Du.h1("database-standalone"),l=new Du.Kq("auth-internal",a);let d;return l.setComponent(new Du.uA("auth-internal",()=>r,"PRIVATE")),i&&(d=new Du.Kq("app-check-internal",a),d.setComponent(new Du.uA("app-check-internal",()=>i,"PRIVATE"))),{instance:new Ng(HD(e,l,d,t,s),e),namespace:o}}});const ZZ=Ng.ServerValue;function Rg(e,t,n="on",r=A1){return new At(i=>{let o=null;return o=e[n](t,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),"once"===n&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),"on"===n?{unsubscribe(){null!=o&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(Ie(i=>{const{snapshot:o,prevKey:s}=i;let a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),k1())}function XL(e){return null==e}function JL(e){return"function"==typeof e.set}function eV(e,t){return JL(t)?t:e.ref(t)}function tV(e,t){if(function JZ(e){return"string"==typeof e}(e))return t.stringCase();if(JL(e))return t.firebaseCase();if(function eX(e){return"function"==typeof e.exportVal}(e))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function nV(e){return(XL(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function rV(e,t,n){const r=(t=nV(t)).map(i=>Rg(e,i,"on",n));return Nb(...r)}function iV(e,t){return function(r,i){return tV(r,{stringCase:()=>e.child(r)[t](i),firebaseCase:()=>r[t](i),snapshotCase:()=>r.ref[t](i)})}}function iX(e){return function(n){return n?tV(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function oV(e,t){const n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function aX(e,t){const{payload:n,prevKey:r,key:i}=t,o=oV(e,i),s=function sX(e,t){if(XL(t))return 0;{const n=oV(e,t);return-1===n?e.length:n+1}}(e,r);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{const d={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,d],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==r&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(null==r)return[t,...e];(e=e.slice()).splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===i?t:a);case"child_moved":if(o>-1){const a=e.splice(o,1)[0];return(e=e.slice()).splice(s,0,a),e}return e;default:return e}}function sV(e,t,n){return function oX(e,t,n){return Rg(e,"value","once",n).pipe(qn(r=>{const i=[Re(r)];return t.forEach(o=>i.push(Rg(e,o,"on",n))),Nb(...i).pipe(cI(aX,[]))}),function rK(e,t=Rn){return e=e??iK,fe((n,r)=>{let i,o=!0;n.subscribe(xe(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}())}(e,t=nV(t),n)}function aV(e,t){return function(){return Rg(e,"value","on",t)}}!function XZ(e){e.INTERNAL.registerComponent(new Du.uA("database-compat",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:n});return new Ng(i,r)},"PUBLIC").setServiceProps({Reference:Fi,Query:gr,Database:Ng,DataSnapshot:yl,enableLogging:kZ,INTERNAL:QZ,ServerValue:ZZ}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","1.0.4")}(ll.A);const cX=new ue("angularfire2.realtimeDatabaseURL"),dX=new ue("angularfire2.database.use-emulator");let lV=(()=>{class e{schedulers;database;constructor(n,r,i,o,s,a,l,d,f,g,m,v,C,y,E){this.schedulers=a;const M=l,T=Mb(n,s,r);d&&z1(T,s,f,m,v,C,g,y),this.database=O1(`${T.name}.database.${i}`,"AngularFireDatabase",T.name,()=>{const P=s.runOutsideAngular(()=>T.database(i||void 0));return M&&P.useEmulator(...M),P},[M])}list(n,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>eV(this.database,n));let o=i;return r&&(o=r(i)),function lX(e,t){const n=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:iV(r,"update"),set:iV(r,"set"),push:i=>r.push(i),remove:iX(r),snapshotChanges:i=>sV(e,i,n).pipe(al),stateChanges:i=>rV(e,i,n).pipe(al),auditTrail:i=>function tX(e,t,n){const r=rV(e,t).pipe(cI((i,o)=>[...i,o],[]));return function rX(e,t,n){return function nX(e,t){return Rg(e,"value","on",t).pipe(Ie(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}(e,n).pipe(function tK(...e){const t=sI(e);return fe((n,r)=>{const i=e.length,o=new Array(i);let s=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)ci(e[l]).subscribe(xe(r,d=>{o[l]=d,!a&&!s[l]&&(s[l]=!0,(a=s.every(Rn))&&(s=null))},ei));n.subscribe(xe(r,l=>{if(a){const d=[l,...o];r.next(t?t(...d):d)}}))})}(t),Ie(([i,o])=>{const s=i.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),function nK(e){return fe((t,n)=>{let r=!1,i=0;t.subscribe(xe(n,o=>(r||(r=!e(o,i++)))&&n.next(o)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),Ie(i=>i.actions))}(e,r,n)}(e,i,n).pipe(al),valueChanges:(i,o)=>sV(e,i,n).pipe(Ie(a=>a.map(l=>o&&o.idField?{...l.payload.val(),[o.idField]:l.key}:l.payload.val())),al)}}(o,this)}object(n){return function uX(e,t){return{query:e,snapshotChanges:()=>aV(e,t.schedulers.outsideAngular)().pipe(al),update:n=>e.ref.update(n),set:n=>e.ref.set(n),remove:()=>e.ref.remove(),valueChanges:()=>aV(e,t.schedulers.outsideAngular)().pipe(al,Ie(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>eV(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||e)(le(uy),le(cy,8),le(cX,8),le(rs),le(dt),le(R1),le(dX,8),le(W1,8),le(V1,8),le(U1,8),le(B1,8),le(j1,8),le(H1,8),le($1,8),le(M1,8))};static \u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),hX=(()=>{class e{constructor(){ll.A.registerVersion("angularfire",Ab.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ci({type:e});static \u0275inj=wr({providers:[lV]})}return e})(),fX=(()=>{class e{constructor(n){this.db=n,this.notesRef=this.db.list("notes")}addNote(n){return this.notesRef.push(n)}getNotes(){return this.notesRef.snapshotChanges().pipe(Ie(n=>n.map(r=>({id:r.key,...r.payload.val()}))))}updateNote(n,r){return this.notesRef.update(n,r)}getNoteAtIndex(n){return this.getNotes().pipe(Ie(r=>r[n]))}static#e=this.\u0275fac=function(r){return new(r||e)(le(lV))};static#t=this.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),uV=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||e)(J(os),J(Di))};static#t=this.\u0275dir=Oe({type:e})}return e})(),Lu=(()=>{class e extends uV{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=kn(e)))(i||e)}})();static#t=this.\u0275dir=Oe({type:e,features:[Tt]})}return e})();const Ss=new ue(""),mX={provide:Ss,useExisting:gt(()=>xg),multi:!0},vX=new ue("");let xg=(()=>{class e extends uV{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _X(){const e=Ya()?Ya().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||e)(J(os),J(Di),J(vX,8))};static#t=this.\u0275dir=Oe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Nt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[sn([mX]),Tt]})}return e})();const Pr=new ue(""),wl=new ue("");function CV(e){return null!=e}function wV(e){return pp(e)?bn(e):e}function EV(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function IV(e,t){return t.map(n=>n(e))}function bV(e){return e.map(t=>function CX(e){return!e.validate}(t)?t:n=>t.validate(n))}function $D(e){return null!=e?function DV(e){if(!e)return null;const t=e.filter(CV);return 0==t.length?null:function(n){return EV(IV(n,t))}}(bV(e)):null}function zD(e){return null!=e?function SV(e){if(!e)return null;const t=e.filter(CV);return 0==t.length?null:function(n){return function pX(...e){const t=sI(e),{args:n,keys:r}=qO(e),i=new At(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,d=s;for(let f=0;f<s;f++){let g=!1;ci(n[f]).subscribe(xe(o,m=>{g||(g=!0,d--),a[f]=m},()=>l--,void 0,()=>{(!l||!g)&&(d||o.next(r?YO(r,a):a),o.complete())}))}});return t?i.pipe(KO(t)):i}(IV(n,t).map(wV)).pipe(Ie(EV))}}(bV(e)):null}function TV(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function WD(e){return e?Array.isArray(e)?e:[e]:[]}function qy(e,t){return Array.isArray(e)?e.includes(t):e===t}function NV(e,t){const n=WD(t);return WD(e).forEach(i=>{qy(n,i)||n.push(i)}),n}function RV(e,t){return WD(t).filter(n=>!qy(e,n))}class xV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$D(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Jr extends xV{get formDirective(){return null}get path(){return null}}class El extends xV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class OV{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let GD=(()=>{class e extends OV{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(J(El,2))};static#t=this.\u0275dir=Oe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&z_("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Tt]})}return e})();const Og="VALID",Yy="INVALID",uh="PENDING",Pg="DISABLED";function Qy(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ZD{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Og}get invalid(){return this.status===Yy}get pending(){return this.status==uh}get disabled(){return this.status===Pg}get enabled(){return this.status!==Pg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(NV(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(NV(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(RV(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(RV(t,this._rawAsyncValidators))}hasValidator(t){return qy(this._rawValidators,t)}hasAsyncValidator(t){return qy(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=uh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Pg,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Og,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Og||this.status===uh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pg:Og}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=uh,this._hasOwnPendingAsyncValidator=!0;const n=wV(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new vn,this.statusChanges=new vn}_calculateStatus(){return this._allControlsDisabled()?Pg:this.errors?Yy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uh)?uh:this._anyControlsHaveStatus(Yy)?Yy:Og}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qy(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function DX(e){return Array.isArray(e)?$D(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function SX(e){return Array.isArray(e)?zD(e):e||null}(this._rawAsyncValidators)}}const ch=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>Zy}),Zy="always";function kg(e,t,n=Zy){(function JD(e,t){const n=function AV(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(TV(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function MV(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(TV(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();eC(t._rawValidators,i),eC(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function MX(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&LV(e,t)})}(e,t),function RX(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function NX(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&LV(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function AX(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function eC(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function LV(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function BV(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function jV(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const HV=class extends ZD{constructor(t=null,n,r){super(function YD(e){return(Qy(e)?e.validators:e)||null}(n),function QD(e,t){return(Qy(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qy(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=jV(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){BV(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){BV(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){jV(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},UX={provide:El,useExisting:gt(()=>nC)},WV=Promise.resolve();let nC=(()=>{class e extends El{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new HV,this._registered=!1,this.name="",this.update=new vn,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function nS(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===xg?n=o:function PX(e){return Object.getPrototypeOf(e.constructor)===Lu}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function tS(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){WV.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function _d(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);WV.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Xy(e,t){return[...t.path,e]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||e)(J(Jr,9),J(Pr,10),J(wl,10),J(Ss,10),J(gp,8),J(ch,8))};static#t=this.\u0275dir=Oe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ot.None,"disabled","isDisabled"],model:[Ot.None,"ngModel","model"],options:[Ot.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[sn([UX]),Tt,br]})}return e})(),cJ=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ci({type:e});static#n=this.\u0275inj=wr({})}return e})(),hJ=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:ch,useValue:n.callSetDisabledState??Zy}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ci({type:e});static#n=this.\u0275inj=wr({imports:[cJ]})}return e})();const fJ=["board"],pJ=e=>({"background-color":e});function gJ(e,t){if(1&e){const n=ld();G_(0),me(1,"textarea",18),lu("ngModelChange",function(i){const o=er(n).$implicit;return hd(o.text,i)||(o.text=i),tr(i)}),Nt("dragend",function(i){const o=er(n).$implicit;return tr(Ga().onDragEnd(i,o))})("dragstart",function(i){const o=er(n).$implicit;return tr(Ga().onDragStart(i,o))})("focusout",function(){const i=er(n),o=i.$implicit,s=i.index;return tr(Ga().onNoteEditDone(o,s))}),$e(2,"      "),we(),q_()}if(2&e){const n=t.$implicit;on(),K0("top",n.y+"px")("left",n.x+"px"),Tr("ngStyle",ds(6,pJ,n.color)),au("ngModel",n.text)}}let mJ=(()=>{class e{constructor(n){this.noteService=n,this.dragStartOffsetX=0,this.dragStartOffsetY=0,this.notes$=this.noteService.getNotes()}ngOnDestroy(){this.notesSubscription.unsubscribe()}addNote(){const n=["#ffadad","#ffd6a5","#fdffb6","#caffbf","#9bf6ff","#a0c4ff","#bdb2ff","#ffc6ff"],r=n[Math.floor(Math.random()*n.length)],i=this.boardElementRef.nativeElement.getBoundingClientRect(),a=i.width-100,l=i.height-100,d=Math.random()*a,f=Math.random()*l;this.noteService.addNote({x:d,y:f,text:"",color:r})}onDragStart(n,r){this.dragStartOffsetX=n.clientX-r.x,this.dragStartOffsetY=n.clientY-r.y}onDragEnd(n,r){const i=n.clientX-this.dragStartOffsetX,o=n.clientY-this.dragStartOffsetY,s=this.boardElementRef.nativeElement.getBoundingClientRect();i>=0&&i+150<=s.width&&o>=0&&o+150<=s.height&&(r.x=i,r.y=o),this.dragStartOffsetX=0,this.dragStartOffsetY=0}onNoteEditDone(n,r){this.noteService.getNoteAtIndex(r).subscribe(i=>{i.text!==n.text&&(console.log(`Saving note at index ${r} with text: ${n.text}`),this.noteService.updateNote(i.id,n))})}openNewTab(n){switch(n){case"youtube":window.open("https://www.youtube.com","_blank");break;case"linkedin":window.open("https://www.linkedin.com/in/lilytweddle/","_blank");break;case"tiktok":window.open("https://www.tiktok.com/","_blank")}}static#e=this.\u0275fac=function(r){return new(r||e)(J(fX))};static#t=this.\u0275cmp=ji({type:e,selectors:[["app-post-it-board"]],viewQuery:function(r,i){if(1&r&&iE(fJ,7),2&r){let o;X_(o=J_())&&(i.boardElementRef=o.first)}},decls:28,vars:3,consts:[["board",""],[1,"post-it-board-container"],[1,"post-it-board"],[4,"ngFor","ngForOf"],[1,"post-it-options",3,"click"],["id","","src","././assets/svgs/add-note.svg","alt","Add"],["src","././assets/images/legs.png","alt","Legs",1,"legs"],[1,"image-container"],["src","././assets/images/projects-bubble.png","alt","Bubble",1,"bubble"],[1,"info-text"],[1,"info-text-desc"],[1,"interactive-desc"],[1,"desc-text"],[1,"channel-text"],[1,"social-box"],["src","././assets/images/youtube.png","alt","YouTube",1,"social-icon",3,"click"],["src","././assets/images/linkedin.png","alt","LinkedIn",1,"social-icon",3,"click"],["src","././assets/images/tiktok.png","alt","TikTok",1,"social-icon",3,"click"],["draggable","true",1,"sticky-note",3,"ngModelChange","dragend","dragstart","focusout","ngStyle","ngModel"]],template:function(r,i){if(1&r){const o=ld();me(0,"div",1)(1,"div",2,0),na(3,gJ,3,8,"ng-container",3),nv(4,"async"),me(5,"div",4),Nt("click",function(){return er(o),tr(i.addNote())}),Pt(6,"img",5),we()(),Pt(7,"img",6),me(8,"div",7),Pt(9,"img",8),me(10,"span",9),$e(11,"Did you know that people with disabilities are frequently overlooked in user testing?"),we(),me(12,"span",10),$e(13,"This oversight leads to designs that fail to accomodate all users, particularly those with disabilities."),we()(),me(14,"div",11)(15,"span",12),$e(16,"This interactive space is an initiative to where your thoughts drive UX design forward. Leave a sticky note with your feedback, brainstorm solutions, or suggest new ideas for what an accessible user experience is for you."),Pt(17,"br")(18,"br"),$e(19,"Each thought you share helps refine and advance our approach to creating more inclusive digital spaces. Let's innovate together\u2014one idea at a time!"),we()(),Pt(20,"br")(21,"br"),me(22,"span",13),$e(23,"Check out my channels dedicated to innovation!"),we(),me(24,"div",14)(25,"img",15),Nt("click",function(){return er(o),tr(i.openNewTab("youtube"))}),we(),me(26,"img",16),Nt("click",function(){return er(o),tr(i.openNewTab("linkedin"))}),we(),me(27,"img",17),Nt("click",function(){return er(o),tr(i.openNewTab("tiktok"))}),we()()()}2&r&&(on(3),Tr("ngForOf",function MR(e,t,n){const r=e+Le,i=j(),o=Ws(i,r);return dp(i,r)?bR(i,pr(),t,o.transform,n,o):o.transform(n)}(4,1,i.notes$)))},dependencies:[zE,qE,xg,GD,nC,lO],styles:[".post-it-board[_ngcontent-%COMP%]{background:url(postitboard.73c65c4126e6b640.jpeg) no-repeat center center;background-size:cover;width:100%;height:450px;border:20px solid #E3A86D;border-radius:4px;box-sizing:border-box;position:relative}.sticky-note[_ngcontent-%COMP%]{position:absolute;width:100px;height:100px;resize:none;padding:10px;cursor:pointer;border:none}.post-it-options[_ngcontent-%COMP%]{cursor:pointer;border-radius:7.144px;border:.4px solid #000;background:#fff;box-shadow:0 3.572px 3.572px #00000040;width:2em;height:3em;margin-left:10px;margin-top:calc(225px - 3em);padding:2px;display:flex;justify-content:center;align-items:center;text-align:center}#addNoteImg[_ngcontent-%COMP%]{height:auto;width:1.5em}.legs[_ngcontent-%COMP%]{display:block;margin:auto}.image-container[_ngcontent-%COMP%]{position:relative;width:100%}.image-container[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{width:85%}.info-text[_ngcontent-%COMP%]{position:absolute;color:#000;font-size:1.2em;font-family:Varela Round;font-weight:600;left:5%;top:10%}@media screen and (min-width: 1600px){.info-text[_ngcontent-%COMP%]{font-size:1.7em}}.info-text-desc[_ngcontent-%COMP%]{position:absolute;color:#000;font-size:1em;font-family:Varela Round;font-weight:400;left:5%;top:45%;background-color:#ecc444}@media screen and (min-width: 1600px){.info-text-desc[_ngcontent-%COMP%]{font-size:1.5em}}.interactive-desc[_ngcontent-%COMP%]{width:75%;border:.7em solid #CC3879;border-radius:8px;margin-left:10%;margin-top:-1%;padding:.5em 3em;box-shadow:0 4px 4px #00000040}.desc-text[_ngcontent-%COMP%]{color:#000;font-size:1em;font-family:Varela Round}.channel-text[_ngcontent-%COMP%]{font-family:Varela Round;color:#000;font-size:1.7em}.social-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:3em;margin-top:2em;margin-bottom:2em}.social-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}"]})}return e})(),_J=(()=>{class e{openTab(n,r){var i,o,s;for(o=document.getElementsByClassName("tab-content"),i=0;i<o.length;i++)o[i].style.display="none";for(s=document.getElementsByClassName("tab-button"),i=0;i<s.length;i++)s[i].className=s[i].className.replace(" active","");document.getElementById(r).style.display="block",n.currentTarget.className+=" active"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=ji({type:e,selectors:[["app-projects"]],decls:9,vars:0,consts:[[1,"projects-container"],[1,"project-rectangle","project-ea"],["src","././assets/svgs/ea-logo.svg","alt","EA",1,"logo-ea"],[1,"project-rectangle","project-brainbloom"],[1,"project-rectangle","project-aba"],["src","././assets/images/aba-logo.png","alt","ABA Compass Logo",1,"logo-aba"],[1,"project-rectangle","project-milestones"],["src","././assets/images/milestones-logo.png","alt","Milestones",1,"logo-milestones"]],template:function(r,i){1&r&&(me(0,"div",0)(1,"div",1),Pt(2,"img",2),we(),me(3,"div",3),$e(4,"BRAINBLOOM BOX."),we(),me(5,"div",4),Pt(6,"img",5),we(),me(7,"div",6),Pt(8,"img",7),we()())},styles:[".projects-title[_ngcontent-%COMP%]{color:#ecc444;text-shadow:-2px -2px 0 #000,2px -2px 0 #000,-2px 2px 0 #000,2px 2px 0 #000;font-family:Share;font-size:6em;font-style:normal;font-weight:700;line-height:normal;margin-left:.5em}.projects-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:30px;padding-top:1em;padding-bottom:1em}.testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.project-rectangle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:2em;border-radius:12px;border:5px solid #000;box-shadow:0 4px 4px #00000080;width:90%;cursor:pointer}.project-ea[_ngcontent-%COMP%]{background-color:#1c1735;color:#fff;padding-top:1em;padding-bottom:1em}.project-brainbloom[_ngcontent-%COMP%]{background-color:#61bc6b;color:#fff;font-family:Road Rage;font-style:normal;font-weight:400;line-height:normal;font-size:7.5em}.project-aba[_ngcontent-%COMP%]{background-color:#fff;color:#000}.logo-aba[_ngcontent-%COMP%]{height:4em}.logo-ea[_ngcontent-%COMP%], .logo-milestones[_ngcontent-%COMP%]{height:2em}.project-milestones[_ngcontent-%COMP%]{background-color:#5195fe;color:#fff;padding-top:1em;padding-bottom:1em}"]})}return e})(),vJ=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=ji({type:e,selectors:[["app-name-tag"]],decls:23,vars:0,consts:[[1,"name-tag-container"],[1,"grid-container"],["src","assets/svgs/name_tag.svg","alt","Name Tag",1,"name-tag-image"],[1,"text-bubble","top"],["src","assets/gifs/text-bubble-5.gif","alt","",1,"bubble-image","img-bubble-top"],[1,"bubble-text"],[1,"text-bubble","right"],["src","assets/gifs/text-bubble-5.gif","alt","",1,"bubble-image"],[1,"text-bubble","bottom-right"],["src","assets/gifs/text-bubble-5.gif","alt","",1,"bubble-image","img-bubble-bottom-right"],[1,"text-bubble","bottom-left"],["src","assets/gifs/text-bubble-5.gif","alt","",1,"bubble-image","img-bubble-bottom-left"],[1,"text-bubble","left"]],template:function(r,i){1&r&&(me(0,"div",0)(1,"div",1),Pt(2,"img",2),me(3,"div",3),Pt(4,"img",4),me(5,"span",5),$e(6,"Belief In Equal Access"),we()(),me(7,"div",6),Pt(8,"img",7),me(9,"span",5),$e(10,"Driving Innovative Change"),we()(),me(11,"div",8),Pt(12,"img",9),me(13,"span",5),$e(14,"Passion for Web Accessibility"),we()(),me(15,"div",10),Pt(16,"img",11),me(17,"span",5),$e(18,"Drawing from Life"),we()(),me(19,"div",12),Pt(20,"img",7),me(21,"span",5),$e(22,"Advocate for Inclusivity"),we()()()())},styles:[".grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr;grid-template-rows:auto auto auto;justify-items:center;align-items:center;position:relative;border-radius:10px;border:2px solid #000;background:#f3f0f0}.name-tag-image[_ngcontent-%COMP%]{grid-area:2/2/3/3;z-index:1;width:100%;height:auto}.text-bubble[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;z-index:2}.bubble-image[_ngcontent-%COMP%]{height:8vw}.bubble-text[_ngcontent-%COMP%]{color:#000;font-family:Signika Negative,sans-serif;font-weight:700;font-size:1vw;position:absolute;width:20%;word-wrap:break-word}.top[_ngcontent-%COMP%]{grid-area:1/2/2/3}.right[_ngcontent-%COMP%]{grid-area:2/3/3/4}.bottom-right[_ngcontent-%COMP%]{grid-area:3/2/4/4}.bottom-left[_ngcontent-%COMP%]{grid-area:3/1/4/3}.left[_ngcontent-%COMP%]{grid-area:2/1/3/2}.img-bubble-top[_ngcontent-%COMP%]{transform:scaleX(-1)}.img-bubble-bottom-right[_ngcontent-%COMP%]{transform:rotate(180deg) scaleX(-1)}.img-bubble-bottom-left[_ngcontent-%COMP%]{transform:rotate(180deg)}"]})}return e})();const Lg={_origin:"https://api.emailjs.com"};class d2{constructor(t){this.status=t.status,this.text=t.responseText}}const f2_send=(e,t,n,r)=>{const i=r||Lg._userID;return((e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(i,e,t),((e,t,n={})=>new Promise((r,i)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{const a=new d2(s);200===a.status||"OK"===a.text?r(a):i(a)}),o.addEventListener("error",({target:s})=>{i(new d2(s))}),o.open("POST",Lg._origin+e,!0),Object.keys(n).forEach(s=>{o.setRequestHeader(s,n[s])}),o.send(t)}))("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"})},cS=e=>({selected:e});let EJ=(()=>{class e{constructor(){this.selectedOption={design:!0,research:!1,chat:!1},this.userInfo={name:"",email:"",company:"",message:""}}ngOnInit(){((e,t="https://api.emailjs.com")=>{Lg._userID=e,Lg._origin=t})("NHYYPzpW3YMAmX-_-")}setSelected(n){for(const r in this.selectedOption)this.selectedOption[r]=r===n}submitForm(){f2_send("service_dzgdygn","template_bl1ye8e",{from:this.userInfo.name,message:this.userInfo.message}).then(r=>{console.log("SUCCESS!",r.status,r.text),this.userInfo={name:"",email:"",company:"",message:""}},r=>{console.log("FAILED...",r),alert("There was an error sending the email - if this persists, please email me directly at LilyanTweddle@gmail.com")})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=ji({type:e,selectors:[["app-contact"]],decls:28,vars:13,consts:[[1,"contact-me"],[1,"contact-me-title"],[1,"contact-form"],[1,"services-text"],[1,"services-desc"],[1,"selection-row"],[1,"selection-box",3,"click","ngClass"],[1,"input-row"],["type","text","placeholder","Full Name",1,"input-box-half",3,"ngModelChange","ngModel"],["type","text","placeholder","Email",1,"input-box-half",3,"ngModelChange","ngModel"],["type","text","placeholder","Company",1,"input-box-full",3,"ngModelChange","ngModel"],["placeholder","What is your inquiry?",1,"text-area",3,"ngModelChange","ngModel"],[1,"submit-button",3,"click"]],template:function(r,i){1&r&&(me(0,"div",0)(1,"div",1),$e(2,"Contact Me!"),we(),me(3,"div",2)(4,"span",3),$e(5,"Services"),we(),me(6,"span",4),$e(7,"Select what best suits your inquiry"),we(),me(8,"div",5)(9,"div",6),Nt("click",function(){return i.setSelected("design")}),$e(10," Design "),we(),me(11,"div",6),Nt("click",function(){return i.setSelected("research")}),$e(12," Research "),we(),me(13,"div",6),Nt("click",function(){return i.setSelected("chat")}),$e(14," Just Chat "),we()(),me(15,"span",3),$e(16,"Your Details"),we(),me(17,"span",4),$e(18,"Please enter in your information:"),we(),me(19,"div",7)(20,"input",8),lu("ngModelChange",function(s){return hd(i.userInfo.name,s)||(i.userInfo.name=s),s}),we(),me(21,"input",9),lu("ngModelChange",function(s){return hd(i.userInfo.email,s)||(i.userInfo.email=s),s}),we()(),me(22,"div",7)(23,"input",10),lu("ngModelChange",function(s){return hd(i.userInfo.company,s)||(i.userInfo.company=s),s}),we()(),me(24,"div",7)(25,"textarea",11),lu("ngModelChange",function(s){return hd(i.userInfo.message,s)||(i.userInfo.message=s),s}),we()(),me(26,"div",12),Nt("click",function(){return i.submitForm()}),$e(27,"Submit"),we()()()),2&r&&(on(9),Tr("ngClass",ds(7,cS,!0===i.selectedOption.design)),on(2),Tr("ngClass",ds(9,cS,!0===i.selectedOption.research)),on(2),Tr("ngClass",ds(11,cS,!0===i.selectedOption.chat)),on(7),au("ngModel",i.userInfo.name),on(),au("ngModel",i.userInfo.email),on(2),au("ngModel",i.userInfo.company),on(2),au("ngModel",i.userInfo.message))},dependencies:[$E,xg,GD,nC],styles:[".contact-me[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;flex-direction:row;align-items:center;padding:1em 0}.contact-me-title[_ngcontent-%COMP%]{width:50%;font-family:Varela Round;text-shadow:0px 4px 4px rgba(0,0,0,.25);text-align:center;font-size:8em}@media screen and (min-width: 1600px){.contact-me-title[_ngcontent-%COMP%]{font-size:12em}}.contact-form[_ngcontent-%COMP%]{padding:2em;width:40%;display:flex;flex-direction:column;margin-left:auto;margin-right:auto;background-color:#837aca;border-radius:10px}.contact-form[_ngcontent-%COMP%]   .services-text[_ngcontent-%COMP%]{color:#fff;font-family:Varela Round;font-size:3em;font-weight:600}.contact-form[_ngcontent-%COMP%]   .services-desc[_ngcontent-%COMP%]{color:#000;font-family:Varela Round;font-size:1.5em;margin-bottom:.5em}.contact-form[_ngcontent-%COMP%]   .selection-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:left;gap:.5em;margin-bottom:2em}.contact-form[_ngcontent-%COMP%]   .selection-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:8px;border:1px solid #000;background:#fffc;color:#000;font-family:Varela Round;font-size:14px;padding:5px 20px;cursor:pointer}.contact-form[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{background-color:#5347bf;color:#fff}.contact-form[_ngcontent-%COMP%]   .input-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;gap:2em;margin-bottom:1em}.contact-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;display:flex;padding:10px 0 10px 16px;align-items:flex-start;flex:1 0 0;align-self:stretch;background-color:#e1dff3;font-family:Varela Round;font-size:18px;color:#000}.contact-form[_ngcontent-%COMP%]   .input-box-half[_ngcontent-%COMP%]{width:50%}.contact-form[_ngcontent-%COMP%]   .input-box-full[_ngcontent-%COMP%]{width:100%}.contact-form[_ngcontent-%COMP%]   .text-area[_ngcontent-%COMP%]{width:100%;height:6em;border-radius:4px 4px 0 0;display:flex;padding:10px 0 10px 16px;align-items:flex-start;flex:1 0 0;align-self:stretch;background-color:#e1dff3;font-family:Varela Round;font-size:18px;color:#000}.contact-form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:8px;border:1px solid #000;background:#fffc;color:#000;font-family:Varela Round;font-size:14px;padding:5px 20px;cursor:pointer;margin-top:1em}.contact-form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]:hover{background-color:#5347bf;color:#fff}"]})}return e})();const p2=e=>({"title-flipped":e}),g2=e=>({"read-flipped":e});function IJ(e,t){if(1&e){const n=ld();me(0,"div",4)(1,"div",5)(2,"span",6),$e(3),we()(),me(4,"div",7),Nt("click",function(){const i=er(n).$implicit;return tr(Ga().readMoreClick(i))}),me(5,"span",8),$e(6),we()()()}if(2&e){const n=t.$implicit,r=Ga();on(2),Tr("ngClass",ds(4,p2,!0===n.flipped)),on(),dd(r.titletext(n)),on(),Tr("ngClass",ds(6,g2,!0===n.flipped)),on(2),dd(r.boxText(n))}}function bJ(e,t){if(1&e){const n=ld();me(0,"div",4)(1,"div",5)(2,"span",6),$e(3),we()(),me(4,"div",7),Nt("click",function(){const i=er(n).$implicit;return tr(Ga().readMoreClick(i))}),me(5,"span",8),$e(6),we()()()}if(2&e){const n=t.$implicit,r=Ga();on(2),Tr("ngClass",ds(4,p2,!0===n.flipped)),on(),dd(r.titletext(n)),on(),Tr("ngClass",ds(6,g2,!0===n.flipped)),on(2),dd(r.boxText(n))}}let DJ=(()=>{class e{constructor(){this.valueBoxes=[{flipped:!1,title:"Empathy & Inclusivity",description:"We are constantly looking for new ways to improve our products and services.",innerTitle:"Designing with Heart"},{flipped:!1,title:"Psychology Meets Design",description:"By integrating psychological principles into UX design, I craft intuitive interfaces that cater to the subconscious cues and behaviours of users, creating a natural flow of interaction.",innerTitle:"Mindful Interfaces"},{flipped:!1,title:"Unity & Mastery",description:"I harmonize the art and science of design, bringing together aesthetic appeal and functional mastery to create seamless user experiences that resonate and endure.",innerTitle:"Harmonized Expertise"},{flipped:!1,title:"Purpose-Driven Design",description:"My designs are more than just visually striking; they're imbued with intentionality, serving a greater purpose and sparking change in the digital realm and beyond.",innerTitle:"Intentional Creativity"},{flipped:!1,title:"Championed Causes",description:"I use design as a platform to advocate for causes I believe in, from promoting accessibility to championing environmental sustainability, turning passion into action.",innerTitle:"Advocacy Through Design"},{flipped:!1,title:"Enlighten & Inspire",description:"My goal is to enlighten and inspire, using design as a tool to educate and empower users, encouraging them to see the digital world as a space of limitless potential.",innerTitle:"The Inspirational Spark"}]}readMoreClick(n){n.flipped=!n.flipped}boxText(n){return n.flipped?n.description:"Read More"}titletext(n){return n.flipped?n.innerTitle:n.title}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=ji({type:e,selectors:[["app-values"]],decls:9,vars:10,consts:[[1,"values"],[1,"row","row-one"],["class","value-box",4,"ngFor","ngForOf"],[1,"row","row-two"],[1,"value-box"],[1,"title-box"],[1,"title",3,"ngClass"],[1,"read-more",3,"click","ngClass"],[1,"read-more-text"]],template:function(r,i){1&r&&(me(0,"div",0)(1,"div",1),na(2,IJ,7,8,"div",2),nv(3,"slice"),we(),Pt(4,"br")(5,"br"),me(6,"div",3),na(7,bJ,7,8,"div",2),nv(8,"slice"),we()()),2&r&&(on(2),Tr("ngForOf",uE(3,2,i.valueBoxes,0,3)),on(5),Tr("ngForOf",uE(8,6,i.valueBoxes,3,6)))},dependencies:[$E,zE,cO],styles:[".values[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;align-items:center}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:2em}.value-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:20vw;height:15vw;padding:1em;border-radius:12px;border:1px solid #000;background:#e072d5;box-shadow:0 4px 4px #00000080}.title-box[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #000;background:#fff;height:40%;width:100%;display:flex;align-items:center;justify-content:center;font-family:Varela Round;color:#000;font-weight:800;margin-bottom:10px}.read-more[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:15%;border-radius:10px;border:1px solid #000;background:#ecc444;box-shadow:0 4px 4px #00000040 inset;font-family:Varela Round;color:#000;font-weight:600;cursor:pointer;box-sizing:border-box;text-align:center}.read-flipped[_ngcontent-%COMP%]{height:75%;padding-left:10px;padding-right:10px}"]})}return e})();const SJ=["mainContent"],TJ=e=>({"background-color":e});function AJ(e,t){1&e&&Pt(0,"img",30)}function MJ(e,t){1&e&&(me(0,"div"),$e(1,"lou."),we())}let NJ=(()=>{class e{constructor(n){this.renderer=n,this.showLouImage=!0,this.lilyEmail="LilyanTweddle@gmail.com",Sb.registerPlugin(tg)}ngAfterViewInit(){this.doResize(),this.addListener()}doResize(){const n=this.mainContent.nativeElement.querySelectorAll(".content-section"),r=document.querySelectorAll(".nav-item");n.forEach(i=>{const s=i.offsetTop-this.mainContent.nativeElement.scrollTop,a=s+i.offsetHeight,l=this.mainContent.nativeElement.clientHeight;let f=(Math.min(l,a)-Math.max(0,s))/l*100;const g=Array.from(r).find(m=>m.getAttribute("data-target")===i.getAttribute("id"));"sectionHome"===i.getAttribute("id")&&(this.showLouImage=f>=50),this.renderer.setStyle(g,"flex-grow",f>=50?"4":a<=0?"0.1":"1")})}scrollToSection(n){const r=this.mainContent.nativeElement.querySelector(`#${n}`);r&&Sb.to(this.mainContent.nativeElement,{scrollTo:{y:r.offsetTop-24,autoKill:!1},duration:1.5})}addListener(){this.listenerRemovalFunction=this.renderer.listen(this.mainContent.nativeElement,"scroll",()=>{this.doResize()})}static#e=this.\u0275fac=function(r){return new(r||e)(J(os))};static#t=this.\u0275cmp=ji({type:e,selectors:[["app-root"]],viewQuery:function(r,i){if(1&r&&iE(SJ,5),2&r){let o;X_(o=J_())&&(i.mainContent=o.first)}},decls:62,vars:6,consts:[["mainContent",""],[1,"container"],[1,"left-side-nav"],[1,"inner-nav"],["data-target","sectionHome",1,"nav-item","lou-nav-item",3,"click","ngStyle"],["class","lou-gif","src","./assets/gifs/lou.gif","alt","Lou",4,"ngIf"],[4,"ngIf"],["data-target","section1",1,"nav-item","about-nav-item",3,"click"],["data-target","section2",1,"nav-item","projects-nav-item",3,"click"],["data-target","section3",1,"nav-item","inclusive-insights-nav-item",3,"click"],["data-target","section4",1,"nav-item","contact-nav-item",3,"click"],[1,"main-content"],["id","sectionHome",1,"content-section"],[1,"top-links"],[1,"title-section"],[1,"mobileInfo"],[1,"mobile-contact"],["href","mailto:lilyantweddle@gmail.com"],["id","section1",1,"content-section"],[1,"about-title"],[1,"who-i-am"],[1,"intro-paragraph-div"],[1,"top-box"],[1,"top-box-text"],[1,"bottom-box"],[1,"bottom-box-text"],[1,"insights-values"],["id","section2",1,"content-section"],["id","section3",1,"content-section"],["id","section4",1,"content-section"],["src","./assets/gifs/lou.gif","alt","Lou",1,"lou-gif"]],template:function(r,i){if(1&r){const o=ld();me(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),Nt("click",function(){return er(o),tr(i.scrollToSection("sectionHome"))}),na(4,AJ,1,0,"img",5)(5,MJ,2,0,"div",6),we(),me(6,"div",7),Nt("click",function(){return er(o),tr(i.scrollToSection("section1"))}),$e(7,"About"),we(),me(8,"div",8),Nt("click",function(){return er(o),tr(i.scrollToSection("section2"))}),$e(9,"Projects"),we(),me(10,"div",9),Nt("click",function(){return er(o),tr(i.scrollToSection("section3"))}),$e(11,"Inclusive Insights"),we(),me(12,"div",10),Nt("click",function(){return er(o),tr(i.scrollToSection("section4"))}),$e(13,"Contact"),we()()(),me(14,"div",11,0)(16,"section",12),Pt(17,"div",13),me(18,"div",14)(19,"h1"),$e(20,"Lilyan"),we(),me(21,"h1"),$e(22,"Tweddle"),we(),me(23,"h2"),$e(24,"Research. Design. Accessibility."),we(),me(25,"h3",15),$e(26,"Mobile friendly version coming soon! Please view on desktop for now."),we(),me(27,"h2",16)(28,"a",17),$e(29),we()()()(),me(30,"section",18)(31,"span",19),$e(32,"Who I Am"),we(),me(33,"div",20),Pt(34,"app-name-tag"),me(35,"div",21)(36,"div",22)(37,"span",23),$e(38,"Welcome to my world of design\u2014where empathy meets innovation."),we()(),me(39,"div",24)(40,"span",25),$e(41,"I'm Lilyan Tweddle, a UX designer driven by a vision of a world where digital access is universal. Inspired by the real challenges that people close to me have faced, I am deeply committed to transforming how we think about and implement accessibility. My approach blends empathy with innovation, striving to create digital experiences that are not just usable, but truly empowering for everyone. "),Pt(42,"br")(43,"br"),$e(44,"Every design I craft is a step towards a future where technology connects us all more deeply, breaking down barriers and opening up new realms of possibility. I am passionate about pushing the boundaries of what accessible design can achieve, making each interaction a celebration of diversity and capability. "),Pt(45,"br")(46,"br"),$e(47,"Join me on this transformative journey, as we innovate and inspire to build a more inclusive and accessible digital world."),we()()()(),me(48,"span",19),$e(49,"Personal Insights and Values"),we(),me(50,"div",26),Pt(51,"app-values"),we()(),me(52,"section",27)(53,"span",19),$e(54,"Projects"),we(),Pt(55,"app-projects"),we(),me(56,"section",28)(57,"span",19),$e(58,"Let's Innovate Together!"),we(),Pt(59,"app-post-it-board"),we(),me(60,"section",29),Pt(61,"app-contact"),we()()()}2&r&&(on(3),Tr("ngStyle",ds(4,TJ,i.showLouImage?"#cec9c8":"#F8F7FF")),on(),Tr("ngIf",i.showLouImage),on(),Tr("ngIf",!i.showLouImage),on(24),ev("Contact Me: ",i.lilyEmail,""))},dependencies:[oO,qE,mJ,_J,vJ,EJ,DJ],styles:[".top-btn[_ngcontent-%COMP%]{position:absolute;z-index:100;top:25px;right:42px}.container[_ngcontent-%COMP%]{background-color:#fff;width:100%;display:flex;flex-direction:row;height:auto;height:100vh}.left-side-nav[_ngcontent-%COMP%]{background-color:#f8f7ff;overflow-y:auto;width:13%;z-index:1200;flex:0 0 13%;height:70vh}.inner-nav[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;gap:12px;justify-content:flex-start;margin-bottom:12px;margin-top:24px;width:100%;height:calc(100% - 36px);padding:0 16px;box-sizing:border-box}.nav-item[_ngcontent-%COMP%]{border-radius:12px;cursor:pointer;flex-grow:1;flex-shrink:0;padding:12px;pointer-events:all;width:100%;box-sizing:border-box;color:#000;font-family:Varela Round;font-size:1.5em;font-style:normal;font-weight:600;line-height:normal}.lou-gif[_ngcontent-%COMP%]{width:100%;height:100%}.lou-nav-item[_ngcontent-%COMP%]{background-color:#f8f7ff;border-radius:15px;border:3px solid #000;font-weight:800;text-shadow:none;color:#000;font-family:Sniglet;text-align:center}.about-nav-item[_ngcontent-%COMP%]{background-color:#c7c7c7;box-shadow:0 4px 4px #00000040;border-radius:15px;border:2px solid #000}.projects-nav-item[_ngcontent-%COMP%]{background-color:#ecc444;box-shadow:0 4px 4px #00000040;border-radius:15px;border:2px solid #000}.inclusive-insights-nav-item[_ngcontent-%COMP%]{background-color:#e072a3;box-shadow:0 4px 4px #00000040;border-radius:15px;border:2px solid #000}.contact-nav-item[_ngcontent-%COMP%]{background-color:#837aca;box-shadow:0 4px 4px #00000040;border-radius:15px;border:2px solid #000}.main-content[_ngcontent-%COMP%]{align-items:flex-start;flex-grow:1;flex-direction:column;height:auto;justify-content:flex-start;width:100%;background-color:#f8f7ff;overflow-y:auto;box-sizing:border-box}@media (max-width: 1599px){.left-side-nav[_ngcontent-%COMP%]{flex:0 0 17%}}.content-section[_ngcontent-%COMP%]{display:flex;height:auto;border-radius:12px;box-sizing:border-box;margin-bottom:1em;width:99%}app-post-it-board[_ngcontent-%COMP%], app-projects[_ngcontent-%COMP%]{flex-grow:1}.about-title[_ngcontent-%COMP%]{color:#000;font-family:Varela Round;font-size:3em;font-style:normal;font-weight:600;line-height:normal;margin-top:.3em}#sectionHome[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:24px;height:calc(99vh - 24px);background-color:#f8f7ff;border-radius:15px;border:3px solid #000;box-sizing:border-box}#sectionHome[_ngcontent-%COMP%]   .top-links[_ngcontent-%COMP%]{height:15%;display:flex;flex-direction:row;align-items:center;justify-content:right;padding:1%}#sectionHome[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:left;padding-left:5%}#sectionHome[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], #sectionHome[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-family:Share;font-weight:700}#sectionHome[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:15em}#sectionHome[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:5em;margin-left:1em;font-style:italic}#section1[_ngcontent-%COMP%]{background-color:#f4f4f4;border-radius:15px;border:3px solid #C1C1C1;flex-direction:column;padding:0 2em;box-sizing:border-box}#section1[_ngcontent-%COMP%]   .who-i-am[_ngcontent-%COMP%]{width:100%;border-radius:30px;border:1px solid #000;background:#c8c8c8;box-shadow:0 4px 4px #00000040 inset,0 4px 4px #00000040;padding:1em;box-sizing:border-box;display:flex;flex-direction:row}#section1[_ngcontent-%COMP%]   .who-i-am[_ngcontent-%COMP%]   app-name-tag[_ngcontent-%COMP%]{width:50%}#section1[_ngcontent-%COMP%]   .who-i-am[_ngcontent-%COMP%]   .intro-paragraph-div[_ngcontent-%COMP%]{padding:0 2em 1em;width:50%}#section1[_ngcontent-%COMP%]   .who-i-am[_ngcontent-%COMP%]   .top-box[_ngcontent-%COMP%]{display:flex;width:90%;flex-direction:column;padding-left:1em;padding-right:3em;box-sizing:border-box;background-color:#fff;border-radius:10px;border:1px solid #000;padding-bottom:1em}@media screen and (min-width: 1600px){#section1[_ngcontent-%COMP%]   .who-i-am[_ngcontent-%COMP%]   .top-box[_ngcontent-%COMP%]{width:70%}}#section1[_ngcontent-%COMP%]   .who-i-am[_ngcontent-%COMP%]   .top-box-text[_ngcontent-%COMP%]{font-family:Varela Round;font-weight:600;color:#000;font-size:1.4em}@media screen and (min-width: 1600px){#section1[_ngcontent-%COMP%]   .who-i-am[_ngcontent-%COMP%]   .top-box-text[_ngcontent-%COMP%]{font-size:1.6em}}#section1[_ngcontent-%COMP%]   .who-i-am[_ngcontent-%COMP%]   .bottom-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1em;box-sizing:border-box;background-color:#fff;border-radius:10px;border:1px solid #000;margin-left:3em;margin-top:-1em}@media screen and (min-width: 1600px){#section1[_ngcontent-%COMP%]   .who-i-am[_ngcontent-%COMP%]   .bottom-box[_ngcontent-%COMP%]{margin-left:5em}}#section1[_ngcontent-%COMP%]   .who-i-am[_ngcontent-%COMP%]   .bottom-box-text[_ngcontent-%COMP%]{font-family:Varela Round;font-weight:400;color:#000;font-size:.95em}@media screen and (min-width: 1600px){#section1[_ngcontent-%COMP%]   .who-i-am[_ngcontent-%COMP%]   .bottom-box-text[_ngcontent-%COMP%]{font-size:1.1em}}#section1[_ngcontent-%COMP%]   .insights-values[_ngcontent-%COMP%]{width:100%;border-radius:30px;border:1px solid #000;background:#c8c8c8;box-shadow:0 4px 4px #00000040 inset,0 4px 4px #00000040;padding:2em 0;box-sizing:border-box;margin-bottom:1em}#section2[_ngcontent-%COMP%]{height:auto;background-color:#faefcd;border:3px solid #ECC444;flex-direction:column;padding:0 2em}#section3[_ngcontent-%COMP%]{background-color:#fafafa;border-radius:15px;border:3px solid #CC3879;padding:0 2em;height:auto;flex-direction:column}#section4[_ngcontent-%COMP%]{flex-direction:column;border-radius:15px;border:3px solid #3E3B56;padding:0 2em;height:auto}.mobileInfo[_ngcontent-%COMP%], .mobile-contact[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 999px){.mobileInfo[_ngcontent-%COMP%]{display:block}#section1[_ngcontent-%COMP%], #section2[_ngcontent-%COMP%], #section3[_ngcontent-%COMP%], #section4[_ngcontent-%COMP%], .left-side-nav[_ngcontent-%COMP%]{display:none}.content-section[_ngcontent-%COMP%]{width:100%}#sectionHome[_ngcontent-%COMP%]{margin:0;height:100vh;border-radius:4px;background-image:linear-gradient(to bottom,#a7c0ef,#fff)}#sectionHome[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center;padding-left:0}#sectionHome[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:15vw}#sectionHome[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:5vw;margin-top:5vh;margin-left:0}#sectionHome[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:3vw;font-family:Share;font-weight:500}#sectionHome[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .mobile-contact[_ngcontent-%COMP%]{margin-top:35vh;display:block;color:#7469c6;margin-left:0}#sectionHome[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .mobile-contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#7469c6;margin:0;padding:0}}"]})}return e})();const m2_firebaseConfig={apiKey:"AIzaSyBSBfZuCFaV57E4FBSGXtAEeJatGeS3z4I",authDomain:"lily-portfolio-1dbc3.firebaseapp.com",projectId:"lily-portfolio-1dbc3",storageBucket:"lily-portfolio-1dbc3.appspot.com",messagingSenderId:"363612306046",appId:"1:363612306046:web:3eee8bbd5b21a929d9762f",measurementId:"G-RC9JJX2PJ3",databaseURL:"https://lily-portfolio-1dbc3-default-rtdb.firebaseio.com/"};let RJ=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Ci({type:e,bootstrap:[NJ]});static#n=this.\u0275inj=wr({imports:[uq,p9,hJ,Q7.initializeApp(m2_firebaseConfig),hX]})}return e})();aq().bootstrapModule(RJ).catch(e=>console.error(e))},345:(ao,Bn,Ve)=>{Ve.d(Bn,{A:()=>Sn});var b=Ve(76),ke=Ve(362),re=Ve(852),V=Ve(41);class Yt{constructor(ze,Qe){this._delegate=ze,this.firebase=Qe,(0,re._addComponent)(ze,new ke.uA("app-compat",()=>this,"PUBLIC")),this.container=ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this._delegate.automaticDataCollectionEnabled=ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ze=>{this._delegate.checkDestroyed(),ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,re.deleteApp)(this._delegate)))}_getService(ze,Qe=re._DEFAULT_ENTRY_NAME){var Tn;this._delegate.checkDestroyed();const Hn=this._delegate.container.getProvider(ze);return!Hn.isInitialized()&&"EXPLICIT"===(null===(Tn=Hn.getComponent())||void 0===Tn?void 0:Tn.instantiationMode)&&Hn.initialize(),Hn.getImmediate({identifier:Qe})}_removeServiceInstance(ze,Qe=re._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ze).clearInstance(Qe)}_addComponent(ze){(0,re._addComponent)(this._delegate,ze)}_addOrOverwriteComponent(ze){(0,re._addOrOverwriteComponent)(this._delegate,ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new b.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function lt(){const ft=function jn(ft){const ze={},Qe={__esModule:!0,initializeApp:function xt(be,tn={}){const Qt=re.initializeApp(be,tn);if((0,b.gR)(ze,Qt.name))return ze[Qt.name];const Q=new ft(Qt,Qe);return ze[Qt.name]=Q,Q},app:Hn,registerVersion:re.registerVersion,setLogLevel:re.setLogLevel,onLog:re.onLog,apps:null,SDK_VERSION:re.SDK_VERSION,INTERNAL:{registerComponent:function ut(be){const tn=be.name,Qt=tn.replace("-compat","");if(re._registerComponent(be)&&"PUBLIC"===be.type){const Q=(mn=Hn())=>{if("function"!=typeof mn[Qt])throw Ce.create("invalid-app-argument",{appName:tn});return mn[Qt]()};void 0!==be.serviceProps&&(0,b.zw)(Q,be.serviceProps),Qe[Qt]=Q,ft.prototype[Qt]=function(...mn){return this._getService.bind(this,tn).apply(this,be.multipleInstances?mn:[])}}return"PUBLIC"===be.type?Qe[Qt]:null},removeApp:function Tn(be){delete ze[be]},useAsService:function ur(be,tn){return"serverAuth"===tn?null:tn},modularAPIs:re}};function Hn(be){if(!(0,b.gR)(ze,be=be||re._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:be});return ze[be]}return Qe.default=Qe,Object.defineProperty(Qe,"apps",{get:function pt(){return Object.keys(ze).map(be=>ze[be])}}),Hn.App=ft,Qe}(Yt);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:lt,extendNamespace:function ze(Qe){(0,b.zw)(ft,Qe)},createSubscribe:b.tD,ErrorFactory:b.FA,deepExtend:b.zw}),ft}(),Z=new V.Vy("@firebase/app-compat");if((0,b.Bd)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Sn=Y;!function ot(ft){(0,re.registerVersion)("@firebase/app-compat","0.2.31",ft)}()},852:(ao,Bn,Ve)=>{Ve.r(Bn),Ve.d(Bn,{FirebaseError:()=>V.g,SDK_VERSION:()=>co,_DEFAULT_ENTRY_NAME:()=>ei,_addComponent:()=>yr,_addOrOverwriteComponent:()=>ri,_apps:()=>ti,_clearComponents:()=>Ui,_components:()=>Lr,_getProvider:()=>Lo,_isFirebaseApp:()=>uo,_isFirebaseServerApp:()=>Vo,_registerComponent:()=>lo,_removeServiceInstance:()=>Vi,_serverApps:()=>ni,deleteApp:()=>xs,getApp:()=>Dl,getApps:()=>At,initializeApp:()=>Rn,initializeServerApp:()=>Rs,onLog:()=>S,registerVersion:()=>A,setLogLevel:()=>N});var b=Ve(467),ke=Ve(362),re=Ve(41),V=Ve(76);const Yt=(k,x)=>x.some(z=>k instanceof z);let vt,Ce;const Y=new WeakMap,Z=new WeakMap,ye=new WeakMap,Ye=new WeakMap,ot=new WeakMap;let ze={get(k,x,z){if(k instanceof IDBTransaction){if("done"===x)return Z.get(k);if("objectStoreNames"===x)return k.objectStoreNames||ye.get(k);if("store"===x)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return xt(k[x])},set:(k,x,z)=>(k[x]=z,!0),has:(k,x)=>k instanceof IDBTransaction&&("done"===x||"store"===x)||x in k};function Hn(k){return"function"==typeof k?function Tn(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lt(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...x){return k.apply(pt(this),x),xt(Y.get(this))}:function(...x){return xt(k.apply(pt(this),x))}:function(x,...z){const ce=k.call(pt(this),x,...z);return ye.set(ce,x.sort?x.sort():[x]),xt(ce)}}(k):(k instanceof IDBTransaction&&function ft(k){if(Z.has(k))return;const x=new Promise((z,ce)=>{const Te=()=>{k.removeEventListener("complete",Ue),k.removeEventListener("error",ge),k.removeEventListener("abort",ge)},Ue=()=>{z(),Te()},ge=()=>{ce(k.error||new DOMException("AbortError","AbortError")),Te()};k.addEventListener("complete",Ue),k.addEventListener("error",ge),k.addEventListener("abort",ge)});Z.set(k,x)}(k),Yt(k,function jn(){return vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,ze):k)}function xt(k){if(k instanceof IDBRequest)return function Sn(k){const x=new Promise((z,ce)=>{const Te=()=>{k.removeEventListener("success",Ue),k.removeEventListener("error",ge)},Ue=()=>{z(xt(k.result)),Te()},ge=()=>{ce(k.error),Te()};k.addEventListener("success",Ue),k.addEventListener("error",ge)});return x.then(z=>{z instanceof IDBCursor&&Y.set(z,k)}).catch(()=>{}),ot.set(x,k),x}(k);if(Ye.has(k))return Ye.get(k);const x=Hn(k);return x!==k&&(Ye.set(k,x),ot.set(x,k)),x}const pt=k=>ot.get(k),be=["get","getKey","getAll","getAllKeys","count"],tn=["put","add","delete","clear"],Qt=new Map;function Q(k,x){if(!(k instanceof IDBDatabase)||x in k||"string"!=typeof x)return;if(Qt.get(x))return Qt.get(x);const z=x.replace(/FromIndex$/,""),ce=x!==z,Te=tn.includes(z);if(!(z in(ce?IDBIndex:IDBObjectStore).prototype)||!Te&&!be.includes(z))return;const Ue=function(){var ge=(0,b.A)(function*(Zt,...Xt){const Be=this.transaction(Zt,Te?"readwrite":"readonly");let Os=Be.store;return ce&&(Os=Os.index(Xt.shift())),(yield Promise.all([Os[z](...Xt),Te&&Be.done]))[0]});return function(Xt){return ge.apply(this,arguments)}}();return Qt.set(x,Ue),Ue}!function Qe(k){ze=k(ze)}(k=>({...k,get:(x,z,ce)=>Q(x,z)||k.get(x,z,ce),has:(x,z)=>!!Q(x,z)||k.has(x,z)}));class mn{constructor(x){this.container=x}getPlatformInfoString(){return this.container.getProviders().map(z=>{if(function An(k){const x=k.getComponent();return"VERSION"===x?.type}(z)){const ce=z.getImmediate();return`${ce.library}/${ce.version}`}return null}).filter(z=>z).join(" ")}}const kr="@firebase/app",Li="0.10.1",_r=new re.Vy("@firebase/app"),ei="[DEFAULT]",Ms={[kr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ti=new Map,ni=new Map,Lr=new Map;function yr(k,x){try{k.container.addComponent(x)}catch(z){_r.debug(`Component ${x.name} failed to register with FirebaseApp ${k.name}`,z)}}function ri(k,x){k.container.addOrOverwriteComponent(x)}function lo(k){const x=k.name;if(Lr.has(x))return _r.debug(`There were multiple attempts to register component ${x}.`),!1;Lr.set(x,k);for(const z of ti.values())yr(z,k);for(const z of ni.values())yr(z,k);return!0}function Lo(k,x){const z=k.container.getProvider("heartbeat").getImmediate({optional:!0});return z&&z.triggerHeartbeat(),k.container.getProvider(x)}function Vi(k,x,z=ei){Lo(k,x).clearInstance(z)}function uo(k){return void 0!==k.options}function Vo(k){return void 0!==k.settings}function Ui(){Lr.clear()}const Nn=new V.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ns{constructor(x,z,ce){this._isDeleted=!1,this._options=Object.assign({},x),this._config=Object.assign({},z),this._name=z.name,this._automaticDataCollectionEnabled=z.automaticDataCollectionEnabled,this._container=ce,this.container.addComponent(new ke.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(x){this.checkDestroyed(),this._automaticDataCollectionEnabled=x}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(x){this._isDeleted=x}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}class bl extends Ns{constructor(x,z,ce,Te){const Ue=void 0!==z.automaticDataCollectionEnabled&&z.automaticDataCollectionEnabled,ge={name:ce,automaticDataCollectionEnabled:Ue};super(void 0!==x.apiKey?x:x.options,ge,Te),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ue},z),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,z.releaseOnDeref=void 0,A(kr,Li,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(x){this.isDeleted||(this._refCount++,void 0!==x&&this._finalizationRegistry.register(x,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){xs(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Nn.create("server-app-deleted")}}const co="10.11.0";function Rn(k,x={}){let z=k;"object"!=typeof x&&(x={name:x});const ce=Object.assign({name:ei,automaticDataCollectionEnabled:!1},x),Te=ce.name;if("string"!=typeof Te||!Te)throw Nn.create("bad-app-name",{appName:String(Te)});if(z||(z=(0,V.T9)()),!z)throw Nn.create("no-options");const Ue=ti.get(Te);if(Ue){if((0,V.bD)(z,Ue.options)&&(0,V.bD)(ce,Ue.config))return Ue;throw Nn.create("duplicate-app",{appName:Te})}const ge=new ke.h1(Te);for(const Xt of Lr.values())ge.addComponent(Xt);const Zt=new Ns(z,ce,ge);return ti.set(Te,Zt),Zt}function Rs(k,x){if((0,V.Bd)())throw Nn.create("invalid-server-app-environment");let z;void 0===x.automaticDataCollectionEnabled&&(x.automaticDataCollectionEnabled=!1),z=uo(k)?k.options:k;const ce=Object.assign(Object.assign({},x),z);if(void 0!==ce.releaseOnDeref&&delete ce.releaseOnDeref,void 0!==x.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Nn.create("finalization-registry-not-supported",{});const Ue=""+(Be=JSON.stringify(ce),[...Be].reduce((Os,dn)=>Math.imul(31,Os)+dn.charCodeAt(0)|0,0)),ge=ni.get(Ue);var Be;if(ge)return ge.incRefCount(x.releaseOnDeref),ge;const Zt=new ke.h1(Ue);for(const Be of Lr.values())Zt.addComponent(Be);const Xt=new bl(z,x,Ue,Zt);return ni.set(Ue,Xt),Xt}function Dl(k=ei){const x=ti.get(k);if(!x&&k===ei&&(0,V.T9)())return Rn();if(!x)throw Nn.create("no-app",{appName:k});return x}function At(){return Array.from(ti.values())}function xs(k){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,b.A)(function*(k){let x=!1;const z=k.name;ti.has(z)?(x=!0,ti.delete(z)):ni.has(z)&&k.decRefCount()<=0&&(ni.delete(z),x=!0),x&&(yield Promise.all(k.container.getProviders().map(ce=>ce.delete())),k.isDeleted=!0)})).apply(this,arguments)}function A(k,x,z){var ce;let Te=null!==(ce=Ms[k])&&void 0!==ce?ce:k;z&&(Te+=`-${z}`);const Ue=Te.match(/\s|\//),ge=x.match(/\s|\//);if(Ue||ge){const Zt=[`Unable to register library "${Te}" with version "${x}":`];return Ue&&Zt.push(`library name "${Te}" contains illegal characters (whitespace or "/")`),Ue&&ge&&Zt.push("and"),ge&&Zt.push(`version name "${x}" contains illegal characters (whitespace or "/")`),void _r.warn(Zt.join(" "))}lo(new ke.uA(`${Te}-version`,()=>({library:Te,version:x}),"VERSION"))}function S(k,x){if(null!==k&&"function"!=typeof k)throw Nn.create("invalid-log-argument");(0,re.Ey)(k,x)}function N(k){(0,re.He)(k)}const q="firebase-heartbeat-database",O=1,he="firebase-heartbeat-store";let fe=null;function xe(){return fe||(fe=function ut(k,x,{blocked:z,upgrade:ce,blocking:Te,terminated:Ue}={}){const ge=indexedDB.open(k,x),Zt=xt(ge);return ce&&ge.addEventListener("upgradeneeded",Xt=>{ce(xt(ge.result),Xt.oldVersion,Xt.newVersion,xt(ge.transaction),Xt)}),z&&ge.addEventListener("blocked",Xt=>z(Xt.oldVersion,Xt.newVersion,Xt)),Zt.then(Xt=>{Ue&&Xt.addEventListener("close",()=>Ue()),Te&&Xt.addEventListener("versionchange",Be=>Te(Be.oldVersion,Be.newVersion,Be))}).catch(()=>{}),Zt}(q,O,{upgrade:(k,x)=>{if(0===x)try{k.createObjectStore(he)}catch(z){console.warn(z)}}}).catch(k=>{throw Nn.create("idb-open",{originalErrorMessage:k.message})})),fe}function Ie(){return(Ie=(0,b.A)(function*(k){try{const z=(yield xe()).transaction(he),ce=yield z.objectStore(he).get($(k));return yield z.done,ce}catch(x){if(x instanceof V.g)_r.warn(x.message);else{const z=Nn.create("idb-get",{originalErrorMessage:x?.message});_r.warn(z.message)}}})).apply(this,arguments)}function $n(k,x){return We.apply(this,arguments)}function We(){return(We=(0,b.A)(function*(k,x){try{const ce=(yield xe()).transaction(he,"readwrite");yield ce.objectStore(he).put(x,$(k)),yield ce.done}catch(z){if(z instanceof V.g)_r.warn(z.message);else{const ce=Nn.create("idb-set",{originalErrorMessage:z?.message});_r.warn(ce.message)}}})).apply(this,arguments)}function $(k){return`${k.name}!${k.options.appId}`}class va{constructor(x){this.container=x,this._heartbeatsCache=null;const z=this.container.getProvider("app").getImmediate();this._storage=new Bo(z),this._heartbeatsCachePromise=this._storage.read().then(ce=>(this._heartbeatsCache=ce,ce))}triggerHeartbeat(){var x=this;return(0,b.A)(function*(){var z,ce;const Ue=x.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ge=ju();if((null!=(null===(z=x._heartbeatsCache)||void 0===z?void 0:z.heartbeats)||(x._heartbeatsCache=yield x._heartbeatsCachePromise,null!=(null===(ce=x._heartbeatsCache)||void 0===ce?void 0:ce.heartbeats)))&&x._heartbeatsCache.lastSentHeartbeatDate!==ge&&!x._heartbeatsCache.heartbeats.some(Zt=>Zt.date===ge))return x._heartbeatsCache.heartbeats.push({date:ge,agent:Ue}),x._heartbeatsCache.heartbeats=x._heartbeatsCache.heartbeats.filter(Zt=>{const Xt=new Date(Zt.date).valueOf();return Date.now()-Xt<=2592e6}),x._storage.overwrite(x._heartbeatsCache)})()}getHeartbeatsHeader(){var x=this;return(0,b.A)(function*(){var z;if(null===x._heartbeatsCache&&(yield x._heartbeatsCachePromise),null==(null===(z=x._heartbeatsCache)||void 0===z?void 0:z.heartbeats)||0===x._heartbeatsCache.heartbeats.length)return"";const ce=ju(),{heartbeatsToSend:Te,unsentEntries:Ue}=function dh(k,x=1024){const z=[];let ce=k.slice();for(const Te of k){const Ue=z.find(ge=>ge.agent===Te.agent);if(Ue){if(Ue.dates.push(Te.date),Vr(z)>x){Ue.dates.pop();break}}else if(z.push({agent:Te.agent,dates:[Te.date]}),Vr(z)>x){z.pop();break}ce=ce.slice(1)}return{heartbeatsToSend:z,unsentEntries:ce}}(x._heartbeatsCache.heartbeats),ge=(0,V.Uj)(JSON.stringify({version:2,heartbeats:Te}));return x._heartbeatsCache.lastSentHeartbeatDate=ce,Ue.length>0?(x._heartbeatsCache.heartbeats=Ue,yield x._storage.overwrite(x._heartbeatsCache)):(x._heartbeatsCache.heartbeats=[],x._storage.overwrite(x._heartbeatsCache)),ge})()}}function ju(){return(new Date).toISOString().substring(0,10)}class Bo{constructor(x){this.app=x,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.A)(function*(){return!!(0,V.zW)()&&(0,V.eX)().then(()=>!0).catch(()=>!1)})()}read(){var x=this;return(0,b.A)(function*(){if(yield x._canUseIndexedDBPromise){const ce=yield function Dt(k){return Ie.apply(this,arguments)}(x.app);return ce?.heartbeats?ce:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(x){var z=this;return(0,b.A)(function*(){var ce;if(yield z._canUseIndexedDBPromise){const Ue=yield z.read();return $n(z.app,{lastSentHeartbeatDate:null!==(ce=x.lastSentHeartbeatDate)&&void 0!==ce?ce:Ue.lastSentHeartbeatDate,heartbeats:x.heartbeats})}})()}add(x){var z=this;return(0,b.A)(function*(){var ce;if(yield z._canUseIndexedDBPromise){const Ue=yield z.read();return $n(z.app,{lastSentHeartbeatDate:null!==(ce=x.lastSentHeartbeatDate)&&void 0!==ce?ce:Ue.lastSentHeartbeatDate,heartbeats:[...Ue.heartbeats,...x.heartbeats]})}})()}}function Vr(k){return(0,V.Uj)(JSON.stringify({version:2,heartbeats:k})).length}!function fo(k){lo(new ke.uA("platform-logger",x=>new mn(x),"PRIVATE")),lo(new ke.uA("heartbeat",x=>new va(x),"PRIVATE")),A(kr,Li,k),A(kr,Li,"esm2017"),A("fire-js","")}("")},362:(ao,Bn,Ve)=>{Ve.d(Bn,{Kq:()=>Yt,h1:()=>jn,uA:()=>re});var b=Ve(467),ke=Ve(76);class re{constructor(Y,Z,ye){this.name=Y,this.instanceFactory=Z,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const V="[DEFAULT]";class Yt{constructor(Y,Z){this.name=Y,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const Z=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(Z)){const ye=new ke.cY;if(this.instancesDeferred.set(Z,ye),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:Z});Ye&&ye.resolve(Ye)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(Y){var Z;const ye=this.normalizeInstanceIdentifier(Y?.identifier),Ye=null!==(Z=Y?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(ot){if(Ye)return null;throw ot}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function Ce(lt){return"EAGER"===lt.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:V})}catch{}for(const[Z,ye]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(Z);try{const ot=this.getOrInitializeService({instanceIdentifier:Ye});ye.resolve(ot)}catch{}}}}clearInstance(Y=V){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,b.A)(function*(){const Z=Array.from(Y.instances.values());yield Promise.all([...Z.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...Z.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=V){return this.instances.has(Y)}getOptions(Y=V){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:Z={}}=Y,ye=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:ye,options:Z});for(const[ot,Sn]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(ot)&&Sn.resolve(Ye);return Ye}onInit(Y,Z){var ye;const Ye=this.normalizeInstanceIdentifier(Z),ot=null!==(ye=this.onInitCallbacks.get(Ye))&&void 0!==ye?ye:new Set;ot.add(Y),this.onInitCallbacks.set(Ye,ot);const Sn=this.instances.get(Ye);return Sn&&Y(Sn,Ye),()=>{ot.delete(Y)}}invokeOnInitCallbacks(Y,Z){const ye=this.onInitCallbacks.get(Z);if(ye)for(const Ye of ye)try{Ye(Y,Z)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:Z={}}){let ye=this.instances.get(Y);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(lt=Y,lt===V?void 0:lt),options:Z}),this.instances.set(Y,ye),this.instancesOptions.set(Y,Z),this.invokeOnInitCallbacks(ye,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,ye)}catch{}var lt;return ye||null}normalizeInstanceIdentifier(Y=V){return this.component?this.component.multipleInstances?Y:V:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class jn{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const Z=this.getProvider(Y.name);if(Z.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);Z.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const Z=new Yt(Y,this);return this.providers.set(Y,Z),Z}getProviders(){return Array.from(this.providers.values())}}},41:(ao,Bn,Ve)=>{Ve.d(Bn,{$b:()=>ke,Ey:()=>lt,He:()=>jn,Vy:()=>Ce});const b=[];var ke=function(Y){return Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y}(ke||{});const re={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},V=ke.INFO,Yt={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},vt=(Y,Z,...ye)=>{if(Z<Y.logLevel)return;const Ye=(new Date).toISOString(),ot=Yt[Z];if(!ot)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[ot](`[${Ye}]  ${Y.name}:`,...ye)};class Ce{constructor(Z){this.name=Z,this._logLevel=V,this._logHandler=vt,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in ke))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?re[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...Z),this._logHandler(this,ke.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...Z),this._logHandler(this,ke.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...Z),this._logHandler(this,ke.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...Z),this._logHandler(this,ke.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...Z),this._logHandler(this,ke.ERROR,...Z)}}function jn(Y){b.forEach(Z=>{Z.setLogLevel(Y)})}function lt(Y,Z){for(const ye of b){let Ye=null;Z&&Z.level&&(Ye=re[Z.level]),ye.userLogHandler=null===Y?null:(ot,Sn,...ft)=>{const ze=ft.map(Qe=>{if(null==Qe)return null;if("string"==typeof Qe)return Qe;if("number"==typeof Qe||"boolean"==typeof Qe)return Qe.toString();if(Qe instanceof Error)return Qe.message;try{return JSON.stringify(Qe)}catch{return null}}).filter(Qe=>Qe).join(" ");Sn>=(Ye??ot.logLevel)&&Y({level:ke[Sn].toLowerCase(),message:ze,args:ft,type:ot.name})}}}},509:(ao,Bn,Ve)=>{Ve.r(Bn);var b=Ve(467),ke=Ve(345),re=Ve(852),V=Ve(76),Yt=Ve(41),vt=Ve(635),Ce=Ve(362);const lt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Sn=function Ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ft=function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ze=new V.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tn=new Yt.Vy("@firebase/auth");function xt(h,...u){Tn.logLevel<=Yt.$b.ERROR&&Tn.error(`Auth (${re.SDK_VERSION}): ${h}`,...u)}function pt(h,...u){throw Qt(h,...u)}function ut(h,...u){return Qt(h,...u)}function ur(h,u,c){const p=Object.assign(Object.assign({},ft()),{[u]:c});return new V.FA("auth","Firebase",p).create(u,{appName:h.name})}function be(h){return ur(h,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tn(h,u,c){if(!(u instanceof c))throw c.name!==u.constructor.name&&pt(h,"argument-error"),ur(h,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qt(h,...u){if("string"!=typeof h){const c=u[0],p=[...u.slice(1)];return p[0]&&(p[0].appName=h.name),h._errorFactory.create(c,...p)}return ze.create(h,...u)}function Q(h,u,...c){if(!h)throw Qt(u,...c)}function mn(h){const u="INTERNAL ASSERTION FAILED: "+h;throw xt(u),new Error(u)}function An(h,u){h||mn(u)}function kr(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.href)||""}function Li(){return"http:"===_r()||"https:"===_r()}function _r(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.protocol)||null}class F{constructor(u,c){this.shortDelay=u,this.longDelay=c,An(c>u,"Short delay should be less than long delay!"),this.isMobile=(0,V.jZ)()||(0,V.lV)()}get(){return function Po(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Li()||(0,V.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function L(h,u){An(h.emulator,"Emulator should always be set here");const{url:c}=h.emulator;return u?`${c}${u.startsWith("/")?u.slice(1):u}`:c}class G{static initialize(u,c,p){this.fetchImpl=u,c&&(this.headersImpl=c),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ne=new F(3e4,6e4);function K(h,u){return h.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:h.tenantId}):u}function de(h,u,c,p){return nt.apply(this,arguments)}function nt(){return(nt=(0,b.A)(function*(h,u,c,p,_={}){return _n(h,_,(0,b.A)(function*(){let w={},D={};p&&("GET"===u?D=p:w={body:JSON.stringify(p)});const R=(0,V.Am)(Object.assign({key:h.config.apiKey},D)).slice(1),H=yield h._getAdditionalHeaders();return H["Content-Type"]="application/json",h.languageCode&&(H["X-Firebase-Locale"]=h.languageCode),G.fetch()(Ae(h,h.config.apiHost,c,R),Object.assign({method:u,headers:H,referrerPolicy:"no-referrer"},w))}))})).apply(this,arguments)}function _n(h,u,c){return Se.apply(this,arguments)}function Se(){return(Se=(0,b.A)(function*(h,u,c){h._canInitEmulator=!1;const p=Object.assign(Object.assign({},W),u);try{const _=new Kn(h),w=yield Promise.race([c(),_.promise]);_.clearNetworkTimeout();const D=yield w.json();if("needConfirmation"in D)throw cn(h,"account-exists-with-different-credential",D);if(w.ok&&!("errorMessage"in D))return D;{const R=w.ok?D.errorMessage:D.error.message,[H,ae]=R.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===H)throw cn(h,"credential-already-in-use",D);if("EMAIL_EXISTS"===H)throw cn(h,"email-already-in-use",D);if("USER_DISABLED"===H)throw cn(h,"user-disabled",D);const oe=p[H]||H.toLowerCase().replace(/[_\s]+/g,"-");if(ae)throw ur(h,oe,ae);pt(h,oe)}}catch(_){if(_ instanceof V.g)throw _;pt(h,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Ze(h,u,c,p){return nn.apply(this,arguments)}function nn(){return(nn=(0,b.A)(function*(h,u,c,p,_={}){const w=yield de(h,u,c,p,_);return"mfaPendingCredential"in w&&pt(h,"multi-factor-auth-required",{_serverResponse:w}),w})).apply(this,arguments)}function Ae(h,u,c,p){const _=`${u}${c}?${p}`;return h.config.emulator?L(h.config,_):`${h.config.apiScheme}://${_}`}function Mn(h){switch(h){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kn{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((c,p)=>{this.timer=setTimeout(()=>p(ut(this.auth,"network-request-failed")),ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cn(h,u,c){const p={appName:h.name};c.email&&(p.email=c.email),c.phoneNumber&&(p.phoneNumber=c.phoneNumber);const _=ut(h,u,p);return _.customData._tokenResponse=c,_}function Et(h){return void 0!==h&&void 0!==h.getResponse}function Fr(h){return void 0!==h&&void 0!==h.enterprise}class Ts{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const c of this.recaptchaEnforcementState)if(c.provider&&c.provider===u)return Mn(c.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function vr(){return(vr=(0,b.A)(function*(h){return(yield de(h,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ko(h,u){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,b.A)(function*(h,u){return de(h,"GET","/v2/recaptchaConfig",K(h,u))})).apply(this,arguments)}function Ms(){return(Ms=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function ni(){return(ni=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Lr(h,u){return yr.apply(this,arguments)}function yr(){return(yr=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function ri(h){if(h)try{const u=new Date(Number(h));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Vi(){return(Vi=(0,b.A)(function*(h,u=!1){const c=(0,V.Ku)(h),p=yield c.getIdToken(u),_=Vo(p);Q(_&&_.exp&&_.auth_time&&_.iat,c.auth,"internal-error");const w="object"==typeof _.firebase?_.firebase:void 0,D=w?.sign_in_provider;return{claims:_,token:p,authTime:ri(uo(_.auth_time)),issuedAtTime:ri(uo(_.iat)),expirationTime:ri(uo(_.exp)),signInProvider:D||null,signInSecondFactor:w?.sign_in_second_factor||null}})).apply(this,arguments)}function uo(h){return 1e3*Number(h)}function Vo(h){const[u,c,p]=h.split(".");if(void 0===u||void 0===c||void 0===p)return xt("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,V.u)(c);return _?JSON.parse(_):(xt("Failed to decode base64 JWT payload"),null)}catch(_){return xt("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Ui(h){const u=Vo(h);return Q(u,"internal-error"),Q(typeof u.exp<"u","internal-error"),Q(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function Yn(h,u){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,b.A)(function*(h,u,c=!1){if(c)return u;try{return yield u}catch(p){throw p instanceof V.g&&function Ns({code:h}){return"auth/user-disabled"===h||"auth/user-token-expired"===h}(p)&&h.auth.currentUser===h&&(yield h.auth.signOut()),p}})).apply(this,arguments)}class bl{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var c;if(u){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(c=this.user.stsTokenManager.expirationTime)&&void 0!==c?c:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(u=!1){var c=this;if(!this.isRunning)return;const p=this.getInterval(u);this.timerId=setTimeout((0,b.A)(function*(){yield c.iteration()}),p)}iteration(){var u=this;return(0,b.A)(function*(){try{yield u.user.getIdToken(!0)}catch(c){return void("auth/network-request-failed"===c?.code&&u.schedule(!0))}u.schedule()})()}}class co{constructor(u,c){this.createdAt=u,this.lastLoginAt=c,this._initializeTime()}_initializeTime(){this.lastSignInTime=ri(this.lastLoginAt),this.creationTime=ri(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rn(h){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,b.A)(function*(h){var u;const c=h.auth,p=yield h.getIdToken(),_=yield Yn(h,Lr(c,{idToken:p}));Q(_?.users.length,c,"internal-error");const w=_.users[0];h._notifyReloadListener(w);const D=null!==(u=w.providerUserInfo)&&void 0!==u&&u.length?Uo(w.providerUserInfo):[],R=function xs(h,u){return[...h.filter(p=>!u.some(_=>_.providerId===p.providerId)),...u]}(h.providerData,D),oe=!!h.isAnonymous&&!(h.email&&w.passwordHash||R?.length),ve={uid:w.localId,displayName:w.displayName||null,photoURL:w.photoUrl||null,email:w.email||null,emailVerified:w.emailVerified||!1,phoneNumber:w.phoneNumber||null,tenantId:w.tenantId||null,providerData:R,metadata:new co(w.createdAt,w.lastLoginAt),isAnonymous:oe};Object.assign(h,ve)})).apply(this,arguments)}function At(){return(At=(0,b.A)(function*(h){const u=(0,V.Ku)(h);yield Rn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function Uo(h){return h.map(u=>{var{providerId:c}=u,p=(0,vt.Tt)(u,["providerId"]);return{providerId:c,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}function S(){return(S=(0,b.A)(function*(h,u){const c=yield _n(h,{},(0,b.A)(function*(){const p=(0,V.Am)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:_,apiKey:w}=h.config,D=Ae(h,_,"/v1/token",`key=${w}`),R=yield h._getAdditionalHeaders();return R["Content-Type"]="application/x-www-form-urlencoded",G.fetch()(D,{method:"POST",headers:R,body:p})}));return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}})).apply(this,arguments)}function q(){return(q=(0,b.A)(function*(h,u){return de(h,"POST","/v2/accounts:revokeToken",K(h,u))})).apply(this,arguments)}class O{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){Q(u.idToken,"internal-error"),Q(typeof u.idToken<"u","internal-error"),Q(typeof u.refreshToken<"u","internal-error");const c="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):Ui(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,c)}updateFromIdToken(u){Q(0!==u.length,"internal-error");const c=Ui(u);this.updateTokensAndExpiration(u,null,c)}getToken(u,c=!1){var p=this;return(0,b.A)(function*(){return c||!p.accessToken||p.isExpired?(Q(p.refreshToken,u,"user-token-expired"),p.refreshToken?(yield p.refresh(u,p.refreshToken),p.accessToken):null):p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,c){var p=this;return(0,b.A)(function*(){const{accessToken:_,refreshToken:w,expiresIn:D}=yield function A(h,u){return S.apply(this,arguments)}(u,c);p.updateTokensAndExpiration(_,w,Number(D))})()}updateTokensAndExpiration(u,c,p){this.refreshToken=c||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(u,c){const{refreshToken:p,accessToken:_,expirationTime:w}=c,D=new O;return p&&(Q("string"==typeof p,"internal-error",{appName:u}),D.refreshToken=p),_&&(Q("string"==typeof _,"internal-error",{appName:u}),D.accessToken=_),w&&(Q("number"==typeof w,"internal-error",{appName:u}),D.expirationTime=w),D}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new O,this.toJSON())}_performRefresh(){return mn("not implemented")}}function he(h,u){Q("string"==typeof h||typeof h>"u","internal-error",{appName:u})}class fe{constructor(u){var{uid:c,auth:p,stsTokenManager:_}=u,w=(0,vt.Tt)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=c,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=w.displayName||null,this.email=w.email||null,this.emailVerified=w.emailVerified||!1,this.phoneNumber=w.phoneNumber||null,this.photoURL=w.photoURL||null,this.isAnonymous=w.isAnonymous||!1,this.tenantId=w.tenantId||null,this.providerData=w.providerData?[...w.providerData]:[],this.metadata=new co(w.createdAt||void 0,w.lastLoginAt||void 0)}getIdToken(u){var c=this;return(0,b.A)(function*(){const p=yield Yn(c,c.stsTokenManager.getToken(c.auth,u));return Q(p,c.auth,"internal-error"),c.accessToken!==p&&(c.accessToken=p,yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)),p})()}getIdTokenResult(u){return function Lo(h){return Vi.apply(this,arguments)}(this,u)}reload(){return function Dl(h){return At.apply(this,arguments)}(this)}_assign(u){this!==u&&(Q(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(c=>Object.assign({},c)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const c=new fe(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return c.metadata._copy(this.metadata),c}_onReload(u){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,c=!1){var p=this;return(0,b.A)(function*(){let _=!1;u.idToken&&u.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(u),_=!0),c&&(yield Rn(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var u=this;return(0,b.A)(function*(){if((0,re._isFirebaseServerApp)(u.auth.app))return Promise.reject(be(u.auth));const c=yield u.getIdToken();return yield Yn(u,function ei(h,u){return Ms.apply(this,arguments)}(u.auth,{idToken:c})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,c){var p,_,w,D,R,H,ae,oe;const ve=null!==(p=c.displayName)&&void 0!==p?p:void 0,Bt=null!==(_=c.email)&&void 0!==_?_:void 0,Yi=null!==(w=c.phoneNumber)&&void 0!==w?w:void 0,La=null!==(D=c.photoURL)&&void 0!==D?D:void 0,bi=null!==(R=c.tenantId)&&void 0!==R?R:void 0,Oc=null!==(H=c._redirectEventId)&&void 0!==H?H:void 0,Xs=null!==(ae=c.createdAt)&&void 0!==ae?ae:void 0,Qm=null!==(oe=c.lastLoginAt)&&void 0!==oe?oe:void 0,{uid:If,emailVerified:bf,isAnonymous:hw,providerData:Zm,stsTokenManager:fw}=c;Q(If&&fw,u,"internal-error");const kS=O.fromJSON(this.name,fw);Q("string"==typeof If,u,"internal-error"),he(ve,u.name),he(Bt,u.name),Q("boolean"==typeof bf,u,"internal-error"),Q("boolean"==typeof hw,u,"internal-error"),he(Yi,u.name),he(La,u.name),he(bi,u.name),he(Oc,u.name),he(Xs,u.name),he(Qm,u.name);const Xm=new fe({uid:If,auth:u,email:Bt,emailVerified:bf,displayName:ve,isAnonymous:hw,photoURL:La,phoneNumber:Yi,tenantId:bi,stsTokenManager:kS,createdAt:Xs,lastLoginAt:Qm});return Zm&&Array.isArray(Zm)&&(Xm.providerData=Zm.map(pw=>Object.assign({},pw))),Oc&&(Xm._redirectEventId=Oc),Xm}static _fromIdTokenResponse(u,c,p=!1){return(0,b.A)(function*(){const _=new O;_.updateFromServerResponse(c);const w=new fe({uid:c.localId,auth:u,stsTokenManager:_,isAnonymous:p});return yield Rn(w),w})()}static _fromGetAccountInfoResponse(u,c,p){return(0,b.A)(function*(){const _=c.users[0];Q(void 0!==_.localId,"internal-error");const w=void 0!==_.providerUserInfo?Uo(_.providerUserInfo):[],D=!(_.email&&_.passwordHash||w?.length),R=new O;R.updateFromIdToken(p);const H=new fe({uid:_.localId,auth:u,stsTokenManager:R,isAnonymous:D}),ae={uid:_.localId,displayName:_.displayName||null,photoURL:_.photoUrl||null,email:_.email||null,emailVerified:_.emailVerified||!1,phoneNumber:_.phoneNumber||null,tenantId:_.tenantId||null,providerData:w,metadata:new co(_.createdAt,_.lastLoginAt),isAnonymous:!(_.email&&_.passwordHash||w?.length)};return Object.assign(H,ae),H})()}}const xe=new Map;function Dt(h){An(h instanceof Function,"Expected a class definition");let u=xe.get(h);return u?(An(u instanceof h,"Instance stored in cache mismatched with class"),u):(u=new h,xe.set(h,u),u)}const $n=(()=>{class h{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.A)(function*(){return!0})()}_set(c,p){var _=this;return(0,b.A)(function*(){_.storage[c]=p})()}_get(c){var p=this;return(0,b.A)(function*(){const _=p.storage[c];return void 0===_?null:_})()}_remove(c){var p=this;return(0,b.A)(function*(){delete p.storage[c]})()}_addListener(c,p){}_removeListener(c,p){}}return h.type="NONE",h})();function We(h,u,c){return`firebase:${h}:${u}:${c}`}class ${constructor(u,c,p){this.persistence=u,this.auth=c,this.userKey=p;const{config:_,name:w}=this.auth;this.fullUserKey=We(this.userKey,_.apiKey,w),this.fullPersistenceKey=We("persistence",_.apiKey,w),this.boundEventHandler=c._onStorageEvent.bind(c),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,b.A)(function*(){const c=yield u.persistence._get(u.fullUserKey);return c?fe._fromJSON(u.auth,c):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var c=this;return(0,b.A)(function*(){if(c.persistence===u)return;const p=yield c.getCurrentUser();return yield c.removeCurrentUser(),c.persistence=u,p?c.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,c,p="authUser"){return(0,b.A)(function*(){if(!c.length)return new $(Dt($n),u,p);const _=(yield Promise.all(c.map(function(){var ae=(0,b.A)(function*(oe){if(yield oe._isAvailable())return oe});return function(oe){return ae.apply(this,arguments)}}()))).filter(ae=>ae);let w=_[0]||Dt($n);const D=We(p,u.config.apiKey,u.name);let R=null;for(const ae of c)try{const oe=yield ae._get(D);if(oe){const ve=fe._fromJSON(u,oe);ae!==w&&(R=ve),w=ae;break}}catch{}const H=_.filter(ae=>ae._shouldAllowMigration);return w._shouldAllowMigration&&H.length?(w=H[0],R&&(yield w._set(D,R.toJSON())),yield Promise.all(c.map(function(){var ae=(0,b.A)(function*(oe){if(oe!==w)try{yield oe._remove(D)}catch{}});return function(oe){return ae.apply(this,arguments)}}())),new $(w,u,p)):new $(w,u,p)})()}}function Cr(h){const u=h.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(dh(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(ho(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(Vr(u))return"Blackberry";if(fo(u))return"Webos";if(va(u))return"Safari";if((u.includes("chrome/")||ju(u))&&!u.includes("edge/"))return"Chrome";if(Bo(u))return"Android";{const p=h.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function ho(h=(0,V.ZQ)()){return/firefox\//i.test(h)}function va(h=(0,V.ZQ)()){const u=h.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function ju(h=(0,V.ZQ)()){return/crios\//i.test(h)}function dh(h=(0,V.ZQ)()){return/iemobile/i.test(h)}function Bo(h=(0,V.ZQ)()){return/android/i.test(h)}function Vr(h=(0,V.ZQ)()){return/blackberry/i.test(h)}function fo(h=(0,V.ZQ)()){return/webos/i.test(h)}function k(h=(0,V.ZQ)()){return/iphone|ipad|ipod/i.test(h)||/macintosh/i.test(h)&&/mobile/i.test(h)}function Te(h=(0,V.ZQ)()){return k(h)||Bo(h)||fo(h)||Vr(h)||/windows phone/i.test(h)||dh(h)}function ge(h,u=[]){let c;switch(h){case"Browser":c=Cr((0,V.ZQ)());break;case"Worker":c=`${Cr((0,V.ZQ)())}-${h}`;break;default:c=h}const p=u.length?u.join(","):"FirebaseCore-web";return`${c}/JsCore/${re.SDK_VERSION}/${p}`}class Zt{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,c){const p=w=>new Promise((D,R)=>{try{D(u(w))}catch(H){R(H)}});p.onAbort=c,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(u){var c=this;return(0,b.A)(function*(){if(c.auth.currentUser===u)return;const p=[];try{for(const _ of c.queue)yield _(u),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const w of p)try{w()}catch{}throw c.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Be(){return(Be=(0,b.A)(function*(h,u={}){return de(h,"GET","/v2/passwordPolicy",K(h,u))})).apply(this,arguments)}class dn{constructor(u){var c,p,_,w;const D=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(c=D.minPasswordLength)&&void 0!==c?c:6,D.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=D.maxPasswordLength),void 0!==D.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=D.containsLowercaseCharacter),void 0!==D.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=D.containsUppercaseCharacter),void 0!==D.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=D.containsNumericCharacter),void 0!==D.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=D.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=u.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(w=u.forceUpgradeOnSignin)&&void 0!==w&&w,this.schemaVersion=u.schemaVersion}validatePassword(u){var c,p,_,w,D,R;const H={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,H),this.validatePasswordCharacterOptions(u,H),H.isValid&&(H.isValid=null===(c=H.meetsMinPasswordLength)||void 0===c||c),H.isValid&&(H.isValid=null===(p=H.meetsMaxPasswordLength)||void 0===p||p),H.isValid&&(H.isValid=null===(_=H.containsLowercaseLetter)||void 0===_||_),H.isValid&&(H.isValid=null===(w=H.containsUppercaseLetter)||void 0===w||w),H.isValid&&(H.isValid=null===(D=H.containsNumericCharacter)||void 0===D||D),H.isValid&&(H.isValid=null===(R=H.containsNonAlphanumericCharacter)||void 0===R||R),H}validatePasswordLengthOptions(u,c){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(c.meetsMinPasswordLength=u.length>=p),_&&(c.meetsMaxPasswordLength=u.length<=_)}validatePasswordCharacterOptions(u,c){let p;this.updatePasswordCharacterOptionsStatuses(c,!1,!1,!1,!1);for(let _=0;_<u.length;_++)p=u.charAt(_),this.updatePasswordCharacterOptionsStatuses(c,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(u,c,p,_,w){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=c)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=w))}}class hh{constructor(u,c,p,_){this.app=u,this.heartbeatServiceProvider=c,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bg(this),this.idTokenSubscription=new Bg(this),this.beforeStateQueue=new Zt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(u,c){var p=this;return c&&(this._popupRedirectResolver=Dt(c)),this._initializationPromise=this.queue((0,b.A)(function*(){var _,w;if(!p._deleted&&(p.persistenceManager=yield $.create(p,u),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(c),p.lastNotifiedUid=(null===(w=p.currentUser)||void 0===w?void 0:w.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,b.A)(function*(){if(u._deleted)return;const c=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||c){if(u.currentUser&&c&&u.currentUser.uid===c.uid)return u._currentUser._assign(c),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(c,!0)}})()}initializeCurrentUserFromIdToken(u){var c=this;return(0,b.A)(function*(){try{const p=yield Lr(c,{idToken:u}),_=yield fe._fromGetAccountInfoResponse(c,p,u);yield c.directlySetCurrentUser(_)}catch(p){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",p),yield c.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var c=this;return(0,b.A)(function*(){var p;if((0,re._isFirebaseServerApp)(c.app)){const R=c.app.settings.authIdToken;return R?new Promise(H=>{setTimeout(()=>c.initializeCurrentUserFromIdToken(R).then(H,H))}):c.directlySetCurrentUser(null)}const _=yield c.assertedPersistence.getCurrentUser();let w=_,D=!1;if(u&&c.config.authDomain){yield c.getOrInitRedirectPersistenceManager();const R=null===(p=c.redirectUser)||void 0===p?void 0:p._redirectEventId,H=w?._redirectEventId,ae=yield c.tryRedirectSignIn(u);(!R||R===H)&&ae?.user&&(w=ae.user,D=!0)}if(!w)return c.directlySetCurrentUser(null);if(!w._redirectEventId){if(D)try{yield c.beforeStateQueue.runMiddleware(w)}catch(R){w=_,c._popupRedirectResolver._overrideRedirectResult(c,()=>Promise.reject(R))}return w?c.reloadAndSetCurrentUserOrClear(w):c.directlySetCurrentUser(null)}return Q(c._popupRedirectResolver,c,"argument-error"),yield c.getOrInitRedirectPersistenceManager(),c.redirectUser&&c.redirectUser._redirectEventId===w._redirectEventId?c.directlySetCurrentUser(w):c.reloadAndSetCurrentUserOrClear(w)})()}tryRedirectSignIn(u){var c=this;return(0,b.A)(function*(){let p=null;try{p=yield c._popupRedirectResolver._completeRedirectFn(c,u,!0)}catch{yield c._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(u){var c=this;return(0,b.A)(function*(){try{yield Rn(u)}catch(p){if("auth/network-request-failed"!==p?.code)return c.directlySetCurrentUser(null)}return c.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Il(){if(typeof navigator>"u")return null;const h=navigator;return h.languages&&h.languages[0]||h.language||null}()}_delete(){var u=this;return(0,b.A)(function*(){u._deleted=!0})()}updateCurrentUser(u){var c=this;return(0,b.A)(function*(){if((0,re._isFirebaseServerApp)(c.app))return Promise.reject(be(c));const p=u?(0,V.Ku)(u):null;return p&&Q(p.auth.config.apiKey===c.config.apiKey,c,"invalid-user-token"),c._updateCurrentUser(p&&p._clone(c))})()}_updateCurrentUser(u,c=!1){var p=this;return(0,b.A)(function*(){if(!p._deleted)return u&&Q(p.tenantId===u.tenantId,p,"tenant-id-mismatch"),c||(yield p.beforeStateQueue.runMiddleware(u)),p.queue((0,b.A)(function*(){yield p.directlySetCurrentUser(u),p.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,b.A)(function*(){return(0,re._isFirebaseServerApp)(u.app)?Promise.reject(be(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var c=this;return(0,re._isFirebaseServerApp)(this.app)?Promise.reject(be(this)):this.queue((0,b.A)(function*(){yield c.assertedPersistence.setPersistence(Dt(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var c=this;return(0,b.A)(function*(){c._getPasswordPolicyInternal()||(yield c._updatePasswordPolicy());const p=c._getPasswordPolicyInternal();return p.schemaVersion!==c.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(c._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,b.A)(function*(){const c=yield function Xt(h){return Be.apply(this,arguments)}(u),p=new dn(c);null===u.tenantId?u._projectPasswordPolicy=p:u._tenantPasswordPolicies[u.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new V.FA("auth","Firebase",u())}onAuthStateChanged(u,c,p){return this.registerStateListener(this.authStateSubscription,u,c,p)}beforeAuthStateChanged(u,c){return this.beforeStateQueue.pushCallback(u,c)}onIdTokenChanged(u,c,p){return this.registerStateListener(this.idTokenSubscription,u,c,p)}authStateReady(){return new Promise((u,c)=>{if(this.currentUser)u();else{const p=this.onAuthStateChanged(()=>{p(),u()},c)}})}revokeAccessToken(u){var c=this;return(0,b.A)(function*(){if(c.currentUser){const p=yield c.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:p};null!=c.tenantId&&(_.tenantId=c.tenantId),yield function N(h,u){return q.apply(this,arguments)}(c,_)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,c){var p=this;return(0,b.A)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(c);return null===u?_.removeCurrentUser():_.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var c=this;return(0,b.A)(function*(){if(!c.redirectPersistenceManager){const p=u&&Dt(u)||c._popupRedirectResolver;Q(p,c,"argument-error"),c.redirectPersistenceManager=yield $.create(c,[Dt(p._redirectPersistence)],"redirectUser"),c.redirectUser=yield c.redirectPersistenceManager.getCurrentUser()}return c.redirectPersistenceManager})()}_redirectUserForId(u){var c=this;return(0,b.A)(function*(){var p,_;return c._isInitialized&&(yield c.queue((0,b.A)(function*(){}))),(null===(p=c._currentUser)||void 0===p?void 0:p._redirectEventId)===u?c._currentUser:(null===(_=c.redirectUser)||void 0===_?void 0:_._redirectEventId)===u?c.redirectUser:null})()}_persistUserIfCurrent(u){var c=this;return(0,b.A)(function*(){if(u===c.currentUser)return c.queue((0,b.A)(function*(){return c.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,c;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(c=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==c?c:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,c,p,_){if(this._deleted)return()=>{};const w="function"==typeof c?c:c.next.bind(c);let D=!1;const R=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(R,this,"internal-error"),R.then(()=>{D||w(this.currentUser)}),"function"==typeof c){const H=u.addObserver(c,p,_);return()=>{D=!0,H()}}{const H=u.addObserver(c);return()=>{D=!0,H()}}}directlySetCurrentUser(u){var c=this;return(0,b.A)(function*(){c.currentUser&&c.currentUser!==u&&c._currentUser._stopProactiveRefresh(),u&&c.isProactiveRefreshEnabled&&u._startProactiveRefresh(),c.currentUser=u,u?yield c.assertedPersistence.setCurrentUser(u):yield c.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=ge(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,b.A)(function*(){var c;const p={"X-Client-Version":u.clientVersion};u.app.options.appId&&(p["X-Firebase-gmpid"]=u.app.options.appId);const _=yield null===(c=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const w=yield u._getAppCheckToken();return w&&(p["X-Firebase-AppCheck"]=w),p})()}_getAppCheckToken(){var u=this;return(0,b.A)(function*(){var c;const p=yield null===(c=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getToken();return p?.error&&function Hn(h,...u){Tn.logLevel<=Yt.$b.WARN&&Tn.warn(`Auth (${re.SDK_VERSION}): ${h}`,...u)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function Vt(h){return(0,V.Ku)(h)}class Bg{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,V.tD)(c=>this.observer=c)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gt={loadJS:()=>(0,b.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ya(h){return gt.loadJS(h)}function oC(h){return`__${h}${Math.floor(1e6*Math.random())}`}class sC{constructor(u){this.type="recaptcha-enterprise",this.auth=Vt(u)}verify(u="verify",c=!1){var p=this;return(0,b.A)(function*(){function w(){return w=(0,b.A)(function*(R){if(!c){if(null==R.tenantId&&null!=R._agentRecaptchaConfig)return R._agentRecaptchaConfig.siteKey;if(null!=R.tenantId&&void 0!==R._tenantRecaptchaConfigs[R.tenantId])return R._tenantRecaptchaConfigs[R.tenantId].siteKey}return new Promise(function(){var H=(0,b.A)(function*(ae,oe){ko(R,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ve=>{if(void 0!==ve.recaptchaKey){const Bt=new Ts(ve);return null==R.tenantId?R._agentRecaptchaConfig=Bt:R._tenantRecaptchaConfigs[R.tenantId]=Bt,ae(Bt.siteKey)}oe(new Error("recaptcha Enterprise site key undefined"))}).catch(ve=>{oe(ve)})});return function(ae,oe){return H.apply(this,arguments)}}())}),w.apply(this,arguments)}function D(R,H,ae){const oe=window.grecaptcha;Fr(oe)?oe.enterprise.ready(()=>{oe.enterprise.execute(R,{action:u}).then(ve=>{H(ve)}).catch(()=>{H("NO_RECAPTCHA")})}):ae(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((R,H)=>{(function _(R){return w.apply(this,arguments)})(p.auth).then(ae=>{if(!c&&Fr(window.grecaptcha))D(ae,R,H);else{if(typeof window>"u")return void H(new Error("RecaptchaVerifier is only supported in browser"));let oe=function dS(){return gt.recaptchaEnterpriseScript}();0!==oe.length&&(oe+=ae),ya(oe).then(()=>{D(ae,R,H)}).catch(ve=>{H(ve)})}}).catch(ae=>{H(ae)})})})()}}function aC(h,u,c){return jg.apply(this,arguments)}function jg(){return(jg=(0,b.A)(function*(h,u,c,p=!1){const _=new sC(h);let w;try{w=yield _.verify(c)}catch{w=yield _.verify(c,!0)}const D=Object.assign({},u);return Object.assign(D,p?{captchaResp:w}:{captchaResponse:w}),Object.assign(D,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(D,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),D})).apply(this,arguments)}function Sl(h,u,c,p){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,b.A)(function*(h,u,c,p){var _;if(null!==(_=h._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const w=yield aC(h,u,c,"getOobCode"===c);return p(h,w)}return p(h,u).catch(function(){var w=(0,b.A)(function*(D){if("auth/missing-recaptcha-token"===D.code){console.log(`${c} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const R=yield aC(h,u,c,"getOobCode"===c);return p(h,R)}return Promise.reject(D)});return function(D){return w.apply(this,arguments)}}())}),Hg.apply(this,arguments)}function cC(h){const u=h.indexOf(":");return u<0?"":h.substr(0,u+1)}function dC(h){if(!h)return null;const u=Number(h);return isNaN(u)?null:u}class _e{constructor(u,c){this.providerId=u,this.signInMethod=c}toJSON(){return mn("not implemented")}_getIdTokenResponse(u){return mn("not implemented")}_linkToIdToken(u,c){return mn("not implemented")}_getReauthenticationResolver(u){return mn("not implemented")}}function hC(h,u){return wr.apply(this,arguments)}function wr(){return(wr=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:resetPassword",K(h,u))})).apply(this,arguments)}function fh(){return(fh=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function zg(h,u){return ph.apply(this,arguments)}function ph(){return(ph=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Ca(){return(Ca=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:update",K(h,u))})).apply(this,arguments)}function gh(h,u){return zu.apply(this,arguments)}function zu(){return(zu=(0,b.A)(function*(h,u){return Ze(h,"POST","/v1/accounts:signInWithPassword",K(h,u))})).apply(this,arguments)}function Wu(h,u){return ue.apply(this,arguments)}function ue(){return(ue=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:sendOobCode",K(h,u))})).apply(this,arguments)}function Tl(){return(Tl=(0,b.A)(function*(h,u){return Wu(h,u)})).apply(this,arguments)}function Wg(h,u){return Al.apply(this,arguments)}function Al(){return(Al=(0,b.A)(function*(h,u){return Wu(h,u)})).apply(this,arguments)}function fC(h,u){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,b.A)(function*(h,u){return Wu(h,u)})).apply(this,arguments)}function Gg(){return(Gg=(0,b.A)(function*(h,u){return Wu(h,u)})).apply(this,arguments)}function qg(){return(qg=(0,b.A)(function*(h,u){return Ze(h,"POST","/v1/accounts:signInWithEmailLink",K(h,u))})).apply(this,arguments)}function Ps(){return(Ps=(0,b.A)(function*(h,u){return Ze(h,"POST","/v1/accounts:signInWithEmailLink",K(h,u))})).apply(this,arguments)}class ks extends _e{constructor(u,c,p,_=null){super("password",p),this._email=u,this._password=c,this._tenantId=_}static _fromEmailAndPassword(u,c){return new ks(u,c,"password")}static _fromEmailAndCode(u,c,p=null){return new ks(u,c,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u;if(c?.email&&c?.password){if("password"===c.signInMethod)return this._fromEmailAndPassword(c.email,c.password);if("emailLink"===c.signInMethod)return this._fromEmailAndCode(c.email,c.password,c.tenantId)}return null}_getIdTokenResponse(u){var c=this;return(0,b.A)(function*(){switch(c.signInMethod){case"password":return Sl(u,{returnSecureToken:!0,email:c._email,password:c._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",gh);case"emailLink":return function mS(h,u){return qg.apply(this,arguments)}(u,{email:c._email,oobCode:c._password});default:pt(u,"internal-error")}})()}_linkToIdToken(u,c){var p=this;return(0,b.A)(function*(){switch(p.signInMethod){case"password":return Sl(u,{idToken:c,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zg);case"emailLink":return function _h(h,u){return Ps.apply(this,arguments)}(u,{idToken:c,email:p._email,oobCode:p._password});default:pt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function vi(h,u){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,b.A)(function*(h,u){return Ze(h,"POST","/v1/accounts:signInWithIdp",K(h,u))})).apply(this,arguments)}class Er extends _e{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const c=new Er(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(c.idToken=u.idToken),u.accessToken&&(c.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(c.nonce=u.nonce),u.pendingToken&&(c.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(c.accessToken=u.oauthToken,c.secret=u.oauthTokenSecret):pt("argument-error"),c}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u,{providerId:p,signInMethod:_}=c,w=(0,vt.Tt)(c,["providerId","signInMethod"]);if(!p||!_)return null;const D=new Er(p,_);return D.idToken=w.idToken||void 0,D.accessToken=w.accessToken||void 0,D.secret=w.secret,D.nonce=w.nonce,D.pendingToken=w.pendingToken||null,D}_getIdTokenResponse(u){return vi(u,this.buildRequest())}_linkToIdToken(u,c){const p=this.buildRequest();return p.idToken=c,vi(u,p)}_getReauthenticationResolver(u){const c=this.buildRequest();return c.autoCreate=!1,vi(u,c)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const c={};this.idToken&&(c.id_token=this.idToken),this.accessToken&&(c.access_token=this.accessToken),this.secret&&(c.oauth_token_secret=this.secret),c.providerId=this.providerId,this.nonce&&!this.pendingToken&&(c.nonce=this.nonce),u.postBody=(0,V.Am)(c)}return u}}function Fe(){return(Fe=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:sendVerificationCode",K(h,u))})).apply(this,arguments)}function Yg(){return(Yg=(0,b.A)(function*(h,u){return Ze(h,"POST","/v1/accounts:signInWithPhoneNumber",K(h,u))})).apply(this,arguments)}function vh(){return(vh=(0,b.A)(function*(h,u){const c=yield Ze(h,"POST","/v1/accounts:signInWithPhoneNumber",K(h,u));if(c.temporaryProof)throw cn(h,"account-exists-with-different-credential",c);return c})).apply(this,arguments)}const _S={USER_NOT_FOUND:"user-not-found"};function Nl(){return(Nl=(0,b.A)(function*(h,u){return Ze(h,"POST","/v1/accounts:signInWithPhoneNumber",K(h,Object.assign(Object.assign({},u),{operation:"REAUTH"})),_S)})).apply(this,arguments)}class je extends _e{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,c){return new je({verificationId:u,verificationCode:c})}static _fromTokenResponse(u,c){return new je({phoneNumber:u,temporaryProof:c})}_getIdTokenResponse(u){return function ct(h,u){return Yg.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,c){return function pC(h,u){return vh.apply(this,arguments)}(u,Object.assign({idToken:c},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function gC(h,u){return Nl.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:c,verificationId:p,verificationCode:_}=this.params;return u&&c?{temporaryProof:u,phoneNumber:c}:{sessionInfo:p,code:_}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:c,verificationCode:p,phoneNumber:_,temporaryProof:w}=u;return p||c||_||w?new je({verificationId:c,verificationCode:p,phoneNumber:_,temporaryProof:w}):null}}class xn{constructor(u){var c,p,_,w,D,R;const H=(0,V.I9)((0,V.hp)(u)),ae=null!==(c=H.apiKey)&&void 0!==c?c:null,oe=null!==(p=H.oobCode)&&void 0!==p?p:null,ve=function yh(h){switch(h){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=H.mode)&&void 0!==_?_:null);Q(ae&&oe&&ve,"argument-error"),this.apiKey=ae,this.operation=ve,this.code=oe,this.continueUrl=null!==(w=H.continueUrl)&&void 0!==w?w:null,this.languageCode=null!==(D=H.languageCode)&&void 0!==D?D:null,this.tenantId=null!==(R=H.tenantId)&&void 0!==R?R:null}static parseLink(u){const c=function Qg(h){const u=(0,V.I9)((0,V.hp)(h)).link,c=u?(0,V.I9)((0,V.hp)(u)).deep_link_id:null,p=(0,V.I9)((0,V.hp)(h)).deep_link_id;return(p?(0,V.I9)((0,V.hp)(p)).link:null)||p||c||u||h}(u);try{return new xn(c)}catch{return null}}}let Zg=(()=>{class h{constructor(){this.providerId=h.PROVIDER_ID}static credential(c,p){return ks._fromEmailAndPassword(c,p)}static credentialWithLink(c,p){const _=xn.parseLink(p);return Q(_,"argument-error"),ks._fromEmailAndCode(c,_.code,_.tenantId)}}return h.PROVIDER_ID="password",h.EMAIL_PASSWORD_SIGN_IN_METHOD="password",h.EMAIL_LINK_SIGN_IN_METHOD="emailLink",h})();class Ho{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Bi extends Ho{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class $o extends Bi{static credentialFromJSON(u){const c="string"==typeof u?JSON.parse(u):u;return Q("providerId"in c&&"signInMethod"in c,"argument-error"),Er._fromParams(c)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return Q(u.idToken||u.accessToken,"argument-error"),Er._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return $o.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return $o.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:c,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:w,nonce:D,providerId:R}=u;if(!p&&!_&&!c&&!w||!R)return null;try{return new $o(R)._credential({idToken:c,accessToken:p,nonce:D,pendingToken:w})}catch{return null}}}let Rl=(()=>{class h extends Bi{constructor(){super("facebook.com")}static credential(c){return Er._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.FACEBOOK_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return h.credential(c.oauthAccessToken)}catch{return null}}}return h.FACEBOOK_SIGN_IN_METHOD="facebook.com",h.PROVIDER_ID="facebook.com",h})(),Xg=(()=>{class h extends Bi{constructor(){super("google.com"),this.addScope("profile")}static credential(c,p){return Er._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GOOGLE_SIGN_IN_METHOD,idToken:c,accessToken:p})}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:p,oauthAccessToken:_}=c;if(!p&&!_)return null;try{return h.credential(p,_)}catch{return null}}}return h.GOOGLE_SIGN_IN_METHOD="google.com",h.PROVIDER_ID="google.com",h})(),Jg=(()=>{class h extends Bi{constructor(){super("github.com")}static credential(c){return Er._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GITHUB_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return h.credential(c.oauthAccessToken)}catch{return null}}}return h.GITHUB_SIGN_IN_METHOD="github.com",h.PROVIDER_ID="github.com",h})();class Fs extends _e{constructor(u,c){super(u,u),this.pendingToken=c}_getIdTokenResponse(u){return vi(u,this.buildRequest())}_linkToIdToken(u,c){const p=this.buildRequest();return p.idToken=c,vi(u,p)}_getReauthenticationResolver(u){const c=this.buildRequest();return c.autoCreate=!1,vi(u,c)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u,{providerId:p,signInMethod:_,pendingToken:w}=c;return p&&_&&w&&p===_?new Fs(p,w):null}static _create(u,c){return new Fs(u,c)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class qu extends Ho{constructor(u){Q(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return qu.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return qu.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const c=Fs.fromJSON(u);return Q(c,"argument-error"),c}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:c,providerId:p}=u;if(!c||!p)return null;try{return Fs._create(p,c)}catch{return null}}}let go=(()=>{class h extends Bi{constructor(){super("twitter.com")}static credential(c,p){return Er._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.TWITTER_SIGN_IN_METHOD,oauthToken:c,oauthTokenSecret:p})}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=c;if(!p||!_)return null;try{return h.credential(p,_)}catch{return null}}}return h.TWITTER_SIGN_IN_METHOD="twitter.com",h.PROVIDER_ID="twitter.com",h})();function em(h,u){return le.apply(this,arguments)}function le(){return(le=(0,b.A)(function*(h,u){return Ze(h,"POST","/v1/accounts:signUp",K(h,u))})).apply(this,arguments)}class jr{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,c,p,_=!1){return(0,b.A)(function*(){const w=yield fe._fromIdTokenResponse(u,p,_),D=X(p);return new jr({user:w,providerId:D,_tokenResponse:p,operationType:c})})()}static _forOperation(u,c,p){return(0,b.A)(function*(){yield u._updateTokensIfNecessary(p,!0);const _=X(p);return new jr({user:u,providerId:_,_tokenResponse:p,operationType:c})})()}}function X(h){return h.providerId?h.providerId:"phoneNumber"in h?"phone":null}function xl(){return(xl=(0,b.A)(function*(h){var u;if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(be(h));const c=Vt(h);if(yield c._initializationPromise,null!==(u=c.currentUser)&&void 0!==u&&u.isAnonymous)return new jr({user:c.currentUser,providerId:null,operationType:"signIn"});const p=yield em(c,{returnSecureToken:!0}),_=yield jr._fromIdTokenResponse(c,"signIn",p,!0);return yield c._updateCurrentUser(_.user),_})).apply(this,arguments)}class zo extends V.g{constructor(u,c,p,_){var w;super(c.code,c.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,zo.prototype),this.customData={appName:u.name,tenantId:null!==(w=u.tenantId)&&void 0!==w?w:void 0,_serverResponse:c.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(u,c,p,_){return new zo(u,c,p,_)}}function tm(h,u,c,p){return("reauthenticate"===u?c._getReauthenticationResolver(h):c._getIdTokenResponse(h)).catch(w=>{throw"auth/multi-factor-auth-required"===w.code?zo._fromErrorAndOperation(h,w,u,p):w})}function nm(h){return new Set(h.map(({providerId:u})=>u).filter(u=>!!u))}function Ch(){return Ch=(0,b.A)(function*(h,u){const c=(0,V.Ku)(h);yield Vs(!0,c,u);const{providerUserInfo:p}=yield function ti(h,u){return ni.apply(this,arguments)}(c.auth,{idToken:yield c.getIdToken(),deleteProvider:[u]}),_=nm(p||[]);return c.providerData=c.providerData.filter(w=>_.has(w.providerId)),_.has("phone")||(c.phoneNumber=null),yield c.auth._persistUserIfCurrent(c),c}),Ch.apply(this,arguments)}function Ls(h,u){return wh.apply(this,arguments)}function wh(){return(wh=(0,b.A)(function*(h,u,c=!1){const p=yield Yn(h,u._linkToIdToken(h.auth,yield h.getIdToken()),c);return jr._forOperation(h,"link",p)})).apply(this,arguments)}function Vs(h,u,c){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,b.A)(function*(h,u,c){yield Rn(u);const _=!1===h?"provider-already-linked":"no-such-provider";Q(nm(u.providerData).has(c)===h,u.auth,_)})).apply(this,arguments)}function Wo(h,u){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,b.A)(function*(h,u,c=!1){const{auth:p}=h;if((0,re._isFirebaseServerApp)(p.app))return Promise.reject(be(p));const _="reauthenticate";try{const w=yield Yn(h,tm(p,_,u,h),c);Q(w.idToken,p,"internal-error");const D=Vo(w.idToken);Q(D,p,"internal-error");const{sub:R}=D;return Q(h.uid===R,p,"user-mismatch"),jr._forOperation(h,_,w)}catch(w){throw"auth/user-not-found"===w?.code&&pt(p,"user-mismatch"),w}})).apply(this,arguments)}function cr(h,u){return Go.apply(this,arguments)}function Go(){return(Go=(0,b.A)(function*(h,u,c=!1){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(be(h));const p="signIn",_=yield tm(h,p,u),w=yield jr._fromIdTokenResponse(h,p,_);return c||(yield h._updateCurrentUser(w.user)),w})).apply(this,arguments)}function Ol(h,u){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,b.A)(function*(h,u){return cr(Vt(h),u)})).apply(this,arguments)}function Pl(h,u){return kl.apply(this,arguments)}function kl(){return(kl=(0,b.A)(function*(h,u){const c=(0,V.Ku)(h);return yield Vs(!1,c,u.providerId),Ls(c,u)})).apply(this,arguments)}function yC(h,u){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,b.A)(function*(h,u){return Wo((0,V.Ku)(h),u)})).apply(this,arguments)}function dr(){return(dr=(0,b.A)(function*(h,u){return Ze(h,"POST","/v1/accounts:signInWithCustomToken",K(h,u))})).apply(this,arguments)}function qo(){return qo=(0,b.A)(function*(h,u){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(be(h));const c=Vt(h),p=yield function vS(h,u){return dr.apply(this,arguments)}(c,{token:u,returnSecureToken:!0}),_=yield jr._fromIdTokenResponse(c,"signIn",p);return yield c._updateCurrentUser(_.user),_}),qo.apply(this,arguments)}class Qu{constructor(u,c){this.factorId=u,this.uid=c.mfaEnrollmentId,this.enrollmentTime=new Date(c.enrolledAt).toUTCString(),this.displayName=c.displayName}static _fromServerResponse(u,c){return"phoneInfo"in c?Zu._fromServerResponse(u,c):"totpInfo"in c?ii._fromServerResponse(u,c):pt(u,"internal-error")}}class Zu extends Qu{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,c){return new Zu(c)}}class ii extends Qu{constructor(u){super("totp",u)}static _fromServerResponse(u,c){return new ii(c)}}function rt(h,u,c){var p;Q((null===(p=c.url)||void 0===p?void 0:p.length)>0,h,"invalid-continue-uri"),Q(typeof c.dynamicLinkDomain>"u"||c.dynamicLinkDomain.length>0,h,"invalid-dynamic-link-domain"),u.continueUrl=c.url,u.dynamicLinkDomain=c.dynamicLinkDomain,u.canHandleCodeInApp=c.handleCodeInApp,c.iOS&&(Q(c.iOS.bundleId.length>0,h,"missing-ios-bundle-id"),u.iOSBundleId=c.iOS.bundleId),c.android&&(Q(c.android.packageName.length>0,h,"missing-android-pkg-name"),u.androidInstallApp=c.android.installApp,u.androidMinimumVersionCode=c.android.minimumVersion,u.androidPackageName=c.android.packageName)}function mo(h){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,b.A)(function*(h){const u=Vt(h);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Ia(){return(Ia=(0,b.A)(function*(h,u,c){const p=Vt(h),_={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};c&&rt(p,_,c),yield Sl(p,_,"getOobCode",Wg)})).apply(this,arguments)}function Hr(){return Hr=(0,b.A)(function*(h,u,c){yield hC((0,V.Ku)(h),{oobCode:u,newPassword:c}).catch(function(){var p=(0,b.A)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&mo(h),_});return function(_){return p.apply(this,arguments)}}())}),Hr.apply(this,arguments)}function Sh(){return Sh=(0,b.A)(function*(h,u){yield function $u(h,u){return Ca.apply(this,arguments)}((0,V.Ku)(h),{oobCode:u})}),Sh.apply(this,arguments)}function ec(h,u){return tc.apply(this,arguments)}function tc(){return(tc=(0,b.A)(function*(h,u){const c=(0,V.Ku)(h),p=yield hC(c,{oobCode:u}),_=p.requestType;switch(Q(_,c,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(p.newEmail,c,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(p.mfaInfo,c,"internal-error");default:Q(p.email,c,"internal-error")}let w=null;return p.mfaInfo&&(w=Qu._fromServerResponse(Vt(c),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:w},operation:_}})).apply(this,arguments)}function Us(){return(Us=(0,b.A)(function*(h,u){const{data:c}=yield ec((0,V.Ku)(h),u);return c.email})).apply(this,arguments)}function nc(){return(nc=(0,b.A)(function*(h,u,c){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(be(h));const p=Vt(h),D=yield Sl(p,{returnSecureToken:!0,email:u,password:c,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",em).catch(H=>{throw"auth/password-does-not-meet-requirements"===H.code&&mo(h),H}),R=yield jr._fromIdTokenResponse(p,"signIn",D);return yield p._updateCurrentUser(R.user),R})).apply(this,arguments)}function Ah(){return(Ah=(0,b.A)(function*(h,u,c){const p=Vt(h),_={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function w(D,R){Q(R.handleCodeInApp,p,"argument-error"),R&&rt(p,D,R)})(_,c),yield Sl(p,_,"getOobCode",fC)})).apply(this,arguments)}function Mh(){return(Mh=(0,b.A)(function*(h,u,c){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(be(h));const p=(0,V.Ku)(h),_=Zg.credentialWithLink(u,c||kr());return Q(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),Ol(p,_)})).apply(this,arguments)}function Nh(){return(Nh=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:createAuthUri",K(h,u))})).apply(this,arguments)}function Rh(){return Rh=(0,b.A)(function*(h,u){const p={identifier:u,continueUri:Li()?kr():"http://localhost"},{signinMethods:_}=yield function om(h,u){return Nh.apply(this,arguments)}((0,V.Ku)(h),p);return _||[]}),Rh.apply(this,arguments)}function rc(){return rc=(0,b.A)(function*(h,u){const c=(0,V.Ku)(h),_={requestType:"VERIFY_EMAIL",idToken:yield h.getIdToken()};u&&rt(c.auth,_,u);const{email:w}=yield function mh(h,u){return Tl.apply(this,arguments)}(c.auth,_);w!==h.email&&(yield h.reload())}),rc.apply(this,arguments)}function xh(){return xh=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h),w={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield h.getIdToken(),newEmail:u};c&&rt(p.auth,w,c);const{email:D}=yield function gS(h,u){return Gg.apply(this,arguments)}(p.auth,w);D!==h.email&&(yield h.reload())}),xh.apply(this,arguments)}function ji(){return(ji=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Oh(){return Oh=(0,b.A)(function*(h,{displayName:u,photoURL:c}){if(void 0===u&&void 0===c)return;const p=(0,V.Ku)(h),w={idToken:yield p.getIdToken(),displayName:u,photoUrl:c,returnSecureToken:!0},D=yield Yn(p,function DC(h,u){return ji.apply(this,arguments)}(p.auth,w));p.displayName=D.displayName||null,p.photoURL=D.photoUrl||null;const R=p.providerData.find(({providerId:H})=>"password"===H);R&&(R.displayName=p.displayName,R.photoURL=p.photoURL),yield p._updateTokensIfNecessary(D)}),Oh.apply(this,arguments)}function Oe(h,u,c){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,b.A)(function*(h,u,c){const{auth:p}=h,w={idToken:yield h.getIdToken(),returnSecureToken:!0};u&&(w.email=u),c&&(w.password=c);const D=yield Yn(h,function Hu(h,u){return fh.apply(this,arguments)}(p,w));yield h._updateTokensIfNecessary(D,!0)}),Qn.apply(this,arguments)}class Ut{constructor(u,c,p={}){this.isNewUser=u,this.providerId=c,this.profile=p}}class On extends Ut{constructor(u,c,p,_){super(u,c,p),this.username=_}}class Ko extends Ut{constructor(u,c){super(u,"facebook.com",c)}}class Zn extends On{constructor(u,c){super(u,"github.com",c,"string"==typeof c?.login?c?.login:null)}}class am extends Ut{constructor(u,c){super(u,"google.com",c)}}class lm extends On{constructor(u,c,p){super(u,"twitter.com",c,p)}}function ic(h){const{user:u,_tokenResponse:c}=h;return u.isAnonymous&&!c?{providerId:null,isNewUser:!1,profile:null}:function qe(h){var u,c;if(!h)return null;const{providerId:p}=h,_=h.rawUserInfo?JSON.parse(h.rawUserInfo):{},w=h.isNewUser||"identitytoolkit#SignupNewUserResponse"===h.kind;if(!p&&h?.idToken){const D=null===(c=null===(u=Vo(h.idToken))||void 0===u?void 0:u.firebase)||void 0===c?void 0:c.sign_in_provider;if(D)return new Ut(w,"anonymous"!==D&&"custom"!==D?D:null)}if(!p)return null;switch(p){case"facebook.com":return new Ko(w,_);case"github.com":return new Zn(w,_);case"google.com":return new am(w,_);case"twitter.com":return new lm(w,_,h.screenName||null);case"custom":case"anonymous":return new Ut(w,null);default:return new Ut(w,p,_)}}(c)}class $r{constructor(u,c,p){this.type=u,this.credential=c,this.user=p}static _fromIdtoken(u,c){return new $r("enroll",u,c)}static _fromMfaPendingCredential(u){return new $r("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var c,p;if(u?.multiFactorSession){if(null!==(c=u.multiFactorSession)&&void 0!==c&&c.pendingCredential)return $r._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(p=u.multiFactorSession)&&void 0!==p&&p.idToken)return $r._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Vh{constructor(u,c,p){this.session=u,this.hints=c,this.signInResolver=p}static _fromError(u,c){const p=Vt(u),_=c.customData._serverResponse,w=(_.mfaInfo||[]).map(R=>Qu._fromServerResponse(p,R));Q(_.mfaPendingCredential,p,"internal-error");const D=$r._fromMfaPendingCredential(_.mfaPendingCredential);return new Vh(D,w,function(){var R=(0,b.A)(function*(H){const ae=yield H._process(p,D);delete _.mfaInfo,delete _.mfaPendingCredential;const oe=Object.assign(Object.assign({},_),{idToken:ae.idToken,refreshToken:ae.refreshToken});switch(c.operationType){case"signIn":const ve=yield jr._fromIdTokenResponse(p,c.operationType,oe);return yield p._updateCurrentUser(ve.user),ve;case"reauthenticate":return Q(c.user,p,"internal-error"),jr._forOperation(c.user,c.operationType,oe);default:pt(p,"internal-error")}});return function(H){return R.apply(this,arguments)}}())}resolveSignIn(u){var c=this;return(0,b.A)(function*(){return c.signInResolver(u)})()}}class Yo{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(c=>{c.mfaInfo&&(this.enrolledFactors=c.mfaInfo.map(p=>Qu._fromServerResponse(u.auth,p)))})}static _fromUser(u){return new Yo(u)}getSession(){var u=this;return(0,b.A)(function*(){return $r._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,c){var p=this;return(0,b.A)(function*(){const _=u,w=yield p.getSession(),D=yield Yn(p.user,_._process(p.user.auth,w,c));return yield p.user._updateTokensIfNecessary(D),p.user.reload()})()}unenroll(u){var c=this;return(0,b.A)(function*(){const p="string"==typeof u?u:u.uid,_=yield c.user.getIdToken();try{const w=yield Yn(c.user,function zr(h,u){return de(h,"POST","/v2/accounts/mfaEnrollment:withdraw",K(h,u))}(c.user.auth,{idToken:_,mfaEnrollmentId:p}));c.enrolledFactors=c.enrolledFactors.filter(({uid:D})=>D!==p),yield c.user._updateTokensIfNecessary(w),yield c.user.reload()}catch(w){throw w}})()}}const Fl=new WeakMap,lc="__sak";class Bh{constructor(u,c){this.storageRetriever=u,this.type=c}_isAvailable(){try{return this.storage?(this.storage.setItem(lc,"1"),this.storage.removeItem(lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,c){return this.storage.setItem(u,JSON.stringify(c)),Promise.resolve()}_get(u){const c=this.storage.getItem(u);return Promise.resolve(c?JSON.parse(c):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Da=(()=>{class h extends Bh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(c,p)=>this.onStorageEvent(c,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ba(){const h=(0,V.ZQ)();return va(h)||k(h)}()&&function Ue(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Te(),this._shouldAllowMigration=!0}forAllChangedKeys(c){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),w=this.localCache[p];_!==w&&c(p,w,_)}}onStorageEvent(c,p=!1){if(!c.key)return void this.forAllChangedKeys((R,H,ae)=>{this.notifyListeners(R,ae)});const _=c.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const R=this.storage.getItem(_);if(c.newValue!==R)null!==c.newValue?this.storage.setItem(_,c.newValue):this.storage.removeItem(_);else if(this.localCache[_]===c.newValue&&!p)return}const w=()=>{const R=this.storage.getItem(_);!p&&this.localCache[_]===R||this.notifyListeners(_,R)},D=this.storage.getItem(_);!function ce(){return(0,V.lT)()&&10===document.documentMode}()||D===c.newValue||c.newValue===c.oldValue?w():setTimeout(w,10)}notifyListeners(c,p){this.localCache[c]=p;const _=this.listeners[c];if(_)for(const w of Array.from(_))w(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((c,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:c,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(c,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[c]||(this.listeners[c]=new Set,this.localCache[c]=this.storage.getItem(c)),this.listeners[c].add(p)}_removeListener(c,p){this.listeners[c]&&(this.listeners[c].delete(p),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(c,p){var _=()=>super._set,w=this;return(0,b.A)(function*(){yield _().call(w,c,p),w.localCache[c]=JSON.stringify(p)})()}_get(c){var p=()=>super._get,_=this;return(0,b.A)(function*(){const w=yield p().call(_,c);return _.localCache[c]=JSON.stringify(w),w})()}_remove(c){var p=()=>super._remove,_=this;return(0,b.A)(function*(){yield p().call(_,c),delete _.localCache[c]})()}}return h.type="LOCAL",h})(),_o=(()=>{class h extends Bh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(c,p){}_removeListener(c,p){}}return h.type="SESSION",h})();let Sa=(()=>{class h{constructor(c){this.eventTarget=c,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(c){const p=this.receivers.find(w=>w.isListeningto(c));if(p)return p;const _=new h(c);return this.receivers.push(_),_}isListeningto(c){return this.eventTarget===c}handleEvent(c){var p=this;return(0,b.A)(function*(){const _=c,{eventId:w,eventType:D,data:R}=_.data,H=p.handlersMap[D];if(!H?.size)return;_.ports[0].postMessage({status:"ack",eventId:w,eventType:D});const ae=Array.from(H).map(function(){var ve=(0,b.A)(function*(Bt){return Bt(_.origin,R)});return function(Bt){return ve.apply(this,arguments)}}()),oe=yield function uc(h){return Promise.all(h.map(function(){var u=(0,b.A)(function*(c){try{return{fulfilled:!0,value:yield c}}catch(p){return{fulfilled:!1,reason:p}}});return function(c){return u.apply(this,arguments)}}()))}(ae);_.ports[0].postMessage({status:"done",eventId:w,eventType:D,response:oe})})()}_subscribe(c,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[c]||(this.handlersMap[c]=new Set),this.handlersMap[c].add(p)}_unsubscribe(c,p){this.handlersMap[c]&&p&&this.handlersMap[c].delete(p),(!p||0===this.handlersMap[c].size)&&delete this.handlersMap[c],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return h.receivers=[],h})();function Ll(h="",u=10){let c="";for(let p=0;p<u;p++)c+=Math.floor(10*Math.random());return h+c}class xC{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,c,p=50){var _=this;return(0,b.A)(function*(){const w=typeof MessageChannel<"u"?new MessageChannel:null;if(!w)throw new Error("connection_unavailable");let D,R;return new Promise((H,ae)=>{const oe=Ll("",20);w.port1.start();const ve=setTimeout(()=>{ae(new Error("unsupported_event"))},p);R={messageChannel:w,onMessage(Bt){const Yi=Bt;if(Yi.data.eventId===oe)switch(Yi.data.status){case"ack":clearTimeout(ve),D=setTimeout(()=>{ae(new Error("timeout"))},3e3);break;case"done":clearTimeout(D),H(Yi.data.response);break;default:clearTimeout(ve),clearTimeout(D),ae(new Error("invalid_response"))}}},_.handlers.add(R),w.port1.addEventListener("message",R.onMessage),_.target.postMessage({eventType:u,eventId:oe,data:c},[w.port2])}).finally(()=>{R&&_.removeMessageHandler(R)})})()}}function Xe(){return window}function jh(){return typeof Xe().WorkerGlobalScope<"u"&&"function"==typeof Xe().importScripts}function Hh(){return(Hh=(0,b.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const pm="firebaseLocalStorageDb",cc="firebaseLocalStorage",dc="fbase_key";class Zo{constructor(u){this.request=u}toPromise(){return new Promise((u,c)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{c(this.request.error)})})}}function St(h,u){return h.transaction([cc],u?"readwrite":"readonly").objectStore(cc)}function Ee(){const h=indexedDB.open(pm,1);return new Promise((u,c)=>{h.addEventListener("error",()=>{c(h.error)}),h.addEventListener("upgradeneeded",()=>{const p=h.result;try{p.createObjectStore(cc,{keyPath:dc})}catch(_){c(_)}}),h.addEventListener("success",(0,b.A)(function*(){const p=h.result;p.objectStoreNames.contains(cc)?u(p):(p.close(),yield function te(){const h=indexedDB.deleteDatabase(pm);return new Zo(h).toPromise()}(),u(yield Ee()))}))})}function rn(h,u,c){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,b.A)(function*(h,u,c){const p=St(h,!0).put({[dc]:u,value:c});return new Zo(p).toPromise()})).apply(this,arguments)}function hr(){return(hr=(0,b.A)(function*(h,u){const c=St(h,!1).get(u),p=yield new Zo(c).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function Bs(h,u){const c=St(h,!0).delete(u);return new Zo(c).toPromise()}const De=(()=>{class h{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var c=this;return(0,b.A)(function*(){return c.db||(c.db=yield Ee()),c.db})()}_withRetries(c){var p=this;return(0,b.A)(function*(){let _=0;for(;;)try{const w=yield p._openDb();return yield c(w)}catch(w){if(_++>3)throw w;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var c=this;return(0,b.A)(function*(){return jh()?c.initializeReceiver():c.initializeSender()})()}initializeReceiver(){var c=this;return(0,b.A)(function*(){c.receiver=Sa._getInstance(function PC(){return jh()?self:null}()),c.receiver._subscribe("keyChanged",function(){var p=(0,b.A)(function*(_,w){return{keyProcessed:(yield c._poll()).includes(w.key)}});return function(_,w){return p.apply(this,arguments)}}()),c.receiver._subscribe("ping",function(){var p=(0,b.A)(function*(_,w){return["keyChanged"]});return function(_,w){return p.apply(this,arguments)}}())})()}initializeSender(){var c=this;return(0,b.A)(function*(){var p,_;if(c.activeServiceWorker=yield function Vl(){return Hh.apply(this,arguments)}(),!c.activeServiceWorker)return;c.sender=new xC(c.activeServiceWorker);const w=yield c.sender._send("ping",{},800);w&&null!==(p=w[0])&&void 0!==p&&p.fulfilled&&null!==(_=w[0])&&void 0!==_&&_.value.includes("keyChanged")&&(c.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(c){var p=this;return(0,b.A)(function*(){if(p.sender&&p.activeServiceWorker&&function OC(){var h;return(null===(h=navigator?.serviceWorker)||void 0===h?void 0:h.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:c},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.A)(function*(){try{if(!indexedDB)return!1;const c=yield Ee();return yield rn(c,lc,"1"),yield Bs(c,lc),!0}catch{}return!1})()}_withPendingWrite(c){var p=this;return(0,b.A)(function*(){p.pendingWrites++;try{yield c()}finally{p.pendingWrites--}})()}_set(c,p){var _=this;return(0,b.A)(function*(){return _._withPendingWrite((0,b.A)(function*(){return yield _._withRetries(w=>rn(w,c,p)),_.localCache[c]=p,_.notifyServiceWorker(c)}))})()}_get(c){var p=this;return(0,b.A)(function*(){const _=yield p._withRetries(w=>function Xn(h,u){return hr.apply(this,arguments)}(w,c));return p.localCache[c]=_,_})()}_remove(c){var p=this;return(0,b.A)(function*(){return p._withPendingWrite((0,b.A)(function*(){return yield p._withRetries(_=>Bs(_,c)),delete p.localCache[c],p.notifyServiceWorker(c)}))})()}_poll(){var c=this;return(0,b.A)(function*(){const p=yield c._withRetries(D=>{const R=St(D,!1).getAll();return new Zo(R).toPromise()});if(!p)return[];if(0!==c.pendingWrites)return[];const _=[],w=new Set;if(0!==p.length)for(const{fbase_key:D,value:R}of p)w.add(D),JSON.stringify(c.localCache[D])!==JSON.stringify(R)&&(c.notifyListeners(D,R),_.push(D));for(const D of Object.keys(c.localCache))c.localCache[D]&&!w.has(D)&&(c.notifyListeners(D,null),_.push(D));return _})()}notifyListeners(c,p){this.localCache[c]=p;const _=this.listeners[c];if(_)for(const w of Array.from(_))w(p)}startPolling(){var c=this;this.stopPolling(),this.pollTimer=setInterval((0,b.A)(function*(){return c._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(c,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[c]||(this.listeners[c]=new Set,this._get(c)),this.listeners[c].add(p)}_removeListener(c,p){this.listeners[c]&&(this.listeners[c].delete(p),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return h.type="LOCAL",h})(),vo=1e12;class yo{constructor(u){this.auth=u,this.counter=vo,this._widgets=new Map}render(u,c){const p=this.counter;return this._widgets.set(p,new jl(u,this.auth.name,c||{})),this.counter++,p}reset(u){var c;const p=u||vo;null===(c=this._widgets.get(p))||void 0===c||c.delete(),this._widgets.delete(p)}getResponse(u){var c;return(null===(c=this._widgets.get(u||vo))||void 0===c?void 0:c.getResponse())||""}execute(u){var c=this;return(0,b.A)(function*(){var p;return null===(p=c._widgets.get(u||vo))||void 0===p||p.execute(),""})()}}class jl{constructor(u,c,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof u?document.getElementById(u):u;Q(_,"argument-error",{appName:c}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function mm(h){const u=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<h;p++)u.push(c.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":c}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,c)try{c()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $i=oC("rcb"),hc=new F(3e4,6e4);class js{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Xe().grecaptcha)||void 0===u||!u.render)}load(u,c=""){return Q(function Le(h){return h.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(h)}(c),u,"argument-error"),this.shouldResolveImmediately(c)&&Et(Xe().grecaptcha)?Promise.resolve(Xe().grecaptcha):new Promise((p,_)=>{const w=Xe().setTimeout(()=>{_(ut(u,"network-request-failed"))},hc.get());Xe()[$i]=()=>{Xe().clearTimeout(w),delete Xe()[$i];const R=Xe().grecaptcha;if(!R||!Et(R))return void _(ut(u,"internal-error"));const H=R.render;R.render=(ae,oe)=>{const ve=H(ae,oe);return this.counter++,ve},this.hostLanguage=c,p(R)},ya(`${function Ur(){return gt.recaptchaV2Script}()}?${(0,V.Am)({onload:$i,render:"explicit",hl:c})}`).catch(()=>{clearTimeout(w),_(ut(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var c;return!(null===(c=Xe().grecaptcha)||void 0===c||!c.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class $h{load(u){return(0,b.A)(function*(){return new yo(u)})()}clearedOneInstance(){}}const Aa="recaptcha",zi={theme:"light",type:"image"};class fc{constructor(u,c,p=Object.assign({},zi)){this.parameters=p,this.type=Aa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vt(u),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof c?document.getElementById(c):c;Q(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $h:new js,this.validateStartingState()}verify(){var u=this;return(0,b.A)(function*(){u.assertNotDestroyed();const c=yield u.render(),p=u.getAssertedRecaptcha();return p.getResponse(c)||new Promise(w=>{const D=R=>{R&&(u.tokenChangeListeners.delete(D),w(R))};u.tokenChangeListeners.add(D),u.isInvisible&&p.execute(c)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return c=>{if(this.tokenChangeListeners.forEach(p=>p(c)),"function"==typeof u)u(c);else if("string"==typeof u){const p=Xe()[u];"function"==typeof p&&p(c)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,b.A)(function*(){if(yield u.init(),!u.widgetId){let c=u.container;if(!u.isInvisible){const p=document.createElement("div");c.appendChild(p),c=p}u.widgetId=u.getAssertedRecaptcha().render(c,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,b.A)(function*(){Q(Li()&&!jh(),u.auth,"internal-error"),yield function Ma(){let h=null;return new Promise(u=>{"complete"!==document.readyState?(h=()=>u(),window.addEventListener("load",h)):u()}).catch(u=>{throw h&&window.removeEventListener("load",h),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const c=yield function As(h){return vr.apply(this,arguments)}(u.auth);Q(c,u.auth,"internal-error"),u.parameters.sitekey=c})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class en{constructor(u,c){this.verificationId=u,this.onConfirmation=c}confirm(u){const c=je._fromVerification(this.verificationId,u);return this.onConfirmation(c)}}function Pn(){return(Pn=(0,b.A)(function*(h,u,c){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(be(h));const p=Vt(h),_=yield Ir(p,u,(0,V.Ku)(c));return new en(_,w=>Ol(p,w))})).apply(this,arguments)}function Hl(){return(Hl=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h);yield Vs(!1,p,"phone");const _=yield Ir(p.auth,u,(0,V.Ku)(c));return new en(_,w=>Pl(p,w))})).apply(this,arguments)}function Na(){return(Na=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h);if((0,re._isFirebaseServerApp)(p.auth.app))return Promise.reject(be(p.auth));const _=yield Ir(p.auth,u,(0,V.Ku)(c));return new en(_,w=>yC(p,w))})).apply(this,arguments)}function Ir(h,u,c){return $l.apply(this,arguments)}function $l(){return $l=(0,b.A)(function*(h,u,c){var p;const _=yield c.verify();try{let w;if(Q("string"==typeof _,h,"argument-error"),Q(c.type===Aa,h,"argument-error"),w="string"==typeof u?{phoneNumber:u}:u,"session"in w){const D=w.session;if("phoneNumber"in w)return Q("enroll"===D.type,h,"internal-error"),(yield function sc(h,u){return de(h,"POST","/v2/accounts/mfaEnrollment:start",K(h,u))}(h,{idToken:D.credential,phoneEnrollmentInfo:{phoneNumber:w.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{Q("signin"===D.type,h,"internal-error");const R=(null===(p=w.multiFactorHint)||void 0===p?void 0:p.uid)||w.multiFactorUid;return Q(R,h,"missing-multi-factor-info"),(yield function Ul(h,u){return de(h,"POST","/v2/accounts/mfaSignIn:start",K(h,u))}(h,{mfaPendingCredential:D.credential,mfaEnrollmentId:R,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:D}=yield function Kg(h,u){return Fe.apply(this,arguments)}(h,{phoneNumber:w.phoneNumber,recaptchaToken:_});return D}}finally{c._reset()}}),$l.apply(this,arguments)}function Wh(){return(Wh=(0,b.A)(function*(h,u){const c=(0,V.Ku)(h);if((0,re._isFirebaseServerApp)(c.auth.app))return Promise.reject(be(c.auth));yield Ls(c,u)})).apply(this,arguments)}let $s=(()=>{class h{constructor(c){this.providerId=h.PROVIDER_ID,this.auth=Vt(c)}verifyPhoneNumber(c,p){return Ir(this.auth,c,(0,V.Ku)(p))}static credential(c,p){return je._fromVerification(c,p)}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{phoneNumber:p,temporaryProof:_}=c;return p&&_?je._fromTokenResponse(p,_):null}}return h.PROVIDER_ID="phone",h.PHONE_SIGN_IN_METHOD="phone",h})();function Xo(h,u){return u?Dt(u):(Q(h._popupRedirectResolver,h,"argument-error"),h._popupRedirectResolver)}class Gh extends _e{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return vi(u,this._buildIdpRequest())}_linkToIdToken(u,c){return vi(u,this._buildIdpRequest(c))}_getReauthenticationResolver(u){return vi(u,this._buildIdpRequest())}_buildIdpRequest(u){const c={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(c.idToken=u),c}}function qh(h){return cr(h.auth,new Gh(h),h.bypassAuthState)}function IS(h){const{auth:u,user:c}=h;return Q(c,u,"internal-error"),Wo(c,new Gh(h),h.bypassAuthState)}function bS(h){return _m.apply(this,arguments)}function _m(){return(_m=(0,b.A)(function*(h){const{auth:u,user:c}=h;return Q(c,u,"internal-error"),Ls(c,new Gh(h),h.bypassAuthState)})).apply(this,arguments)}class LC{constructor(u,c,p,_,w=!1){this.auth=u,this.resolver=p,this.user=_,this.bypassAuthState=w,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(c)?c:[c]}execute(){var u=this;return new Promise(function(){var c=(0,b.A)(function*(p,_){u.pendingPromise={resolve:p,reject:_};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(w){u.reject(w)}});return function(p,_){return c.apply(this,arguments)}}())}onAuthEvent(u){var c=this;return(0,b.A)(function*(){const{urlResponse:p,sessionId:_,postBody:w,tenantId:D,error:R,type:H}=u;if(R)return void c.reject(R);const ae={auth:c.auth,requestUri:p,sessionId:_,tenantId:D||void 0,postBody:w||void 0,user:c.user,bypassAuthState:c.bypassAuthState};try{c.resolve(yield c.getIdpTask(H)(ae))}catch(oe){c.reject(oe)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return qh;case"linkViaPopup":case"linkViaRedirect":return bS;case"reauthViaPopup":case"reauthViaRedirect":return IS;default:pt(this.auth,"internal-error")}}resolve(u){An(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){An(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const DS=new F(2e3,1e4);function vm(){return(vm=(0,b.A)(function*(h,u,c){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(ut(h,"operation-not-supported-in-this-environment"));const p=Vt(h);tn(h,u,Ho);const _=Xo(p,c);return new wm(p,"signInViaPopup",u,_).executeNotNull()})).apply(this,arguments)}function ym(){return(ym=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h);if((0,re._isFirebaseServerApp)(p.auth.app))return Promise.reject(ut(p.auth,"operation-not-supported-in-this-environment"));tn(p.auth,u,Ho);const _=Xo(p.auth,c);return new wm(p.auth,"reauthViaPopup",u,_,p).executeNotNull()})).apply(this,arguments)}function Cm(){return(Cm=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h);tn(p.auth,u,Ho);const _=Xo(p.auth,c);return new wm(p.auth,"linkViaPopup",u,_,p).executeNotNull()})).apply(this,arguments)}let wm=(()=>{class h extends LC{constructor(c,p,_,w,D){super(c,p,w,D),this.provider=_,this.authWindow=null,this.pollId=null,h.currentPopupAction&&h.currentPopupAction.cancel(),h.currentPopupAction=this}executeNotNull(){var c=this;return(0,b.A)(function*(){const p=yield c.execute();return Q(p,c.auth,"internal-error"),p})()}onExecution(){var c=this;return(0,b.A)(function*(){An(1===c.filter.length,"Popup operations only handle one event");const p=Ll();c.authWindow=yield c.resolver._openPopup(c.auth,c.provider,c.filter[0],p),c.authWindow.associatedEvent=p,c.resolver._originValidation(c.auth).catch(_=>{c.reject(_)}),c.resolver._isIframeWebStorageSupported(c.auth,_=>{_||c.reject(ut(c.auth,"web-storage-unsupported"))}),c.pollUserCancellation()})()}get eventId(){var c;return(null===(c=this.authWindow)||void 0===c?void 0:c.associatedEvent)||null}cancel(){this.reject(ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,h.currentPopupAction=null}pollUserCancellation(){const c=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ut(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(c,DS.get())};c()}}return h.currentPopupAction=null,h})();const Em="pendingRedirect",Ra=new Map;class MS extends LC{constructor(u,c,p=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],c,void 0,p),this.eventId=null}execute(){var u=()=>super.execute,c=this;return(0,b.A)(function*(){let p=Ra.get(c.auth._key());if(!p){try{const w=(yield function NS(h,u){return Im.apply(this,arguments)}(c.resolver,c.auth))?yield u().call(c):null;p=()=>Promise.resolve(w)}catch(_){p=()=>Promise.reject(_)}Ra.set(c.auth._key(),p)}return c.bypassAuthState||Ra.set(c.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(u){var c=()=>super.onAuthEvent,p=this;return(0,b.A)(function*(){if("signInViaRedirect"===u.type)return c().call(p,u);if("unknown"!==u.type){if(u.eventId){const _=yield p.auth._redirectUserForId(u.eventId);if(_)return p.user=_,c().call(p,u);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,b.A)(function*(){})()}cleanUp(){}}function Im(){return(Im=(0,b.A)(function*(h,u){const c=Sm(u),p=Yh(h);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(c));return yield p._remove(c),_})).apply(this,arguments)}function bm(h,u){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,b.A)(function*(h,u){return Yh(h)._set(Sm(u),"true")})).apply(this,arguments)}function br(h,u){Ra.set(h._key(),u)}function Yh(h){return Dt(h._redirectPersistence)}function Sm(h){return We(Em,h.config.apiKey,h.name)}function VC(h,u,c){return function Tm(h,u,c){return pc.apply(this,arguments)}(h,u,c)}function pc(){return(pc=(0,b.A)(function*(h,u,c){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(be(h));const p=Vt(h);tn(h,u,Ho),yield p._initializationPromise;const _=Xo(p,c);return yield bm(_,p),_._openRedirect(p,u,"signInViaRedirect")})).apply(this,arguments)}function UC(h,u,c){return function Qh(h,u,c){return Zh.apply(this,arguments)}(h,u,c)}function Zh(){return(Zh=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h);if(tn(p.auth,u,Ho),(0,re._isFirebaseServerApp)(p.auth.app))return Promise.reject(be(p.auth));yield p.auth._initializationPromise;const _=Xo(p.auth,c);yield bm(_,p.auth);const w=yield mc(p);return _._openRedirect(p.auth,u,"reauthViaRedirect",w)})).apply(this,arguments)}function Wi(h,u,c){return function Am(h,u,c){return gc.apply(this,arguments)}(h,u,c)}function gc(){return(gc=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h);tn(p.auth,u,Ho),yield p.auth._initializationPromise;const _=Xo(p.auth,c);yield Vs(!1,p,u.providerId),yield bm(_,p.auth);const w=yield mc(p);return _._openRedirect(p.auth,u,"linkViaRedirect",w)})).apply(this,arguments)}function Xh(){return(Xh=(0,b.A)(function*(h,u){return yield Vt(h)._initializationPromise,Jh(h,u,!1)})).apply(this,arguments)}function Jh(h,u){return mt.apply(this,arguments)}function mt(){return(mt=(0,b.A)(function*(h,u,c=!1){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(be(h));const p=Vt(h),_=Xo(p,u),D=yield new MS(p,_,c).execute();return D&&!c&&(delete D.user._redirectEventId,yield p._persistUserIfCurrent(D.user),yield p._setRedirectUser(null,u)),D})).apply(this,arguments)}function mc(h){return zs.apply(this,arguments)}function zs(){return(zs=(0,b.A)(function*(h){const u=Ll(`${h.uid}:::`);return h._redirectEventId=u,yield h.auth._setRedirectUser(h),yield h.auth._persistUserIfCurrent(h),u})).apply(this,arguments)}class Nm{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let c=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(u,p)&&(c=!0,this.sendToConsumer(u,p),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function Gr(h){switch(h.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ws(h);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,c||(this.queuedRedirectEvent=u,c=!0)),c}sendToConsumer(u,c){var p;if(u.error&&!Ws(u)){const _=(null===(p=u.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";c.onError(ut(this.auth,_))}else c.onAuthEvent(u)}isEventForConsumer(u,c){const p=null===c.eventId||!!u.eventId&&u.eventId===c.eventId;return c.filter.includes(u.type)&&p}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xa(u))}saveEventToCache(u){this.cachedEventUids.add(xa(u)),this.lastProcessedEventTime=Date.now()}}function xa(h){return[h.type,h.eventId,h.sessionId,h.tenantId].filter(u=>u).join("-")}function Ws({type:h,error:u}){return"unknown"===h&&"auth/no-auth-event"===u?.code}function Rm(h){return zl.apply(this,arguments)}function zl(){return(zl=(0,b.A)(function*(h,u={}){return de(h,"GET","/v1/projects",u)})).apply(this,arguments)}const BC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gi=/^https?/;function ef(){return(ef=(0,b.A)(function*(h){if(h.config.emulator)return;const{authorizedDomains:u}=yield Rm(h);for(const c of u)try{if(Om(c))return}catch{}pt(h,"unauthorized-domain")})).apply(this,arguments)}function Om(h){const u=kr(),{protocol:c,hostname:p}=new URL(u);if(h.startsWith("chrome-extension://")){const D=new URL(h);return""===D.hostname&&""===p?"chrome-extension:"===c&&h.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===c&&D.hostname===p}if(!Gi.test(c))return!1;if(BC.test(h))return p===h;const _=h.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const tf=new F(3e4,6e4);function _c(){const h=Xe().___jsl;if(h?.H)for(const u of Object.keys(h.H))if(h.H[u].r=h.H[u].r||[],h.H[u].L=h.H[u].L||[],h.H[u].r=[...h.H[u].L],h.CP)for(let c=0;c<h.CP.length;c++)h.CP[c]=null}let Gs=null;const qs=new F(5e3,15e3),Pe="__/auth/iframe",Pm="emulator/auth/iframe",RS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HC(h){const u=h.config;Q(u.authDomain,h,"auth-domain-config-required");const c=u.emulator?L(u,Pm):`https://${h.config.authDomain}/${Pe}`,p={apiKey:u.apiKey,appName:h.name,v:re.SDK_VERSION},_=jC.get(h.config.apiHost);_&&(p.eid=_);const w=h._getFrameworks();return w.length&&(p.fw=w.join(",")),`${c}?${(0,V.Am)(p).slice(1)}`}function vc(){return vc=(0,b.A)(function*(h){const u=yield function nf(h){return Gs=Gs||function Wl(h){return new Promise((u,c)=>{var p,_,w;function D(){_c(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{_c(),c(ut(h,"network-request-failed"))},timeout:tf.get()})}if(null!==(_=null===(p=Xe().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)u(gapi.iframes.getContext());else{if(null===(w=Xe().gapi)||void 0===w||!w.load){const R=oC("iframefcb");return Xe()[R]=()=>{gapi.load?D():c(ut(h,"network-request-failed"))},ya(`${function iC(){return gt.gapiScript}()}?onload=${R}`).catch(H=>c(H))}D()}}).catch(u=>{throw Gs=null,u})}(h),Gs}(h),c=Xe().gapi;return Q(c,h,"internal-error"),u.open({where:document.body,url:HC(h),messageHandlersFilter:c.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RS,dontclear:!0},p=>new Promise(function(){var _=(0,b.A)(function*(w,D){yield p.restyle({setHideOnLeave:!1});const R=ut(h,"network-request-failed"),H=Xe().setTimeout(()=>{D(R)},qs.get());function ae(){Xe().clearTimeout(H),w(p)}p.ping(ae).then(ae,()=>{D(R)})});return function(w,D){return _.apply(this,arguments)}}()))}),vc.apply(this,arguments)}const Oa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class km{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const er="__/auth/handler",tr="emulator/auth/handler",yt=encodeURIComponent("fac");function yc(h,u,c,p,_,w){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,b.A)(function*(h,u,c,p,_,w){Q(h.config.authDomain,h,"auth-domain-config-required"),Q(h.config.apiKey,h,"invalid-api-key");const D={apiKey:h.config.apiKey,appName:h.name,authType:c,redirectUrl:p,v:re.SDK_VERSION,eventId:_};if(u instanceof Ho){u.setDefaultLanguage(h.languageCode),D.providerId=u.providerId||"",(0,V.Im)(u.getCustomParameters())||(D.customParameters=JSON.stringify(u.getCustomParameters()));for(const[oe,ve]of Object.entries(w||{}))D[oe]=ve}if(u instanceof Bi){const oe=u.getScopes().filter(ve=>""!==ve);oe.length>0&&(D.scopes=oe.join(","))}h.tenantId&&(D.tid=h.tenantId);const R=D;for(const oe of Object.keys(R))void 0===R[oe]&&delete R[oe];const H=yield h._getAppCheckToken(),ae=H?`#${yt}=${encodeURIComponent(H)}`:"";return`${function qi({config:h}){return h.emulator?L(h,tr):`https://${h.authDomain}/${er}`}(h)}?${(0,V.Am)(R).slice(1)}${ae}`})).apply(this,arguments)}const Gl="webStorageSupport",Fm=class rf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_o,this._completeRedirectFn=Jh,this._overrideRedirectResult=br}_openPopup(u,c,p,_){var w=this;return(0,b.A)(function*(){var D;An(null===(D=w.eventManagers[u._key()])||void 0===D?void 0:D.manager,"_initialize() not called before _openPopup()");const R=yield yc(u,c,p,kr(),_);return function j(h,u,c,p=500,_=600){const w=Math.max((window.screen.availHeight-_)/2,0).toString(),D=Math.max((window.screen.availWidth-p)/2,0).toString();let R="";const H=Object.assign(Object.assign({},Oa),{width:p.toString(),height:_.toString(),top:w,left:D}),ae=(0,V.ZQ)().toLowerCase();c&&(R=ju(ae)?"_blank":c),ho(ae)&&(u=u||"http://localhost",H.scrollbars="yes");const oe=Object.entries(H).reduce((Bt,[Yi,La])=>`${Bt}${Yi}=${La},`,"");if(function z(h=(0,V.ZQ)()){var u;return k(h)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(ae)&&"_self"!==R)return function Je(h,u){const c=document.createElement("a");c.href=h,c.target=u;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),c.dispatchEvent(p)}(u||"",R),new km(null);const ve=window.open(u||"",R,oe);Q(ve,h,"popup-blocked");try{ve.focus()}catch{}return new km(ve)}(u,R,Ll())})()}_openRedirect(u,c,p,_){var w=this;return(0,b.A)(function*(){return yield w._originValidation(u),function fm(h){Xe().location.href=h}(yield yc(u,c,p,kr(),_)),new Promise(()=>{})})()}_initialize(u){const c=u._key();if(this.eventManagers[c]){const{manager:_,promise:w}=this.eventManagers[c];return _?Promise.resolve(_):(An(w,"If manager is not set, promise should be"),w)}const p=this.initAndGetManager(u);return this.eventManagers[c]={promise:p},p.catch(()=>{delete this.eventManagers[c]}),p}initAndGetManager(u){var c=this;return(0,b.A)(function*(){const p=yield function $C(h){return vc.apply(this,arguments)}(u),_=new Nm(u);return p.register("authEvent",w=>(Q(w?.authEvent,u,"invalid-auth-event"),{status:_.onEvent(w.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),c.eventManagers[u._key()]={manager:_},c.iframes[u._key()]=p,_})()}_isIframeWebStorageSupported(u,c){this.iframes[u._key()].send(Gl,{type:Gl},_=>{var w;const D=null===(w=_?.[0])||void 0===w?void 0:w[Gl];void 0!==D&&c(!!D),pt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const c=u._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function xm(h){return ef.apply(this,arguments)}(u)),this.originValidationPromises[c]}get _shouldInitProactively(){return Te()||va()||k()}};class KC{constructor(u){this.factorId=u}_process(u,c,p){switch(c.type){case"enroll":return this._finalizeEnroll(u,c.credential,p);case"signin":return this._finalizeSignIn(u,c.credential);default:return mn("unexpected MultiFactorSessionType")}}}class Cc extends KC{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Cc(u)}_finalizeEnroll(u,c,p){return function AC(h,u){return de(h,"POST","/v2/accounts/mfaEnrollment:finalize",K(h,u))}(u,{idToken:c,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,c){return function gm(h,u){return de(h,"POST","/v2/accounts/mfaSignIn:finalize",K(h,u))}(u,{mfaPendingCredential:c,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let pr=(()=>{class h{constructor(){}static assertion(c){return Cc._fromCredential(c)}}return h.FACTOR_ID="phone",h})();var Lm="@firebase/auth";class YC{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var c=this;return(0,b.A)(function*(){return c.assertAuthConfigured(),yield c.auth._initializationPromise,c.auth.currentUser?{accessToken:yield c.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const c=this.auth.onIdTokenChanged(p=>{u(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,c),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const c=this.internalListeners.get(u);c&&(this.internalListeners.delete(u),c(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function es(){return window}(0,V.XA)("authIdTokenMaxAge"),function Ne(h){gt=h}({loadJS:h=>new Promise((u,c)=>{const p=document.createElement("script");p.setAttribute("src",h),p.onload=u,p.onerror=_=>{const w=ut("internal-error");w.customData=_,c(w)},p.type="text/javascript",p.charset="UTF-8",function cf(){var h,u;return null!==(u=null===(h=document.getElementsByTagName("head"))||void 0===h?void 0:h[0])&&void 0!==u?u:document}().appendChild(p)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function af(h){(0,re._registerComponent)(new Ce.uA("auth",(u,{options:c})=>{const p=u.getProvider("app").getImmediate(),_=u.getProvider("heartbeat"),w=u.getProvider("app-check-internal"),{apiKey:D,authDomain:R}=p.options;Q(D&&!D.includes(":"),"invalid-api-key",{appName:p.name});const H={apiKey:D,authDomain:R,clientPlatform:h,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ge(h)},ae=new hh(p,_,w,H);return function Me(h,u){const c=u?.persistence||[],p=(Array.isArray(c)?c:[c]).map(Dt);u?.errorMap&&h._updateErrorMap(u.errorMap),h._initializeWithPersistence(p,u?.popupRedirectResolver)}(ae,c),ae},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,c,p)=>{u.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new Ce.uA("auth-internal",u=>{const c=Vt(u.getProvider("auth").getImmediate());return new YC(c)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(Lm,"1.7.1",function QC(h){switch(h){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(h)),(0,re.registerVersion)(Lm,"1.7.1","esm2017")}("Browser");function Ec(){return Ec=(0,b.A)(function*(h,u,c){var p;const{BuildInfo:_}=es();An(u.sessionId,"AuthEvent did not contain a session ID");const w=yield function ew(h){return ff.apply(this,arguments)}(u.sessionId),D={};return k()?D.ibi=_.packageName:Bo()?D.apn=_.packageName:pt(h,"operation-not-supported-in-this-environment"),_.displayName&&(D.appDisplayName=_.displayName),D.sessionId=w,yc(h,c,u.type,void 0,null!==(p=u.eventId)&&void 0!==p?p:void 0,D)}),Ec.apply(this,arguments)}function hf(){return(hf=(0,b.A)(function*(h){const{BuildInfo:u}=es(),c={};k()?c.iosBundleId=u.packageName:Bo()?c.androidPackageName=u.packageName:pt(h,"operation-not-supported-in-this-environment"),yield Rm(h,c)})).apply(this,arguments)}function It(){return(It=(0,b.A)(function*(h,u,c){const{cordova:p}=es();let _=()=>{};try{yield new Promise((w,D)=>{let R=null;function H(){var ve;w();const Bt=null===(ve=p.plugins.browsertab)||void 0===ve?void 0:ve.close;"function"==typeof Bt&&Bt(),"function"==typeof c?.close&&c.close()}function ae(){R||(R=window.setTimeout(()=>{D(ut(h,"redirect-cancelled-by-user"))},2e3))}function oe(){"visible"===document?.visibilityState&&ae()}u.addPassiveListener(H),document.addEventListener("resume",ae,!1),Bo()&&document.addEventListener("visibilitychange",oe,!1),_=()=>{u.removePassiveListener(H),document.removeEventListener("resume",ae,!1),document.removeEventListener("visibilitychange",oe,!1),R&&window.clearTimeout(R)}})}finally{_()}})).apply(this,arguments)}function ff(){return(ff=(0,b.A)(function*(h){const u=function tw(h){if(An(/[0-9a-zA-Z]+/.test(h),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(h);const u=new ArrayBuffer(h.length),c=new Uint8Array(u);for(let p=0;p<h.length;p++)c[p]=h.charCodeAt(p);return c}(h),c=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(c)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class jm extends Nm{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(c=>c(u)),super.onEvent(u)}initialized(){var u=this;return(0,b.A)(function*(){yield u.initPromise})()}}function Hm(h){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,b.A)(function*(h){const u=yield Yl()._get(Dc(h));return u&&(yield Yl()._remove(Dc(h))),u})).apply(this,arguments)}function bc(){const h=[];for(let c=0;c<20;c++){const p=Math.floor(62*Math.random());h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return h.join("")}function Yl(){return Dt(Da)}function Dc(h){return We("authEvent",h.config.apiKey,h.name)}function Co(h){if(!h?.includes("?"))return{};const[u,...c]=h.split("?");return(0,V.I9)(c.join("?"))}const pf=class rw{constructor(){this._redirectPersistence=_o,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jh,this._overrideRedirectResult=br}_initialize(u){var c=this;return(0,b.A)(function*(){const p=u._key();let _=c.eventManagers.get(p);return _||(_=new jm(u),c.eventManagers.set(p,_),c.attachCallbackListeners(u,_)),_})()}_openPopup(u){pt(u,"operation-not-supported-in-this-environment")}_openRedirect(u,c,p,_){var w=this;return(0,b.A)(function*(){!function JC(h){var u,c,p,_,w,D,R,H,ae,oe;const ve=es();Q("function"==typeof(null===(u=ve?.universalLinks)||void 0===u?void 0:u.subscribe),h,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof(null===(c=ve?.BuildInfo)||void 0===c?void 0:c.packageName)<"u",h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(w=null===(_=null===(p=ve?.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===w?void 0:w.openUrl),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(H=null===(R=null===(D=ve?.cordova)||void 0===D?void 0:D.plugins)||void 0===R?void 0:R.browsertab)||void 0===H?void 0:H.isAvailable),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(oe=null===(ae=ve?.cordova)||void 0===ae?void 0:ae.InAppBrowser)||void 0===oe?void 0:oe.open),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const D=yield w._initialize(u);yield D.initialized(),D.resetRedirect(),function Dm(){Ra.clear()}(),yield w._originValidation(u);const R=function Kl(h,u,c=null){return{type:u,eventId:c,urlResponse:null,sessionId:bc(),postBody:null,tenantId:h.tenantId,error:ut(h,"no-auth-event")}}(u,p,_);yield function Ki(h,u){return Yl()._set(Dc(h),u)}(u,R);const H=yield function Um(h,u,c){return Ec.apply(this,arguments)}(u,R,c),ae=yield function nr(h){const{cordova:u}=es();return new Promise(c=>{u.plugins.browsertab.isAvailable(p=>{let _=null;p?u.plugins.browsertab.openUrl(h):_=u.InAppBrowser.open(h,function x(h=(0,V.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(h)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(h)}()?"_blank":"_system","location=yes"),c(_)})})}(H);return function Ys(h,u,c){return It.apply(this,arguments)}(u,D,ae)})()}_isIframeWebStorageSupported(u,c){throw new Error("Method not implemented.")}_originValidation(u){const c=u._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function df(h){return hf.apply(this,arguments)}(u)),this.originValidationPromises[c]}attachCallbackListeners(u,c){const{universalLinks:p,handleOpenURL:_,BuildInfo:w}=es(),D=setTimeout((0,b.A)(function*(){yield Hm(u),c.onEvent(zm())}),500),R=function(){var oe=(0,b.A)(function*(ve){clearTimeout(D);const Bt=yield Hm(u);let Yi=null;Bt&&ve?.url&&(Yi=function Ic(h,u){var c,p;const _=function nw(h){const u=Co(h),c=u.link?decodeURIComponent(u.link):void 0,p=Co(c).link,_=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Co(_).link||_||p||c||h}(u);if(_.includes("/__/auth/callback")){const w=Co(_),D=w.firebaseError?function $m(h){try{return JSON.parse(h)}catch{return null}}(decodeURIComponent(w.firebaseError)):null,R=null===(p=null===(c=D?.code)||void 0===c?void 0:c.split("auth/"))||void 0===p?void 0:p[1],H=R?ut(R):null;return H?{type:h.type,eventId:h.eventId,tenantId:h.tenantId,error:H,urlResponse:null,sessionId:null,postBody:null}:{type:h.type,eventId:h.eventId,tenantId:h.tenantId,sessionId:h.sessionId,urlResponse:_,postBody:null}}return null}(Bt,ve.url)),c.onEvent(Yi||zm())});return function(Bt){return oe.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,R);const H=_,ae=`${w.packageName.toLowerCase()}://`;es().handleOpenURL=function(){var oe=(0,b.A)(function*(ve){if(ve.toLowerCase().startsWith(ae)&&R({url:ve}),"function"==typeof H)try{H(ve)}catch(Bt){console.error(Bt)}});return function(ve){return oe.apply(this,arguments)}}()}};function zm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ut("no-auth-event")}}function Qs(){var h;return(null===(h=self?.location)||void 0===h?void 0:h.protocol)||null}function Wm(h=(0,V.ZQ)()){return!("file:"!==Qs()&&"ionic:"!==Qs()&&"capacitor:"!==Qs()||!h.toLowerCase().match(/iphone|ipad|ipod|android/))}function mf(){try{const h=self.localStorage,u=Ll();if(h)return h.setItem(u,"1"),h.removeItem(u),!function PS(h=(0,V.ZQ)()){return function gf(){return(0,V.lT)()&&11===document?.documentMode}()||function Sc(h=(0,V.ZQ)()){return/Edge\/\d+/.test(h)}(h)}()||(0,V.zW)()}catch{return Tc()&&(0,V.zW)()}return!1}function Tc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _f(){return(function Zl(){return"http:"===Qs()||"https:"===Qs()}()||(0,V.sr)()||Wm())&&!function Xl(){return(0,V.lV)()||(0,V.Ll)()}()&&mf()&&!Tc()}function wi(){return Wm()&&typeof document<"u"}function ka(){return(ka=(0,b.A)(function*(){return!!wi()&&new Promise(h=>{const u=setTimeout(()=>{h(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),h(!0)})})})).apply(this,arguments)}const Dr={LOCAL:"local",NONE:"none",SESSION:"session"},ts=Q,Ac="persistence";function Mc(h){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,b.A)(function*(h){yield h._initializationPromise;const u=yf(),c=We(Ac,h.config.apiKey,h.name);u&&u.setItem(c,h._getPersistence())})).apply(this,arguments)}function yf(){var h;try{return(null===(h=function vf(){return typeof window<"u"?window:null}())||void 0===h?void 0:h.sessionStorage)||null}catch{return null}}const lw=Q;class Ei{constructor(){this.browserResolver=Dt(Fm),this.cordovaResolver=Dt(pf),this.underlyingResolver=null,this._redirectPersistence=_o,this._completeRedirectFn=Jh,this._overrideRedirectResult=br}_initialize(u){var c=this;return(0,b.A)(function*(){return yield c.selectUnderlyingResolver(),c.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,c,p,_){var w=this;return(0,b.A)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openPopup(u,c,p,_)})()}_openRedirect(u,c,p,_){var w=this;return(0,b.A)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openRedirect(u,c,p,_)})()}_isIframeWebStorageSupported(u,c){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,c)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return wi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lw(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,b.A)(function*(){if(u.underlyingResolver)return;const c=yield function sw(){return ka.apply(this,arguments)}();u.underlyingResolver=c?u.cordovaResolver:u.browserResolver})()}}function ns(h){return h.unwrap()}function qm(h){return Zs(h)}function Zs(h){const{_tokenResponse:u}=h instanceof V.g?h.customData:h;if(!u)return null;if(!(h instanceof V.g)&&"temporaryProof"in u&&"phoneNumber"in u)return $s.credentialFromResult(h);const c=u.providerId;if(!c||c===lt.PASSWORD)return null;let p;switch(c){case lt.GOOGLE:p=Xg;break;case lt.FACEBOOK:p=Rl;break;case lt.GITHUB:p=Jg;break;case lt.TWITTER:p=go;break;default:const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:D,pendingToken:R,nonce:H}=u;return w||D||_||R?R?c.startsWith("saml.")?Fs._create(c,R):Er._fromParams({providerId:c,signInMethod:c,pendingToken:R,idToken:_,accessToken:w}):new $o(c).credential({idToken:_,accessToken:w,rawNonce:H}):null}return h instanceof V.g?p.credentialFromError(h):p.credentialFromResult(h)}function Cn(h,u){return u.catch(c=>{throw c instanceof V.g&&function Km(h,u){var c;const p=null===(c=u.customData)||void 0===c?void 0:c._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new kn(h,function Uh(h,u){var c;const p=(0,V.Ku)(h),_=u;return Q(u.customData.operationType,p,"argument-error"),Q(null===(c=_.customData._serverResponse)||void 0===c?void 0:c.mfaPendingCredential,p,"argument-error"),Vh._fromError(p,_)}(h,u));else if(p){const _=Zs(u),w=u;_&&(w.credential=_,w.tenantId=p.tenantId||void 0,w.email=p.email||void 0,w.phoneNumber=p.phoneNumber||void 0)}}(h,c),c}).then(c=>{const _=c.user;return{operationType:c.operationType,credential:qm(c),additionalUserInfo:ic(c),user:Ii.getOrCreate(_)}})}function hn(h,u){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,b.A)(function*(h,u){const c=yield u;return{verificationId:c.verificationId,confirm:p=>Cn(h,c.confirm(p))}})).apply(this,arguments)}class kn{constructor(u,c){this.resolver=c,this.auth=function uw(h){return h.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return Cn(ns(this.auth),this.resolver.resolveSignIn(u))}}class Ii{constructor(u){this._delegate=u,this.multiFactor=function MC(h){const u=(0,V.Ku)(h);return Fl.has(u)||Fl.set(u,Yo._fromUser(u)),Fl.get(u)}(u)}static getOrCreate(u){return Ii.USER_MAP.has(u)||Ii.USER_MAP.set(u,new Ii(u)),Ii.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var c=this;return(0,b.A)(function*(){return Cn(c.auth,Pl(c._delegate,u))})()}linkWithPhoneNumber(u,c){var p=this;return(0,b.A)(function*(){return hn(p.auth,function Jn(h,u,c){return Hl.apply(this,arguments)}(p._delegate,u,c))})()}linkWithPopup(u){var c=this;return(0,b.A)(function*(){return Cn(c.auth,function AS(h,u,c){return Cm.apply(this,arguments)}(c._delegate,u,Ei))})()}linkWithRedirect(u){var c=this;return(0,b.A)(function*(){return yield Mc(Vt(c.auth)),Wi(c._delegate,u,Ei)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var c=this;return(0,b.A)(function*(){return Cn(c.auth,yC(c._delegate,u))})()}reauthenticateWithPhoneNumber(u,c){return hn(this.auth,function Hs(h,u,c){return Na.apply(this,arguments)}(this._delegate,u,c))}reauthenticateWithPopup(u){return Cn(this.auth,function TS(h,u,c){return ym.apply(this,arguments)}(this._delegate,u,Ei))}reauthenticateWithRedirect(u){var c=this;return(0,b.A)(function*(){return yield Mc(Vt(c.auth)),UC(c._delegate,u,Ei)})()}sendEmailVerification(u){return function IC(h,u){return rc.apply(this,arguments)}(this._delegate,u)}unlink(u){var c=this;return(0,b.A)(function*(){return yield function vC(h,u){return Ch.apply(this,arguments)}(c._delegate,u),c})()}updateEmail(u){return function Ci(h,u){const c=(0,V.Ku)(h);return(0,re._isFirebaseServerApp)(c.auth.app)?Promise.reject(be(c.auth)):Oe(c,u,null)}(this._delegate,u)}updatePassword(u){return function sm(h,u){return Oe((0,V.Ku)(h),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function FC(h,u){return Wh.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function SC(h,u){return Oh.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,c){return function bC(h,u,c){return xh.apply(this,arguments)}(this._delegate,u,c)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ii.USER_MAP=new WeakMap;const Jl=Q;let wf=(()=>{class h{constructor(c,p){if(this.app=c,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=c.options;Jl(_,"invalid-api-key",{appName:c.name}),Jl(_,"invalid-api-key",{appName:c.name});const w=typeof window<"u"?Ei:void 0;this._delegate=p.initialize({options:{persistence:cw(_,c.name),popupRedirectResolver:w}}),this._delegate._updateErrorMap(Sn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ii.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(c){this._delegate.languageCode=c}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(c){this._delegate.tenantId=c}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(c,p){!function uC(h,u,c){const p=Vt(h);Q(p._canInitEmulator,p,"emulator-config-failed"),Q(/^https?:\/\//.test(u),p,"invalid-emulator-scheme");const _=!!c?.disableWarnings,w=cC(u),{host:D,port:R}=function fS(h){const u=cC(h),c=/(\/\/)?([^?#/]+)/.exec(h.substr(u.length));if(!c)return{host:"",port:null};const p=c[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const w=_[1];return{host:w,port:dC(p.substr(w.length+1))}}{const[w,D]=p.split(":");return{host:w,port:dC(D)}}}(u);p.config.emulator={url:`${w}//${D}${null===R?"":`:${R}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:D,port:R,protocol:w.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function pS(){function h(){const u=document.createElement("p"),c=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",c.position="fixed",c.width="100%",c.backgroundColor="#ffffff",c.border=".1em solid #000000",c.color="#b50000",c.bottom="0px",c.left="0px",c.margin="0px",c.zIndex="10000",c.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h())}()}(this._delegate,c,p)}applyActionCode(c){return function Ot(h,u){return Sh.apply(this,arguments)}(this._delegate,c)}checkActionCode(c){return ec(this._delegate,c)}confirmPasswordReset(c,p){return function Ju(h,u,c){return Hr.apply(this,arguments)}(this._delegate,c,p)}createUserWithEmailAndPassword(c,p){var _=this;return(0,b.A)(function*(){return Cn(_._delegate,function im(h,u,c){return nc.apply(this,arguments)}(_._delegate,c,p))})()}fetchProvidersForEmail(c){return this.fetchSignInMethodsForEmail(c)}fetchSignInMethodsForEmail(c){return function EC(h,u){return Rh.apply(this,arguments)}(this._delegate,c)}isSignInWithEmailLink(c){return function wC(h,u){const c=xn.parseLink(u);return"EMAIL_SIGNIN"===c?.operation}(0,c)}getRedirectResult(){var c=this;return(0,b.A)(function*(){Jl(_f(),c._delegate,"operation-not-supported-in-this-environment");const p=yield function Mm(h,u){return Xh.apply(this,arguments)}(c._delegate,Ei);return p?Cn(c._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(c){!function iw(h,u){Vt(h)._logFramework(u)}(this._delegate,c)}onAuthStateChanged(c,p,_){const{next:w,error:D,complete:R}=Fa(c,p,_);return this._delegate.onAuthStateChanged(w,D,R)}onIdTokenChanged(c,p,_){const{next:w,error:D,complete:R}=Fa(c,p,_);return this._delegate.onIdTokenChanged(w,D,R)}sendSignInLinkToEmail(c,p){return function Th(h,u,c){return Ah.apply(this,arguments)}(this._delegate,c,p)}sendPasswordResetEmail(c,p){return function Dh(h,u,c){return Ia.apply(this,arguments)}(this._delegate,c,p||void 0)}setPersistence(c){var p=this;return(0,b.A)(function*(){let _;switch(function aw(h,u){ts(Object.values(Dr).includes(u),h,"invalid-persistence-type"),(0,V.lV)()?ts(u!==Dr.SESSION,h,"unsupported-persistence-type"):(0,V.Ll)()?ts(u===Dr.NONE,h,"unsupported-persistence-type"):Tc()?ts(u===Dr.NONE||u===Dr.LOCAL&&(0,V.zW)(),h,"unsupported-persistence-type"):ts(u===Dr.NONE||mf(),h,"unsupported-persistence-type")}(p._delegate,c),c){case Dr.SESSION:_=_o;break;case Dr.LOCAL:_=(yield Dt(De)._isAvailable())?De:Da;break;case Dr.NONE:_=$n;break;default:return pt("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(c){return this.signInWithCredential(c)}signInAnonymously(){return Cn(this._delegate,function Ku(h){return xl.apply(this,arguments)}(this._delegate))}signInWithCredential(c){return Cn(this._delegate,Ol(this._delegate,c))}signInWithCustomToken(c){return Cn(this._delegate,function bh(h,u){return qo.apply(this,arguments)}(this._delegate,c))}signInWithEmailAndPassword(c,p){return Cn(this._delegate,function CC(h,u,c){return(0,re._isFirebaseServerApp)(h.app)?Promise.reject(be(h)):Ol((0,V.Ku)(h),Zg.credential(u,c)).catch(function(){var p=(0,b.A)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&mo(h),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,c,p))}signInWithEmailLink(c,p){return Cn(this._delegate,function yi(h,u,c){return Mh.apply(this,arguments)}(this._delegate,c,p))}signInWithPhoneNumber(c,p){return hn(this._delegate,function zh(h,u,c){return Pn.apply(this,arguments)}(this._delegate,c,p))}signInWithPopup(c){var p=this;return(0,b.A)(function*(){return Jl(_f(),p._delegate,"operation-not-supported-in-this-environment"),Cn(p._delegate,function SS(h,u,c){return vm.apply(this,arguments)}(p._delegate,c,Ei))})()}signInWithRedirect(c){var p=this;return(0,b.A)(function*(){return Jl(_f(),p._delegate,"operation-not-supported-in-this-environment"),yield Mc(p._delegate),VC(p._delegate,c,Ei)})()}updateCurrentUser(c){return this._delegate.updateCurrentUser(c)}verifyPasswordResetCode(c){return function rm(h,u){return Us.apply(this,arguments)}(this._delegate,c)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return h.Persistence=Dr,h})();function Fa(h,u,c){let p=h;"function"!=typeof h&&({next:p,error:u,complete:c}=h);const _=p;return{next:D=>_(D&&Ii.getOrCreate(D)),error:u,complete:c}}function cw(h,u){const c=function Gm(h,u){const c=yf();if(!c)return[];const p=We(Ac,h,u);switch(c.getItem(p)){case Dr.NONE:return[$n];case Dr.LOCAL:return[De,_o];case Dr.SESSION:return[_o];default:return[]}}(h,u);if(typeof self<"u"&&!c.includes(De)&&c.push(De),typeof window<"u")for(const p of[Da,_o])c.includes(p)||c.push(p);return c.includes($n)||c.push($n),c}class Rc{constructor(){this.providerId="phone",this._delegate=new $s(ns(ke.A.auth()))}static credential(u,c){return $s.credential(u,c)}verifyPhoneNumber(u,c){return this._delegate.verifyPhoneNumber(u,c)}unwrap(){return this._delegate}}Rc.PHONE_SIGN_IN_METHOD=$s.PHONE_SIGN_IN_METHOD,Rc.PROVIDER_ID=$s.PROVIDER_ID;const Ef=Q;class xc{constructor(u,c,p=ke.A.app()){var _;Ef(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new fc(p.auth(),u,c),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dw(h){h.INTERNAL.registerComponent(new Ce.uA("auth-compat",u=>{const c=u.getProvider("app-compat").getImmediate(),p=u.getProvider("auth");return new wf(c,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Zg,FacebookAuthProvider:Rl,GithubAuthProvider:Jg,GoogleAuthProvider:Xg,OAuthProvider:$o,SAMLAuthProvider:qu,PhoneAuthProvider:Rc,PhoneMultiFactorGenerator:pr,RecaptchaVerifier:xc,TwitterAuthProvider:go,Auth:wf,AuthCredential:_e,Error:V.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),h.registerVersion("@firebase/auth-compat","0.5.6")}(ke.A)},467:(ao,Bn,Ve)=>{function b(re,V,Yt,vt,Ce,jn,lt){try{var Y=re[jn](lt),Z=Y.value}catch(ye){return void Yt(ye)}Y.done?V(Z):Promise.resolve(Z).then(vt,Ce)}function ke(re){return function(){var V=this,Yt=arguments;return new Promise(function(vt,Ce){var jn=re.apply(V,Yt);function lt(Z){b(jn,vt,Ce,lt,Y,"next",Z)}function Y(Z){b(jn,vt,Ce,lt,Y,"throw",Z)}lt(void 0)})}}Ve.d(Bn,{A:()=>ke})},635:(ao,Bn,Ve)=>{function V(F,L){var G={};for(var W in F)Object.prototype.hasOwnProperty.call(F,W)&&L.indexOf(W)<0&&(G[W]=F[W]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for(W=Object.getOwnPropertySymbols(F);ne<W.length;ne++)L.indexOf(W[ne])<0&&Object.prototype.propertyIsEnumerable.call(F,W[ne])&&(G[W[ne]]=F[W[ne]])}return G}function ye(F,L,G,W){return new(G||(G=Promise))(function(K,de){function nt(Ze){try{Se(W.next(Ze))}catch(nn){de(nn)}}function _n(Ze){try{Se(W.throw(Ze))}catch(nn){de(nn)}}function Se(Ze){Ze.done?K(Ze.value):function ne(K){return K instanceof G?K:new G(function(de){de(K)})}(Ze.value).then(nt,_n)}Se((W=W.apply(F,L||[])).next())})}function xt(F){return this instanceof xt?(this.v=F,this):new xt(F)}function pt(F,L,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,W=G.apply(F,L||[]),K=[];return ne={},de("next"),de("throw"),de("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function de(Ae){W[Ae]&&(ne[Ae]=function(Mn){return new Promise(function(Kn,cn){K.push([Ae,Mn,Kn,cn])>1||nt(Ae,Mn)})})}function nt(Ae,Mn){try{!function _n(Ae){Ae.value instanceof xt?Promise.resolve(Ae.value.v).then(Se,Ze):nn(K[0][2],Ae)}(W[Ae](Mn))}catch(Kn){nn(K[0][3],Kn)}}function Se(Ae){nt("next",Ae)}function Ze(Ae){nt("throw",Ae)}function nn(Ae,Mn){Ae(Mn),K.shift(),K.length&&nt(K[0][0],K[0][1])}}function ur(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,L=F[Symbol.asyncIterator];return L?L.call(F):(F=function ft(F){var L="function"==typeof Symbol&&Symbol.iterator,G=L&&F[L],W=0;if(G)return G.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&W>=F.length&&(F=void 0),{value:F&&F[W++],done:!F}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")}(F),G={},W("next"),W("throw"),W("return"),G[Symbol.asyncIterator]=function(){return this},G);function W(K){G[K]=F[K]&&function(de){return new Promise(function(nt,_n){!function ne(K,de,nt,_n){Promise.resolve(_n).then(function(Se){K({value:Se,done:nt})},de)}(nt,_n,(de=F[K](de)).done,de.value)})}}}Ve.d(Bn,{AQ:()=>pt,N3:()=>xt,Tt:()=>V,sH:()=>ye,xN:()=>ur}),"function"==typeof SuppressedError&&SuppressedError}},ao=>{ao(ao.s=329)}]);