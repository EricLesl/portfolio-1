"use strict";(self.webpackChunkLily_Tweddle_Portfolio=self.webpackChunkLily_Tweddle_Portfolio||[]).push([[792],{76:(is,Vn,Fe)=>{Fe.d(Vn,{$L:()=>fn,$g:()=>Ns,A4:()=>Z,Am:()=>xs,As:()=>be,Bd:()=>Q,Cv:()=>Sn,FA:()=>K,Fy:()=>sr,HN:()=>Li,Hk:()=>re,I9:()=>Qr,Im:()=>xr,K3:()=>mt,KA:()=>Un,Ku:()=>ks,Ll:()=>qt,OE:()=>An,T9:()=>Nt,Uj:()=>ot,XA:()=>ht,ZQ:()=>Ee,bD:()=>bo,cY:()=>at,dI:()=>Fi,eX:()=>L,g:()=>ne,gR:()=>on,gz:()=>Zr,hp:()=>Do,jZ:()=>Xt,kH:()=>Io,kj:()=>qn,lT:()=>ki,lV:()=>Dn,oD:()=>Os,od:()=>Ps,qc:()=>Gn,sr:()=>hn,tD:()=>Xr,u:()=>Y,vA:()=>Pe,yw:()=>Ct,zW:()=>F,zw:()=>ve});const b={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Pe=function(T,S){if(!T)throw re(S)},re=function(T){return new Error("Firebase Database ("+b.SDK_VERSION+") INTERNAL ASSERT FAILED: "+T)},V=function(T){const S=[];let N=0;for(let q=0;q<T.length;q++){let P=T.charCodeAt(q);P<128?S[N++]=P:P<2048?(S[N++]=P>>6|192,S[N++]=63&P|128):55296==(64512&P)&&q+1<T.length&&56320==(64512&T.charCodeAt(q+1))?(P=65536+((1023&P)<<10)+(1023&T.charCodeAt(++q)),S[N++]=P>>18|240,S[N++]=P>>12&63|128,S[N++]=P>>6&63|128,S[N++]=63&P|128):(S[N++]=P>>12|224,S[N++]=P>>6&63|128,S[N++]=63&P|128)}return S},mt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(T,S){if(!Array.isArray(T))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=S?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let P=0;P<T.length;P+=3){const he=T[P],fe=P+1<T.length,Ne=fe?T[P+1]:0,It=P+2<T.length,we=It?T[P+2]:0;let $=(15&Ne)<<2|we>>6,_r=63&we;It||(_r=64,fe||($=64)),q.push(N[he>>2],N[(3&he)<<4|Ne>>4],N[$],N[_r])}return q.join("")},encodeString(T,S){return this.HAS_NATIVE_SUPPORT&&!S?btoa(T):this.encodeByteArray(V(T),S)},decodeString(T,S){return this.HAS_NATIVE_SUPPORT&&!S?atob(T):function(T){const S=[];let N=0,q=0;for(;N<T.length;){const P=T[N++];if(P<128)S[q++]=String.fromCharCode(P);else if(P>191&&P<224){const he=T[N++];S[q++]=String.fromCharCode((31&P)<<6|63&he)}else if(P>239&&P<365){const It=((7&P)<<18|(63&T[N++])<<12|(63&T[N++])<<6|63&T[N++])-65536;S[q++]=String.fromCharCode(55296+(It>>10)),S[q++]=String.fromCharCode(56320+(1023&It))}else{const he=T[N++],fe=T[N++];S[q++]=String.fromCharCode((15&P)<<12|(63&he)<<6|63&fe)}}return S.join("")}(this.decodeStringToByteArray(T,S))},decodeStringToByteArray(T,S){this.init_();const N=S?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let P=0;P<T.length;){const he=N[T.charAt(P++)],Ne=P<T.length?N[T.charAt(P)]:0;++P;const we=P<T.length?N[T.charAt(P)]:64;++P;const He=P<T.length?N[T.charAt(P)]:64;if(++P,null==he||null==Ne||null==we||null==He)throw new ye;q.push(he<<2|Ne>>4),64!==we&&(q.push(Ne<<4&240|we>>2),64!==He&&q.push(we<<6&192|He))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let T=0;T<this.ENCODED_VALS.length;T++)this.byteToCharMap_[T]=this.ENCODED_VALS.charAt(T),this.charToByteMap_[this.byteToCharMap_[T]]=T,this.byteToCharMapWebSafe_[T]=this.ENCODED_VALS_WEBSAFE.charAt(T),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[T]]=T,T>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(T)]=T,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(T)]=T)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Un=function(T){const S=V(T);return mt.encodeByteArray(S,!0)},ot=function(T){return Un(T).replace(/\./g,"")},Y=function(T){try{return mt.decodeString(T,!0)}catch(S){console.error("base64Decode failed: ",S)}return null};function Z(T){return ve(void 0,T)}function ve(T,S){if(!(S instanceof Object))return S;switch(S.constructor){case Date:return new Date(S.getTime());case Object:void 0===T&&(T={});break;case Array:T=[];break;default:return S}for(const N in S)!S.hasOwnProperty(N)||!Ge(N)||(T[N]=ve(T[N],S[N]));return T}function Ge(T){return"__proto__"!==T}const qe=()=>{try{return function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const T=process.env.__FIREBASE_DEFAULTS__;return T?JSON.parse(T):void 0})()||(()=>{if(typeof document>"u")return;let T;try{T=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const S=T&&Y(T[1]);return S&&JSON.parse(S)})()}catch(T){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${T}`)}},Nt=()=>{var T;return null===(T=qe())||void 0===T?void 0:T.config},ht=T=>{var S;return null===(S=qe())||void 0===S?void 0:S[`_${T}`]};class at{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((S,N)=>{this.resolve=S,this.reject=N})}wrapCallback(S){return(N,q)=>{N?this.reject(N):this.resolve(q),"function"==typeof S&&(this.promise.catch(()=>{}),1===S.length?S(N):S(N,q))}}}function sr(T,S){if(T.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=S||"demo-project",P=T.iat||0,he=T.sub||T.user_id;if(!he)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const fe=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:P,exp:P+3600,auth_time:P,sub:he,user_id:he,firebase:{sign_in_provider:"custom",identities:{}}},T);return[ot(JSON.stringify({alg:"none",type:"JWT"})),ot(JSON.stringify(fe)),""].join(".")}function Ee(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function qt(){var T;const S=null===(T=qe())||void 0===T?void 0:T.forceEnvironment;if("node"===S)return!0;if("browser"===S)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Q(){return"object"==typeof self&&self.self===self}function hn(){const T="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof T&&void 0!==T.id}function Dn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ki(){const T=Ee();return T.indexOf("MSIE ")>=0||T.indexOf("Trident/")>=0}function Ns(){return!0===b.NODE_CLIENT||!0===b.NODE_ADMIN}function F(){try{return"object"==typeof indexedDB}catch{return!1}}function L(){return new Promise((T,S)=>{try{let N=!0;const q="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(q);P.onsuccess=()=>{P.result.close(),N||self.indexedDB.deleteDatabase(q),T(!0)},P.onupgradeneeded=()=>{N=!1},P.onerror=()=>{var he;S((null===(he=P.error)||void 0===he?void 0:he.message)||"")}}catch(N){S(N)}})}class ne extends Error{constructor(S,N,q){super(N),this.code=S,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}}class K{constructor(S,N,q){this.service=S,this.serviceName=N,this.errors=q}create(S,...N){const q=N[0]||{},P=`${this.service}/${S}`,he=this.errors[S],fe=he?function de(T,S){return T.replace(Je,(N,q)=>{const P=S[q];return null!=P?String(P):`<${q}?>`})}(he,q):"Error";return new ne(P,`${this.serviceName}: ${fe} (${P}).`,q)}}const Je=/\{\$([^}]+)}/g;function fn(T){return JSON.parse(T)}function be(T){return JSON.stringify(T)}const Ke=function(T){let S={},N={},q={},P="";try{const he=T.split(".");S=fn(Y(he[0])||""),N=fn(Y(he[1])||""),P=he[2],q=N.d||{},delete N.d}catch{}return{header:S,claims:N,data:q,signature:P}},Sn=function(T){const N=Ke(T).claims;return!!N&&"object"==typeof N&&N.hasOwnProperty("iat")},Gn=function(T){const S=Ke(T).claims;return"object"==typeof S&&!0===S.admin};function on(T,S){return Object.prototype.hasOwnProperty.call(T,S)}function Ct(T,S){if(Object.prototype.hasOwnProperty.call(T,S))return T[S]}function xr(T){for(const S in T)if(Object.prototype.hasOwnProperty.call(T,S))return!1;return!0}function Io(T,S,N){const q={};for(const P in T)Object.prototype.hasOwnProperty.call(T,P)&&(q[P]=S.call(N,T[P],P,T));return q}function bo(T,S){if(T===S)return!0;const N=Object.keys(T),q=Object.keys(S);for(const P of N){if(!q.includes(P))return!1;const he=T[P],fe=S[P];if(gr(he)&&gr(fe)){if(!bo(he,fe))return!1}else if(he!==fe)return!1}for(const P of q)if(!N.includes(P))return!1;return!0}function gr(T){return null!==T&&"object"==typeof T}function xs(T){const S=[];for(const[N,q]of Object.entries(T))Array.isArray(q)?q.forEach(P=>{S.push(encodeURIComponent(N)+"="+encodeURIComponent(P))}):S.push(encodeURIComponent(N)+"="+encodeURIComponent(q));return S.length?"&"+S.join("&"):""}function Qr(T){const S={};return T.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[P,he]=q.split("=");S[decodeURIComponent(P)]=decodeURIComponent(he)}}),S}function Do(T){const S=T.indexOf("?");if(!S)return"";const N=T.indexOf("#",S);return T.substring(S,N>0?N:void 0)}class Zr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let S=1;S<this.blockSize;++S)this.pad_[S]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(S,N){N||(N=0);const q=this.W_;if("string"==typeof S)for(let He=0;He<16;He++)q[He]=S.charCodeAt(N)<<24|S.charCodeAt(N+1)<<16|S.charCodeAt(N+2)<<8|S.charCodeAt(N+3),N+=4;else for(let He=0;He<16;He++)q[He]=S[N]<<24|S[N+1]<<16|S[N+2]<<8|S[N+3],N+=4;for(let He=16;He<80;He++){const $=q[He-3]^q[He-8]^q[He-14]^q[He-16];q[He]=4294967295&($<<1|$>>>31)}let we,jn,P=this.chain_[0],he=this.chain_[1],fe=this.chain_[2],Ne=this.chain_[3],It=this.chain_[4];for(let He=0;He<80;He++){He<40?He<20?(we=Ne^he&(fe^Ne),jn=1518500249):(we=he^fe^Ne,jn=1859775393):He<60?(we=he&fe|Ne&(he|fe),jn=2400959708):(we=he^fe^Ne,jn=3395469782);const $=(P<<5|P>>>27)+we+It+jn+q[He]&4294967295;It=Ne,Ne=fe,fe=4294967295&(he<<30|he>>>2),he=P,P=$}this.chain_[0]=this.chain_[0]+P&4294967295,this.chain_[1]=this.chain_[1]+he&4294967295,this.chain_[2]=this.chain_[2]+fe&4294967295,this.chain_[3]=this.chain_[3]+Ne&4294967295,this.chain_[4]=this.chain_[4]+It&4294967295}update(S,N){if(null==S)return;void 0===N&&(N=S.length);const q=N-this.blockSize;let P=0;const he=this.buf_;let fe=this.inbuf_;for(;P<N;){if(0===fe)for(;P<=q;)this.compress_(S,P),P+=this.blockSize;if("string"==typeof S){for(;P<N;)if(he[fe]=S.charCodeAt(P),++fe,++P,fe===this.blockSize){this.compress_(he),fe=0;break}}else for(;P<N;)if(he[fe]=S[P],++fe,++P,fe===this.blockSize){this.compress_(he),fe=0;break}}this.inbuf_=fe,this.total_+=N}digest(){const S=[];let N=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let P=this.blockSize-1;P>=56;P--)this.buf_[P]=255&N,N/=256;this.compress_(this.buf_);let q=0;for(let P=0;P<5;P++)for(let he=24;he>=0;he-=8)S[q]=this.chain_[P]>>he&255,++q;return S}}function Xr(T,S){const N=new Pr(T,S);return N.subscribe.bind(N)}class Pr{constructor(S,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{S(this)}).catch(q=>{this.error(q)})}next(S){this.forEachObserver(N=>{N.next(S)})}error(S){this.forEachObserver(N=>{N.error(S)}),this.close(S)}complete(){this.forEachObserver(S=>{S.complete()}),this.close()}subscribe(S,N,q){let P;if(void 0===S&&void 0===N&&void 0===q)throw new Error("Missing Observer.");P=function Jr(T,S){if("object"!=typeof T||null===T)return!1;for(const N of S)if(N in T&&"function"==typeof T[N])return!0;return!1}(S,["next","error","complete"])?S:{next:S,error:N,complete:q},void 0===P.next&&(P.next=ss),void 0===P.error&&(P.error=ss),void 0===P.complete&&(P.complete=ss);const he=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),he}unsubscribeOne(S){void 0===this.observers||void 0===this.observers[S]||(delete this.observers[S],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(S){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,S)}sendOne(S,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[S])try{N(this.observers[S])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(S){this.finalized||(this.finalized=!0,void 0!==S&&(this.finalError=S),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ss(){}const Ps=function(T,S,N,q){let P;if(q<S?P="at least "+S:q>N&&(P=0===N?"none":"no more than "+N),P)throw new Error(T+" failed: Was called with "+q+(1===q?" argument.":" arguments.")+" Expects "+P+".")};function Fi(T,S){return`${T} failed: ${S} argument `}function Os(T,S,N,q){if((!q||N)&&"function"!=typeof N)throw new Error(Fi(T,S)+"must be a valid function.")}function Li(T,S,N,q){if((!q||N)&&("object"!=typeof N||null===N))throw new Error(Fi(T,S)+"must be a valid context object.")}const qn=function(T){const S=[];let N=0;for(let q=0;q<T.length;q++){let P=T.charCodeAt(q);if(P>=55296&&P<=56319){const he=P-55296;q++,Pe(q<T.length,"Surrogate pair missing trail surrogate."),P=65536+(he<<10)+(T.charCodeAt(q)-56320)}P<128?S[N++]=P:P<2048?(S[N++]=P>>6|192,S[N++]=63&P|128):P<65536?(S[N++]=P>>12|224,S[N++]=P>>6&63|128,S[N++]=63&P|128):(S[N++]=P>>18|240,S[N++]=P>>12&63|128,S[N++]=P>>6&63|128,S[N++]=63&P|128)}return S},An=function(T){let S=0;for(let N=0;N<T.length;N++){const q=T.charCodeAt(N);q<128?S++:q<2048?S+=2:q>=55296&&q<=56319?(S+=4,N++):S+=3}return S};function ks(T){return T&&T._delegate?T._delegate:T}},427:(is,Vn,Fe)=>{var b=Fe(467);let re=null,Gt=1;const mt=Symbol("SIGNAL");function ye(e){const t=re;return re=e,t}function nt(e){if((!sr(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Gt)){if(!e.producerMustRecompute(e)&&!Bn(e))return e.dirty=!1,void(e.lastCleanEpoch=Gt);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Gt}}function Bn(e){Ee(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(nt(n),r!==n.version))return!0}return!1}function at(e,t){if(function Xt(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Ee(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)at(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Ee(i),i.producerIndexOfThis[r]=t}}function sr(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ee(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let pr=null;function Se(e){return"function"==typeof e}function Sn(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Gn=Sn(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function on(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Ct{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Se(r))try{r()}catch(s){t=s instanceof Gn?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{bo(s)}catch(o){t=t??[],o instanceof Gn?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Gn(t)}}add(t){var n;if(t&&t!==this)if(this.closed)bo(t);else{if(t instanceof Ct){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&on(n,t)}remove(t){const{_finalizers:n}=this;n&&on(n,t),t instanceof Ct&&t._removeParent(this)}}Ct.EMPTY=(()=>{const e=new Ct;return e.closed=!0,e})();const xr=Ct.EMPTY;function Io(e){return e instanceof Ct||e&&"closed"in e&&Se(e.remove)&&Se(e.add)&&Se(e.unsubscribe)}function bo(e){Se(e)?e():e.unsubscribe()}const gr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Rs={setTimeout(e,t,...n){const{delegate:r}=Rs;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Rs;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function xs(e){Rs.setTimeout(()=>{const{onUnhandledError:t}=gr;if(!t)throw e;t(e)})}function Qr(){}const Do=Pr("C",void 0,void 0);function Pr(e,t,n){return{kind:e,value:t,error:n}}let mr=null;function Jr(e){if(gr.useDeprecatedSynchronousErrorHandling){const t=!mr;if(t&&(mr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=mr;if(mr=null,n)throw r}}else e()}class Ps extends Ct{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Io(t)&&t.add(this)):this.destination=yl}static create(t,n,r){return new Li(t,n,r)}next(t){this.isStopped?So(function Xr(e){return Pr("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?So(function Zr(e){return Pr("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?So(Do,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fi=Function.prototype.bind;function os(e,t){return Fi.call(e,t)}class Os{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){qn(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){qn(r)}else qn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){qn(n)}}}class Li extends Ps{constructor(t,n,r){let i;if(super(),Se(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&gr.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&os(t.next,s),error:t.error&&os(t.error,s),complete:t.complete&&os(t.complete,s)}):i=t}this.destination=new Os(i)}}function qn(e){gr.useDeprecatedSynchronousErrorHandling?function ss(e){gr.useDeprecatedSynchronousErrorHandling&&mr&&(mr.errorThrown=!0,mr.error=e)}(e):xs(e)}function So(e,t){const{onStoppedNotification:n}=gr;n&&Rs.setTimeout(()=>n(e,t))}const yl={closed:!0,next:Qr,error:function An(e){throw e},complete:Qr},as="function"==typeof Symbol&&Symbol.observable||"@@observable";function Tn(e){return e}function Cl(e){return 0===e.length?Tn:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let At=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function T(e){return e&&e instanceof Ps||function ks(e){return e&&Se(e.next)&&Se(e.error)&&Se(e.complete)}(e)&&Io(e)}(n)?n:new Li(n,r,i);return Jr(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=To(r))((i,s)=>{const o=new Li({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[as](){return this}pipe(...n){return Cl(n)(this)}toPromise(n){return new(n=To(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function To(e){var t;return null!==(t=e??gr.Promise)&&void 0!==t?t:Promise}const S=Sn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let N=(()=>{class e extends At{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new q(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new S}next(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?xr:(this.currentObservers=null,s.push(n),new Ct(()=>{this.currentObservers=null,on(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new At;return n.source=this,n}}return e.create=(t,n)=>new q(t,n),e})();class q extends N{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:xr}}class P extends N{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function he(e){return Se(e?.lift)}function fe(e){return t=>{if(he(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ne(e,t,n,r,i){return new It(e,t,n,r,i)}class It extends Ps{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function we(e,t){return fe((n,r)=>{let i=0;n.subscribe(Ne(r,s=>{r.next(e.call(t,s,i++))}))})}class $ extends Error{constructor(t,n){super(function _r(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Or(e){return{toString:e}.toString()}const k="__parameters__";function De(e,t,n){return Or(()=>{const r=function ce(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,d,f){const g=l.hasOwnProperty(k)?l[k]:Object.defineProperty(l,k,{value:[]})[k];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const ge=globalThis;function Ve(e){for(let t in e)if(e[t]===Ve)return t;throw Error("Could not find renamed property on target object.")}function Mo(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function an(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(an).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function rh(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Mg=Ve({__forward_ref__:Ve});function ft(e){return e.__forward_ref__=ft,e.toString=function(){return an(this())},e}function Te(e){return ga(e)?e():e}function ga(e){return"function"==typeof e&&e.hasOwnProperty(Mg)&&e.__forward_ref__===ft}function me(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vr(e){return{providers:e.providers||[],imports:e.imports||[]}}function ku(e){return Pg(e,ma)||Pg(e,Lu)}function Pg(e,t){return e.hasOwnProperty(t)?e[t]:null}function Fu(e){return e&&(e.hasOwnProperty(oh)||e.hasOwnProperty(Vu))?e[oh]:null}const ma=Ve({\u0275prov:Ve}),oh=Ve({\u0275inj:Ve}),Lu=Ve({ngInjectableDef:Ve}),Vu=Ve({ngInjectorDef:Ve});class ue{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=me({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function lh(e){return e&&!!e.\u0275providers}const No=Ve({\u0275cmp:Ve}),Ro=Ve({\u0275dir:Ve}),pi=Ve({\u0275pipe:Ve}),Uu=Ve({\u0275mod:Ve}),cs=Ve({\u0275fac:Ve}),yr=Ve({__NG_ELEMENT_ID__:Ve}),Lg=Ve({__NG_ENV_ID__:Ve});function lt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function Oe(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Dl(e,t){throw new $(-201,!1)}var Ue=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ue||{});let ch;function Ug(){return ch}function Mn(e){const t=ch;return ch=e,t}function oC(e,t,n){const r=ku(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ue.Optional?null:void 0!==t?t:void Dl()}const Vi={},Us="__NG_DI_FLAG__",Sl="ngTempTokenPath",Hg=/\n/gm,xo="__source";let _a;function ds(e){const t=_a;return _a=e,t}function $g(e,t=Ue.Default){if(void 0===_a)throw new $(-203,!1);return null===_a?oC(e,void 0,t):_a.get(e,t&Ue.Optional?null:void 0,t)}function le(e,t=Ue.Default){return(Ug()||$g)(Te(e),t)}function X(e,t=Ue.Default){return le(e,ju(t))}function ju(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Al(e){const t=[];for(let n=0;n<e.length;n++){const r=Te(e[n]);if(Array.isArray(r)){if(0===r.length)throw new $(900,!1);let i,s=Ue.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Wg(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(le(i,s))}else t.push(le(r))}return t}function Bs(e,t){return e[Us]=t,e.prototype[Us]=t,e}function Wg(e){return e[Us]}const Po=Bs(De("Optional"),8),Oo=Bs(De("SkipSelf"),4);function js(e,t){return e.hasOwnProperty(cs)?e[cs]:null}function Hs(e,t){e.forEach(n=>Array.isArray(n)?Hs(n,t):t(n))}function Tl(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function va(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ar(e,t,n){let r=$s(e,t);return r>=0?e[1|r]=n:(r=~r,function Hu(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function gh(e,t){const n=$s(e,t);if(n>=0)return e[1|n]}function $s(e,t){return function Wu(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<n];if(t===o)return s<<n;o>t?i=s:r=s+1}return~(i<<n)}(e,t,1)}const ei={},et=[],hs=new ue(""),zu=new ue("",-1),mh=new ue("");class ya{get(t,n=Vi){if(n===Vi){const r=new Error(`NullInjectorError: No provider for ${an(t)}!`);throw r.name="NullInjectorError",r}return n}}var Gu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Gu||{}),Vr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Vr||{}),Rt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Rt||{});function _h(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}function qu(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{const s=i,o=n[++r];Gg(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function Ku(e){return 3===e||4===e||6===e}function Gg(e){return 64===e.charCodeAt(0)}function ko(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||qg(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function qg(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const Yu="ng-template";function cC(e,t,n,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==_h(t[i+1].toLowerCase(),n,0))return!0}else if(vh(e))return!1;if(i=t.indexOf(1,i),i>-1){let s;for(;++i<t.length&&"string"==typeof(s=t[i]);)if(s.toLowerCase()===n)return!0}return!1}function vh(e){return 4===e.type&&e.value!==Yu}function yh(e,t,n){return t===(4!==e.type||n?e.value:Yu)}function dC(e,t,n){let r=4;const i=e.attrs,s=null!==i?function hC(e){for(let t=0;t<e.length;t++)if(Ku(e[t]))return t;return e.length}(i):0;let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!yh(e,l,n)||""===l&&1===t.length){if(gi(r))return!1;o=!0}}else if(8&r){if(null===i||!cC(e,i,l,n)){if(gi(r))return!1;o=!0}}else{const d=t[++a],f=Ch(l,i,vh(e),n);if(-1===f){if(gi(r))return!1;o=!0;continue}if(""!==d){let g;if(g=f>s?"":i[f+1].toLowerCase(),2&r&&d!==g){if(gi(r))return!1;o=!0}}}}else{if(!o&&!gi(r)&&!gi(l))return!1;if(o&&gi(l))continue;o=!1,r=l|1&r}}return gi(r)||o}function gi(e){return!(1&e)}function Ch(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Eh(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Kg(e,t,n=!1){for(let r=0;r<t.length;r++)if(dC(e,t[r],n))return!0;return!1}function Qu(e,t){return e?":not("+t.trim()+")":t}function pC(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!gi(o)&&(t+=Qu(s,i),i=""),r=o,s=s||!gi(r);n++}return""!==i&&(t+=Qu(s,i)),t}function Fo(e){return Or(()=>{const t=Qg(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Gu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Vr.Emulated,styles:e.styles||et,_:null,schemas:e.schemas||null,tView:null,id:""};Zg(n);const r=e.dependencies;return n.directiveDefs=Zu(r,!1),n.pipeDefs=Zu(r,!0),n.id=function uS(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function mC(e){return We(e)||Ft(e)}function bh(e){return null!==e}function mi(e){return Or(()=>({type:e.type,bootstrap:e.bootstrap||et,declarations:e.declarations||et,imports:e.imports||et,exports:e.exports||et,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Yg(e,t){if(null==e)return ei;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let s,o,a=Rt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),t?(n[s]=a!==Rt.None?[r,a]:r,t[s]=o):n[s]=r}return n}function Re(e){return Or(()=>{const t=Qg(e);return Zg(t),t})}function Kn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function We(e){return e[No]||null}function Ft(e){return e[Ro]||null}function Nn(e){return e[pi]||null}function Yn(e,t){const n=e[Uu]||null;if(!n&&!0===t)throw new Error(`Type ${an(e)} does not have '\u0275mod' property.`);return n}function Qg(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ei,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||et,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yg(e.inputs,t),outputs:Yg(e.outputs),debugInfo:null}}function Zg(e){e.features?.forEach(t=>t(e))}function Zu(e,t){if(!e)return null;const n=t?Nn:mC;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(bh)}function Sh(...e){return{\u0275providers:Ah(0,e),\u0275fromNgModule:!0}}function Ah(e,...t){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Hs(t,o=>{const a=o;Th(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Xg(i,s),n}function Xg(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Jg(i,s=>{t(s,r)})}}function Th(e,t,n,r){if(!(e=Te(e)))return!1;let i=null,s=Fu(e);const o=!s&&We(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=Fu(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const d of l)Th(d,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let d;r.add(i);try{Hs(s.imports,f=>{Th(f,t,n,r)&&(d||=[],d.push(f))})}finally{}void 0!==d&&Xg(d,t)}if(!a){const d=js(i)||(()=>new i);t({provide:i,useFactory:d,deps:et},i),t({provide:mh,useValue:i,multi:!0},i),t({provide:hs,useValue:()=>le(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const d=e;Jg(l,f=>{t(f,d)})}}}return i!==e&&void 0!==e.providers}function Jg(e,t){for(let n of e)lh(n)&&(n=n.\u0275providers),Array.isArray(n)?Jg(n,t):t(n)}const cS=Ve({provide:String,useValue:Ve});function em(e){return null!==e&&"object"==typeof e&&cS in e}function Ur(e){return"function"==typeof e}const Nh=new ue(""),Ju={},vC={};let tm;function ec(){return void 0===tm&&(tm=new ya),tm}class Br{}class zs extends Br{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wa(t,o=>this.processProvider(o)),this.records.set(zu,Ca(void 0,this)),i.has("environment")&&this.records.set(Br,Ca(void 0,this));const s=this.records.get(Nh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(mh,et,Ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=ye(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ds(this),r=Mn(void 0);try{return t()}finally{ds(n),Mn(r)}}get(t,n=Vi,r=Ue.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Lg))return t[Lg](this);r=ju(r);const s=ds(this),o=Mn(void 0);try{if(!(r&Ue.SkipSelf)){let l=this.records.get(t);if(void 0===l){const d=function dS(e){return"function"==typeof e||"object"==typeof e&&e instanceof ue}(t)&&ku(t);l=d&&this.injectableDefInScope(d)?Ca(Rl(t),Ju):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&Ue.Self?ec():this.parent).get(t,n=r&Ue.Optional&&n===Vi?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Sl]=a[Sl]||[]).unshift(an(t)),s)throw a;return function zg(e,t,n,r){const i=e[Sl];throw t[xo]&&i.unshift(t[xo]),e.message=function lC(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=an(t);if(Array.isArray(t))i=t.map(an).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):an(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Hg,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Sl]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Mn(o),ds(s)}}resolveInjectorInitializers(){const t=ye(null),n=ds(this),r=Mn(void 0);try{const s=this.get(hs,et,Ue.Self);for(const o of s)o()}finally{ds(n),Mn(r),ye(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(an(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(t){let n=Ur(t=Te(t))?t:Te(t&&t.provide);const r=function tc(e){return em(e)?Ca(void 0,e.useValue):Ca(Rh(e),Ju)}(t);if(!Ur(t)&&!0===t.multi){let i=this.records.get(n);i||(i=Ca(void 0,Ju,!0),i.factory=()=>Al(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=ye(null);try{return n.value===Ju&&(n.value=vC,n.value=n.factory()),"object"==typeof n.value&&n.value&&function wC(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Te(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Rl(e){const t=ku(e),n=null!==t?t.factory:js(e);if(null!==n)return n;if(e instanceof ue)throw new $(204,!1);if(e instanceof Function)return function yC(e){if(e.length>0)throw new $(204,!1);const n=function sh(e){return e&&(e[ma]||e[Lu])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new $(204,!1)}function Rh(e,t,n){let r;if(Ur(e)){const i=Te(e);return js(i)||Rl(i)}if(em(e))r=()=>Te(e.useValue);else if(function Xu(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Al(e.deps||[]));else if(function _C(e){return!(!e||!e.useExisting)}(e))r=()=>le(Te(e.useExisting));else{const i=Te(e&&(e.useClass||e.provide));if(!function CC(e){return!!e.deps}(e))return js(i)||Rl(i);r=()=>new i(...Al(e.deps))}return r}function Ca(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function wa(e,t){for(const n of e)Array.isArray(n)?wa(n,t):n&&lh(n)?wa(n.\u0275providers,t):t(n)}function Gs(e,t){e instanceof zs&&e.assertNotDestroyed();const r=ds(e),i=Mn(void 0);try{return t()}finally{ds(r),Mn(i)}}function fs(){return void 0!==Ug()||null!=function Bu(){return _a}()}const bt=0,te=1,Ce=2,en=3,jr=4,Qn=5,lr=6,Lo=7,Tt=8,Hn=9,Ui=10,Ie=11,Ol=12,im=13,Ia=14,Qt=15,kl=16,ps=17,gs=18,Fl=19,sm=20,Bi=21,sc=22,Vo=23,ke=25,Oh=1,ji=7,Da=9,Zt=10;var kh=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(kh||{});function Rn(e){return Array.isArray(e)&&"object"==typeof e[Oh]}function Zn(e){return Array.isArray(e)&&!0===e[Oh]}function Ll(e){return!!(4&e.flags)}function Uo(e){return e.componentOffset>-1}function Sa(e){return!(1&~e.flags)}function Cr(e){return!!e.template}function Vl(e){return!!(512&e[Ce])}class Uh{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function pm(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function wr(){return Bh}function Bh(e){return e.type.prototype.ngOnChanges&&(e.setInput=TC),gm}function gm(){const e=ac(this),t=e?.current;if(t){const n=e.previous;if(n===ei)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function TC(e,t,n,r,i){const s=this.declaredInputs[r],o=ac(e)||function MC(e,t){return e[mm]=t}(e,{previous:ei,current:null}),a=o.current||(o.current={}),l=o.previous,d=l[s];a[s]=new Uh(d&&d.currentValue,n,l===ei),pm(e,t,i,n)}wr.ngInherit=!0;const mm="__ngSimpleChanges__";function ac(e){return e[mm]||null}const Hi=function(e,t,n){};let vm=!1;function pt(e){for(;Array.isArray(e);)e=e[bt];return e}function ur(e,t){return pt(t[e.index])}function Ta(e,t){return e.data[t]}function Hr(e,t){const n=t[e];return Rn(n)?n:n[bt]}function Ul(e){return!(128&~e[Ce])}function $i(e,t){return null==t?null:e[t]}function wm(e){e[ps]=0}function zh(e){1024&e[Ce]||(e[Ce]|=1024,Ul(e)&&Bl(e))}function Gh(e){return!!(9216&e[Ce]||e[Vo]?.dirty)}function cc(e){e[Ui].changeDetectionScheduler?.notify(1),Gh(e)?Bl(e):64&e[Ce]&&(function $h(){return vm}()?(e[Ce]|=1024,Bl(e)):e[Ui].changeDetectionScheduler?.notify())}function Bl(e){e[Ui].changeDetectionScheduler?.notify();let t=Wo(e);for(;null!==t&&!(8192&t[Ce])&&(t[Ce]|=8192,Ul(t));)t=Wo(t)}function $o(e,t){if(!(256&~e[Ce]))throw new $(911,!1);null===e[Bi]&&(e[Bi]=[]),e[Bi].push(t)}function Wo(e){const t=e[en];return Zn(t)?t[en]:t}const xe={lFrame:Am(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dc(){return xe.bindingsEnabled}function j(){return xe.lFrame.lView}function Qe(){return xe.lFrame.tView}function _i(e){return xe.lFrame.contextLView=e,e[Tt]}function vi(e){return xe.lFrame.contextLView=null,e}function _t(){let e=hc();for(;null!==e&&64===e.type;)e=e.parent;return e}function hc(){return xe.lFrame.currentTNode}function Wi(e,t){const n=xe.lFrame;n.currentTNode=e,n.isParent=t}function jl(){return xe.lFrame.isParent}function Kh(){xe.lFrame.isParent=!1}function cr(){const e=xe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ti(){return xe.lFrame.bindingIndex++}function UC(e,t){const n=xe.lFrame;n.bindingIndex=n.bindingRootIndex=e,Qh(t)}function Qh(e){xe.lFrame.currentDirectiveIndex=e}function Xh(){return xe.lFrame.currentQueryIndex}function Hl(e){xe.lFrame.currentQueryIndex=e}function jC(e){const t=e[te];return 2===t.type?t.declTNode:1===t.type?e[Qn]:null}function HC(e,t,n){if(n&Ue.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&Ue.Host||(i=jC(s),null===i||(s=s[Ia],10&i.type))););if(null===i)return!1;t=i,e=s}const r=xe.lFrame=Qs();return r.currentTNode=t,r.lView=e,!0}function Jh(e){const t=Qs(),n=e[te];xe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Qs(){const e=xe.lFrame,t=null===e?null:e.child;return null===t?Am(e):t}function Am(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Tm(){const e=xe.lFrame;return xe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const gc=Tm;function ef(){const e=Tm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Xn(){return xe.lFrame.selectedIndex}function Go(e){xe.lFrame.selectedIndex=e}function wt(){const e=xe.lFrame;return Ta(e.tView,e.selectedIndex)}let Nm=!0;function $l(){return Nm}function zi(e){Nm=e}function Na(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),d&&((e.viewHooks??=[]).push(n,d),(e.viewCheckHooks??=[]).push(n,d)),null!=f&&(e.destroyHooks??=[]).push(n,f)}}function mc(e,t,n){vc(e,t,3,n)}function _c(e,t,n,r){(3&e[Ce])===n&&vc(e,t,n,r)}function Wl(e,t){let n=e[Ce];(3&n)===t&&(n&=16383,n+=1,e[Ce]=n)}function vc(e,t,n,r){const s=r??-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&e[ps]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[ps]+=65536),(a<s||-1==s)&&(GC(e,n,t,l),e[ps]=(4294901760&e[ps])+l+2),l++}function xm(e,t){Hi(4,e,t);const n=ye(null);try{t.call(e)}finally{ye(n),Hi(5,e,t)}}function GC(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];i?e[Ce]>>14<e[ps]>>16&&(3&e[Ce])===t&&(e[Ce]+=16384,xm(a,s)):xm(a,s)}const ms=-1;class zl{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function qo(e){return e!==ms}function Gl(e){return 32767&e}function ql(e,t){let n=function Om(e){return e>>16}(e),r=t;for(;n>0;)r=r[Ia],n--;return r}let sf=!0;function yc(e){const t=sf;return sf=e,t}const af=255,Cc=5;let lf=0;const yi={};function Ra(e,t){const n=Er(e,t);if(-1!==n)return n;const r=t[te];r.firstCreatePass&&(e.injectorIndex=t.length,uf(r.data,e),uf(t,null),uf(r.blueprint,null));const i=Zs(e,t),s=e.injectorIndex;if(qo(i)){const o=Gl(i),a=ql(i,t),l=a[te].data;for(let d=0;d<8;d++)t[s+d]=a[o+d]|l[o+d]}return t[s+8]=i,s}function uf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Er(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Zs(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=hf(i),null===r)return ms;if(n++,i=i[Ia],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ms}function wc(e,t,n){!function QC(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(yr)&&(r=n[yr]),null==r&&(r=n[yr]=lf++);const i=r&af;t.data[e+(i>>Cc)]|=1<<i}(e,t,n)}function Ec(e,t,n){if(n&Ue.Optional||void 0!==e)return e;Dl()}function Ic(e,t,n,r){if(n&Ue.Optional&&void 0===r&&(r=null),!(n&(Ue.Self|Ue.Host))){const i=e[Hn],s=Mn(void 0);try{return i?i.get(t,r,n&Ue.Optional):oC(t,r,n&Ue.Optional)}finally{Mn(s)}}return Ec(r,0,n)}function km(e,t,n,r=Ue.Default,i){if(null!==e){if(2048&t[Ce]&&!(r&Ue.Self)){const o=function Kl(e,t,n,r,i){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[Ce]&&!(512&o[Ce]);){const a=cf(s,o,n,r|Ue.Self,yi);if(a!==yi)return a;let l=s.parent;if(!l){const d=o[sm];if(d){const f=d.get(n,yi,r);if(f!==yi)return f}l=hf(o),o=o[Ia]}s=l}return i}(e,t,n,r,yi);if(o!==yi)return o}const s=cf(e,t,n,r,yi);if(s!==yi)return s}return Ic(t,n,r,i)}function cf(e,t,n,r,i){const s=function JC(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(yr)?e[yr]:void 0;return"number"==typeof t?t>=0?t&af:df:t}(n);if("function"==typeof s){if(!HC(t,e,r))return r&Ue.Host?Ec(i,0,r):Ic(t,n,r,i);try{let o;if(o=s(r),null!=o||r&Ue.Optional)return o;Dl()}finally{gc()}}else if("number"==typeof s){let o=null,a=Er(e,t),l=ms,d=r&Ue.Host?t[Qt][Qn]:null;for((-1===a||r&Ue.SkipSelf)&&(l=-1===a?Zs(e,t):t[a+8],l!==ms&&Lm(r,!1)?(o=t[te],a=Gl(l),t=ql(l,t)):a=-1);-1!==a;){const f=t[te];if(Fm(s,a,f.data)){const g=XC(a,t,n,o,r,d);if(g!==yi)return g}l=t[a+8],l!==ms&&Lm(r,t[te].data[a+8]===d)&&Fm(s,a,t)?(o=f,a=Gl(l),t=ql(l,t)):a=-1}}return i}function XC(e,t,n,r,i,s){const o=t[te],a=o.data[e+8],f=Ci(a,o,n,null==r?Uo(a)&&sf:r!=o&&!!(3&a.type),i&Ue.Host&&s===a);return null!==f?Xs(t,o,f,a):yi}function Ci(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,f=s>>20,m=i?a+f:e.directiveEnd;for(let v=r?a:a+f;v<m;v++){const C=o[v];if(v<l&&n===C||v>=l&&C.type===n)return v}if(i){const v=o[l];if(v&&Cr(v)&&v.type===n)return l}return null}function Xs(e,t,n,r){let i=e[n];const s=t.data;if(function qC(e){return e instanceof zl}(i)){const o=i;o.resolving&&function uh(e,t){throw t&&t.join(" > "),new $(-200,e)}(lt(s[n]));const a=yc(o.canSeeViewProviders);o.resolving=!0;const d=o.injectImpl?Mn(o.injectImpl):null;HC(e,r,Ue.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Rm(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=Bh(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==d&&Mn(d),yc(a),o.resolving=!1,gc()}}return i}function Fm(e,t,n){return!!(n[t+(e>>Cc)]&1<<e)}function Lm(e,t){return!(e&Ue.Self||e&Ue.Host&&t)}class ln{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return km(this._tNode,this._lView,t,ju(r),n)}}function df(){return new ln(_t(),j())}function xn(e){return Or(()=>{const t=e.prototype.constructor,n=t[cs]||wi(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[cs]||wi(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function wi(e){return ga(e)?()=>{const t=wi(Te(e));return t&&t()}:js(e)}function hf(e){const t=e[te],n=t.type;return 2===n?t.declTNode:1===n?e[Qn]:null}function H(e,t=null,n=null,r){const i=ae(e,t,n,r);return i.resolveInjectorInitializers(),i}function ae(e,t=null,n=null,r,i=new Set){const s=[n||et,Sh(e)];return r=r||("object"==typeof e?void 0:an(e)),new zs(s,t||ec(),r||null,i)}let se=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Vi;static#t=this.NULL=new ya;static create(n,r){if(Array.isArray(n))return H({name:""},r,n,"");{const i=n.name??"";return H({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=me({token:e,providedIn:"any",factory:()=>le(zu)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Pa(e){return e.ngOriginalError}class Ei{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Pa(t);for(;n&&Pa(n);)n=Pa(n);return n||null}}const Sc=new ue("",{providedIn:"root",factory:()=>X(Ei).handleError.bind(void 0)});let Yo=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=pf;static#t=this.__NG_ENV_ID__=n=>n}return e})();class Um extends Yo{constructor(t){super(),this._lView=t}onDestroy(t){return $o(this._lView,t),()=>function qh(e,t){if(null===e[Bi])return;const n=e[Bi].indexOf(t);-1!==n&&e[Bi].splice(n,1)}(this._lView,t)}}function pf(){return new Um(j())}function iw(){return Ac(_t(),j())}function Ac(e,t){return new Ii(ur(e,t))}let Ii=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=iw}return e})();function DS(e){return e instanceof Ii?e.nativeElement:e}function sw(e){return t=>{setTimeout(e,void 0,t)}}const pn=class aU extends N{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,fs()&&(this.destroyRef=X(Yo,{optional:!0})??void 0)}emit(t){const n=ye(null);try{super.next(t)}finally{ye(n)}}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=sw(s),i&&(i=sw(i)),o&&(o=sw(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof Ct&&t.add(a),a}};function lU(){return this._results[Symbol.iterator]()}class ow{static#e=Symbol.iterator;get changes(){return this._changes??=new pn}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=ow.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=lU)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function or(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function ph(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Hm(e){return!(128&~e.flags)}const aw=new Map;let cU=0;const uw="__ngContext__";function Ir(e,t){Rn(t)?(e[uw]=t[Fl],function hU(e){aw.set(e[Fl],e)}(t)):e[uw]=t}function kS(e){return LS(e[Ol])}function FS(e){return LS(e[jr])}function LS(e){for(;null!==e&&!Zn(e);)e=e[jr];return e}let cw;const zm=new ue("",{providedIn:"root",factory:()=>NU}),NU="ng",zS=new ue(""),Js=new ue("",{providedIn:"platform",factory:()=>"unknown"}),GS=new ue("",{providedIn:"root",factory:()=>function Oa(){if(void 0!==cw)return cw;if(typeof document<"u")return document;throw new $(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qS=()=>null;function vw(e,t,n=!1){return qS(e,t,n)}const XS=new ue("",{providedIn:"root",factory:()=>!1});class rA{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const g2=/^>|^->|<!--|-->|--!>|<!-$/g,m2=/(<|>)/g,_2="\u200b$1\u200b";function bi(e){return e instanceof Function?e():e}var La=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(La||{});let Rw;function xw(e,t){return Rw(e,t)}function Pc(e,t,n,r,i){if(null!=r){let s,o=!1;Zn(r)?s=r:Rn(r)&&(o=!0,r=r[bt]);const a=pt(r);0===e&&null!==n?null==i?SA(t,n,a):Yl(t,n,a,i||null,!0):1===e&&null!==n?Yl(t,n,a,i||null,!0):2===e?function Af(e,t,n){const r=s_(e,t);r&&function F2(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function U2(e,t,n,r,i){const s=n[ji];s!==pt(n)&&Pc(t,e,r,s,i);for(let a=Zt;a<n.length;a++){const l=n[a];a_(l[te],l,e,t,r,s)}}(t,e,s,n,i)}}function Ow(e,t){return e.createComment(function gA(e){return e.replace(g2,t=>t.replace(m2,_2))}(t))}function r_(e,t,n){return e.createElement(t,n)}function IA(e,t){t[Ui].changeDetectionScheduler?.notify(1),a_(e,t,t[Ie],2,null,null)}function bA(e,t){const n=e[Da],r=n.indexOf(t);n.splice(r,1)}function Df(e,t){if(e.length<=Zt)return;const n=Zt+t,r=e[n];if(r){const i=r[kl];null!==i&&i!==e&&bA(i,r),t>0&&(e[n-1][jr]=r[jr]);const s=va(e,Zt+t);!function M2(e,t){IA(e,t),t[bt]=null,t[Qn]=null}(r[te],r);const o=s[gs];null!==o&&o.detachView(s[te]),r[en]=null,r[jr]=null,r[Ce]&=-129}return r}function i_(e,t){if(!(256&t[Ce])){const n=t[Ie];n.destroyNode&&a_(e,t,n,3,null,null),function R2(e){let t=e[Ol];if(!t)return kw(e[te],e);for(;t;){let n=null;if(Rn(t))n=t[Ol];else{const r=t[Zt];r&&(n=r)}if(!n){for(;t&&!t[jr]&&t!==e;)Rn(t)&&kw(t[te],t),t=t[en];null===t&&(t=e),Rn(t)&&kw(t[te],t),n=t&&t[jr]}t=n}}(t)}}function kw(e,t){if(256&t[Ce])return;const n=ye(null);try{t[Ce]&=-129,t[Ce]|=256,t[Vo]&&function Nt(e){if(Ee(e),sr(e))for(let t=0;t<e.producerNode.length;t++)at(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Vo]),function k2(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof zl)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Hi(4,a,l);try{l.call(a)}finally{Hi(5,a,l)}}else{Hi(4,i,s);try{s.call(i)}finally{Hi(5,i,s)}}}}}(e,t),function O2(e,t){const n=e.cleanup,r=t[Lo];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[Lo]=null);const i=t[Bi];if(null!==i){t[Bi]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,t),1===t[te].type&&t[Ie].destroy();const r=t[kl];if(null!==r&&Zn(t[en])){r!==t[en]&&bA(r,t);const i=t[gs];null!==i&&i.detachView(e)}!function fU(e){aw.delete(e[Fl])}(t)}finally{ye(n)}}function Fw(e,t,n){return function DA(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[bt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===Vr.None||s===Vr.Emulated)return null}return ur(r,n)}}(e,t.parent,n)}function Yl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function SA(e,t,n){e.appendChild(t,n)}function AA(e,t,n,r,i){null!==r?Yl(e,t,n,r,i):SA(e,t,n)}function s_(e,t){return e.parentNode(t)}let Lw,NA=function MA(e,t,n){return 40&e.type?ur(e,n):null};function o_(e,t,n,r){const i=Fw(e,r,t),s=t[Ie],a=function TA(e,t,n){return NA(e,t,n)}(r.parent||t[Qn],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)AA(s,i,n[l],a,!1);else AA(s,i,n,a,!1);void 0!==Lw&&Lw(s,r,t,n,i)}function Sf(e,t){if(null!==t){const n=t.type;if(3&n)return ur(t,e);if(4&n)return Vw(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Sf(e,r);{const i=e[t.index];return Zn(i)?Vw(-1,i):pt(i)}}if(32&n)return xw(t,e)()||pt(e[t.index]);{const r=xA(e,t);return null!==r?Array.isArray(r)?r[0]:Sf(Wo(e[Qt]),r):Sf(e,t.next)}}return null}function xA(e,t){return null!==t?e[Qt][Qn].projection[t.projection]:null}function Vw(e,t){const n=Zt+e+1;if(n<t.length){const r=t[n],i=r[te].firstChild;if(null!==i)return Sf(r,i)}return t[ji]}function Uw(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&Ir(pt(a),r),n.flags|=2),32&~n.flags)if(8&l)Uw(e,t,n.child,r,i,s,!1),Pc(t,e,i,a,s);else if(32&l){const d=xw(n,r);let f;for(;f=d();)Pc(t,e,i,f,s);Pc(t,e,i,a,s)}else 16&l?OA(e,t,r,n,i,s):Pc(t,e,i,a,s);n=o?n.projectionNext:n.next}}function a_(e,t,n,r,i,s){Uw(n,r,e.firstChild,t,i,s,!1)}function OA(e,t,n,r,i,s){const o=n[Qt],l=o[Qn].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)Pc(t,e,i,l[d],s);else{let d=l;const f=o[en];Hm(r)&&(d.flags|=128),Uw(e,t,d,f,i,s,!0)}}function kA(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function FA(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&qu(e,t,r),null!==i&&kA(e,t,i),null!==s&&function j2(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}const Be={};function Bw(e=1){LA(Qe(),j(),Xn()+e,!1)}function LA(e,t,n,r){if(!r)if(3&~t[Ce]){const s=e.preOrderHooks;null!==s&&_c(t,s,0,n)}else{const s=e.preOrderCheckHooks;null!==s&&mc(t,s,n)}Go(n)}function J(e,t=Ue.Default){const n=j();return null===n?le(e,t):km(_t(),n,Te(e),t)}function UA(e,t,n,r,i,s){const o=ye(null);try{let a=null;i&Rt.SignalBased&&(a=t[r][mt]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&Rt.HasDecoratorInputTransform&&(s=e.inputTransforms[r].call(t,s)),null!==e.setInput?e.setInput(t,a,s,n,r):pm(t,a,r,s)}finally{ye(o)}}function l_(e,t,n,r,i,s,o,a,l,d,f){const g=t.blueprint.slice();return g[bt]=i,g[Ce]=204|r,(null!==d||e&&2048&e[Ce])&&(g[Ce]|=2048),wm(g),g[en]=g[Ia]=e,g[Tt]=n,g[Ui]=o||e&&e[Ui],g[Ie]=a||e&&e[Ie],g[Hn]=l||e&&e[Hn]||null,g[Qn]=s,g[Fl]=function dU(){return cU++}(),g[lr]=f,g[sm]=d,g[Qt]=2==t.type?e[Qt]:g,g}function Oc(e,t,n,r,i){let s=e.data[t];if(null===s)s=function jw(e,t,n,r,i){const s=hc(),o=jl(),l=e.data[t]=function Y2(e,t,n,r,i,s){let o=t?t.injectorIndex:-1,a=0;return function Ma(){return null!==xe.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,n,r,i),function Sm(){return xe.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function zo(){const e=xe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Wi(s,!0),s}function Tf(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function BA(e,t,n,r,i){const s=Xn(),o=2&r;try{Go(-1),o&&t.length>ke&&LA(e,t,ke,!1),Hi(o?2:0,i),n(r,i)}finally{Go(s),Hi(o?3:1,i)}}function Hw(e,t,n){if(Ll(t)){const r=ye(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ye(r)}}}function $w(e,t,n){dc()&&(function nB(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;Uo(n)&&function uB(e,t,n){const r=ur(t,e),i=jA(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=u_(e,l_(e,i,null,o,r,t,null,e[Ui].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Ra(n,t),Ir(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],d=Xs(t,e,a,n);Ir(d,t),null!==o&&cB(0,a-i,d,l,0,o),Cr(l)&&(Hr(n.index,t)[Tt]=Xs(t,e,a,n))}}(e,t,n,ur(n,t)),!(64&~n.flags)&&GA(e,t,n))}function Ww(e,t,n=ur){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function jA(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=zw(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function zw(e,t,n,r,i,s,o,a,l,d,f){const g=ke+r,m=g+i,v=function $2(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Be);return n}(g,m),C="function"==typeof d?d():d;return v[te]={type:e,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:t,data:v.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:f}}let HA=()=>null;function $A(e,t,n,r,i){for(let s in t){if(!t.hasOwnProperty(s))continue;const o=t[s];if(void 0===o)continue;r??={};let a,l=Rt.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let d=s;if(null!==i){if(!i.hasOwnProperty(s))continue;d=i[s]}0===e?WA(r,n,d,a,l):WA(r,n,d,a)}return r}function WA(e,t,n,r,i){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,r):s=e[n]=[t,r],void 0!==i&&s.push(i)}function ii(e,t,n,r,i,s,o,a){const l=ur(t,n);let f,d=t.inputs;!a&&null!=d&&(f=d[r])?(Qw(e,n,f,r,i),Uo(t)&&function X2(e,t){const n=Hr(t,e);16&n[Ce]||(n[Ce]|=64)}(n,t.index)):3&t.type&&(r=function Z2(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(l,r,i))}function Gw(e,t,n,r){if(dc()){const i=null===r?null:{"":-1},s=function iB(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Kg(t,o.selectors,!1))if(r||(r=[]),Cr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),qw(e,t,a.length)}else r.unshift(o),qw(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&zA(e,t,n,o,i,a),i&&function sB(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new $(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=ko(n.mergedAttrs,n.attrs)}function zA(e,t,n,r,i,s){for(let d=0;d<r.length;d++)wc(Ra(n,t),e,r[d].type);!function aB(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let d=0;d<r.length;d++){const f=r[d];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,l=Tf(e,t,r.length,null);for(let d=0;d<r.length;d++){const f=r[d];n.mergedAttrs=ko(n.mergedAttrs,f.hostAttrs),lB(e,n,t,l,f),oB(l,f,i),null!==f.contentQueries&&(n.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(n.flags|=64);const g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function Q2(e,t,n){const i=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,d=null;for(let f=t.directiveStart;f<i;f++){const g=s[f],m=n?n.get(g):null,C=m?m.outputs:null;l=$A(0,g.inputs,f,l,m?m.inputs:null),d=$A(1,g.outputs,f,d,C);const y=null===l||null===o||vh(t)?null:dB(l,f,o);a.push(y)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=d}(e,n,s)}function GA(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function BC(){return xe.lFrame.currentDirectiveIndex}();try{Go(s);for(let a=r;a<i;a++){const l=e.data[a],d=t[a];Qh(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&rB(l,d)}}finally{Go(-1),Qh(o)}}function rB(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function qw(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function oB(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Cr(t)&&(n[""]=e)}}function lB(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=js(i.type)),o=new zl(s,Cr(i),J);e.blueprint[r]=o,n[r]=o,function eB(e,t,n,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function tB(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(e,t,r,Tf(e,n,i.hostVars,Be),i)}function cB(e,t,n,r,i,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)UA(r,n,o[a++],o[a++],o[a++],o[a++])}function dB(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function qA(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function KA(e,t){const n=e.contentQueries;if(null!==n){const r=ye(null);try{for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const a=e.data[o];Hl(n[i]),a.contentQueries(2,t[o],o)}}}finally{ye(r)}}}function u_(e,t){return e[Ol]?e[im][jr]=t:e[Ol]=t,e[im]=t,t}function Yw(e,t,n){Hl(0);const r=ye(null);try{t(e,n)}finally{ye(r)}}function YA(e){return e[Lo]||(e[Lo]=[])}function QA(e){return e.cleanup||(e.cleanup=[])}function c_(e,t){const n=e[Hn],r=n?n.get(Ei,null):null;r&&r.handleError(t)}function Qw(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=n[s++];UA(e.data[o],t[o],r,a,l,i)}}function hB(e,t){const n=Hr(t,e),r=n[te];!function fB(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[bt];null!==i&&null===n[lr]&&(n[lr]=vw(i,n[Hn])),Zw(r,n,n[Tt])}function Zw(e,t,n){Jh(t);try{const r=e.viewQuery;null!==r&&Yw(1,r,n);const i=e.template;null!==i&&BA(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[gs]?.finishViewCreation(e),e.staticContentQueries&&KA(e,t),e.staticViewQueries&&Yw(2,e.viewQuery,n);const s=e.components;null!==s&&function pB(e,t){for(let n=0;n<t.length;n++)hB(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ce]&=-5,ef()}}function kc(e,t){return!t||null===t.firstChild||Hm(e)}function Nf(e,t,n,r=!0){const i=t[te];if(function x2(e,t,n,r){const i=Zt+r,s=n.length;r>0&&(n[i-1][jr]=t),r<s-Zt?(t[jr]=n[i],Tl(n,Zt+r,t)):(n.push(t),t[jr]=null),t[en]=n;const o=t[kl];null!==o&&n!==o&&function P2(e,t){const n=e[Da];t[Qt]!==t[en][en][Qt]&&(e[Ce]|=kh.HasTransplantedViews),null===n?e[Da]=[t]:n.push(t)}(o,t);const a=t[gs];null!==a&&a.insertView(e),cc(t),t[Ce]|=128}(i,t,e,n),r){const o=Vw(n,e),a=t[Ie],l=s_(a,e[ji]);null!==l&&function N2(e,t,n,r,i,s){r[bt]=i,r[Qn]=t,a_(e,r,n,1,i,s)}(i,e[Qn],a,t,l,o)}const s=t[lr];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function Rf(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(pt(s)),Zn(s)&&JA(s,r);const o=n.type;if(8&o)Rf(e,t,n.child,r);else if(32&o){const a=xw(n,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=xA(t,n);if(Array.isArray(a))r.push(...a);else{const l=Wo(t[Qt]);Rf(l[te],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function JA(e,t){for(let n=Zt;n<e.length;n++){const r=e[n],i=r[te].firstChild;null!==i&&Rf(r[te],r,i,t)}e[ji]!==e[bt]&&t.push(e[ji])}let eT=[];const vB={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Bl(e.lView)},consumerOnSignalRead(){this.lView[Vo]=this}},tT=100;function d_(e,t=!0,n=0){const r=e[Ui],i=r.rendererFactory;i.begin?.();try{!function yB(e,t){Jw(e,t);let n=0;for(;Gh(e);){if(n===tT)throw new $(103,!1);n++,Jw(e,1)}}(e,n)}catch(o){throw t&&c_(e,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function CB(e,t,n,r){const i=t[Ce];if(!(256&~i))return;t[Ui].inlineEffectRunner?.flush(),Jh(t);let o=null,a=null;(function wB(e){return 2!==e.type})(e)&&(a=function gB(e){return e[Vo]??function mB(e){const t=eT.pop()??Object.create(vB);return t.lView=e,t}(e)}(t),o=function qe(e){return e&&(e.nextProducerIndex=0),ye(e)}(a));try{wm(t),function pc(e){return xe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&BA(e,t,n,2,r);const l=!(3&~i);if(l){const g=e.preOrderCheckHooks;null!==g&&mc(t,g,null)}else{const g=e.preOrderHooks;null!==g&&_c(t,g,0,null),Wl(t,0)}if(function EB(e){for(let t=kS(e);null!==t;t=FS(t)){if(!(t[Ce]&kh.HasTransplantedViews))continue;const n=t[Da];for(let r=0;r<n.length;r++){zh(n[r])}}}(t),nT(t,0),null!==e.contentQueries&&KA(e,t),l){const g=e.contentCheckHooks;null!==g&&mc(t,g)}else{const g=e.contentHooks;null!==g&&_c(t,g,1),Wl(t,1)}!function H2(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Go(~i);else{const s=i,o=n[++r],a=n[++r];UC(o,s),a(2,t[s])}}}finally{Go(-1)}}(e,t);const d=e.components;null!==d&&iT(t,d,0);const f=e.viewQuery;if(null!==f&&Yw(2,f,r),l){const g=e.viewCheckHooks;null!==g&&mc(t,g)}else{const g=e.viewHooks;null!==g&&_c(t,g,2),Wl(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[sc]){for(const g of t[sc])g();t[sc]=null}t[Ce]&=-73}catch(l){throw Bl(t),l}finally{null!==a&&(function bn(e,t){if(ye(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(sr(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)at(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,o),function _B(e){e.lView[Vo]!==e&&(e.lView=null,eT.push(e))}(a)),ef()}}function nT(e,t){for(let n=kS(e);null!==n;n=FS(n))for(let r=Zt;r<n.length;r++)rT(n[r],t)}function IB(e,t,n){rT(Hr(t,e),n)}function rT(e,t){Ul(e)&&Jw(e,t)}function Jw(e,t){const r=e[te],i=e[Ce],s=e[Vo];let o=!!(0===t&&16&i);if(o||=!!(64&i&&0===t),o||=!!(1024&i),o||=!(!s?.dirty||!Bn(s)),s&&(s.dirty=!1),e[Ce]&=-9217,o)CB(r,e,r.template,e[Tt]);else if(8192&i){nT(e,1);const a=r.components;null!==a&&iT(e,a,1)}}function iT(e,t,n){for(let r=0;r<t.length;r++)IB(e,t[r],n)}function xf(e){for(e[Ui].changeDetectionScheduler?.notify();e;){e[Ce]|=64;const t=Wo(e);if(Vl(e)&&!t)return e;e=t}return null}class Pf{get rootNodes(){const t=this._lView,n=t[te];return Rf(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tt]}set context(t){this._lView[Tt]=t}get destroyed(){return!(256&~this._lView[Ce])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[en];if(Zn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Df(t,r),va(n,r))}this._attachedToViewContainer=!1}i_(this._lView[te],this._lView)}onDestroy(t){$o(this._lView,t)}markForCheck(){xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ce]&=-129}reattach(){cc(this._lView),this._lView[Ce]|=128}detectChanges(){this._lView[Ce]|=1024,d_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,IA(this._lView[te],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=t,cc(this._lView)}}let Xo=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=SB}return e})();const bB=Xo,DB=class extends bB{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function Mf(e,t,n,r){const i=ye(null);try{const s=t.tView,l=l_(e,s,n,4096&e[Ce]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[kl]=e[t.index];const f=e[gs];return null!==f&&(l[gs]=f.createEmbeddedView(s)),Zw(s,l,n),l}finally{ye(i)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Pf(i)}};function SB(){return h_(_t(),j())}function h_(e,t){return 4&e.type?new DB(t,e,Ac(e,t)):null}class sE{}class QB{}class dT{}class XB{resolveComponentFactory(t){throw function ZB(e){const t=Error(`No component factory found for ${an(e)}.`);return t.ngComponent=e,t}(t)}}let __=(()=>{class e{static#e=this.NULL=new XB}return e})();class fT{}let to=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function JB(){const e=j(),n=Hr(_t().index,e);return(Rn(n)?n:e)[Ie]}()}return e})(),ej=(()=>{class e{static#e=this.\u0275prov=me({token:e,providedIn:"root",factory:()=>null})}return e})();const oE={},pT=new Set;function no(e){pT.has(e)||(pT.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function gT(...e){}class ut{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pn(!1),this.onMicrotaskEmpty=new pn(!1),this.onStable=new pn(!1),this.onError=new pn(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function tj(){const e="function"==typeof ge.requestAnimationFrame;let t=ge[e?"requestAnimationFrame":"setTimeout"],n=ge[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function ij(e){const t=()=>{!function rj(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ge,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,lE(e),e.isCheckStableRunning=!0,aE(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),lE(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function sj(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return mT(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),_T(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return mT(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),_T(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,lE(e),aE(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ut.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(ut.isInAngularZone())throw new $(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,nj,gT,gT);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const nj={};function aE(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function lE(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function mT(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function _T(e){e._nesting--,aE(e)}class vT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pn,this.onMicrotaskEmpty=new pn,this.onStable=new pn,this.onError=new pn}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}var Ql=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Ql||{});const yT={destroy(){}};function CT(e,t){!t&&function nc(e){if(!fs())throw new $(-203,!1)}();const n=t?.injector??X(se);if(!function Fa(e){return"browser"===(e??X(se)).get(Js)}(n))return yT;no("NgAfterNextRender");const r=n.get(Vf),i=r.handler??=new ET,s=t?.phase??Ql.MixedReadWrite,o=()=>{i.unregister(l),a()},a=n.get(Yo).onDestroy(o),l=Gs(n,()=>new wT(s,()=>{o(),e()}));return i.register(l),{destroy:o}}class wT{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=X(ut),this.errorHandler=X(Ei,{optional:!0}),X(sE,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class ET{constructor(){this.executingCallbacks=!1,this.buckets={[Ql.EarlyRead]:new Set,[Ql.Write]:new Set,[Ql.MixedReadWrite]:new Set,[Ql.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const n of t)n.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Vf=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=me({token:e,providedIn:"root",factory:()=>new e})}return e})();function y_(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=rh(i,a):2==s&&(r=rh(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}class DT extends __{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=We(t);return new jf(n,this.ngModule)}}function ST(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class C_{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ju(r);const i=this.injector.get(t,oE,r);return i!==oE||n===oE?i:this.parentInjector.get(t,n,r)}}class jf extends dT{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=ST(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ST(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Ih(e){return e.map(pC).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){const s=ye(null);try{let o=(i=i||this.ngModule)instanceof Br?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new C_(t,o):t,l=a.get(fT,null);if(null===l)throw new $(407,!1);const d=a.get(ej,null),m={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,afterRenderEventManager:a.get(Vf,null),changeDetectionScheduler:a.get(sE,null)},v=l.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",y=r?function W2(e,t,n,r){const s=r.get(XS,!1)||n===Vr.ShadowDom,o=e.selectRootElement(t,s);return function z2(e){HA(e)}(o),o}(v,r,this.componentDef.encapsulation,a):r_(v,C,function cj(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(C));let E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let M=null;null!==y&&(M=vw(y,a,!0));const A=zw(0,null,null,1,0,null,null,null,null,null,null),O=l_(null,A,null,E,null,null,m,v,a,null,M);let U,B;Jh(O);try{const ee=this.componentDef;let ie,pe=null;ee.findHostDirectiveDefs?(ie=[],pe=new Map,ee.findHostDirectiveDefs(ee,ie,pe),ie.push(ee)):ie=[ee];const oe=function hj(e,t){const n=e[te],r=ke;return e[r]=t,Oc(n,r,2,"#host",null)}(O,y),ct=function fj(e,t,n,r,i,s,o){const a=i[te];!function pj(e,t,n,r){for(const i of e)t.mergedAttrs=ko(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(y_(t,t.mergedAttrs,!0),null!==n&&FA(r,n,t))}(r,e,t,o);let l=null;null!==t&&(l=vw(t,i[Hn]));const d=s.rendererFactory.createRenderer(t,n);let f=16;n.signals?f=4096:n.onPush&&(f=64);const g=l_(i,jA(n),null,f,i[e.index],e,s,d,null,null,l);return a.firstCreatePass&&qw(a,e,r.length-1),u_(i,g),i[e.index]=g}(oe,y,ee,ie,O,m,v);B=Ta(A,ke),y&&function mj(e,t,n,r){if(r)qu(e,n,["ng-version","17.3.4"]);else{const{attrs:i,classes:s}=function gC(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!gi(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&qu(e,n,i),s&&s.length>0&&kA(e,n,s.join(" "))}}(v,ee,y,r),void 0!==n&&function _j(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(B,this.ngContentSelectors,n),U=function gj(e,t,n,r,i,s){const o=_t(),a=i[te],l=ur(o,i);zA(a,i,o,n,null,r);for(let f=0;f<n.length;f++)Ir(Xs(i,a,o.directiveStart+f,o),i);GA(a,i,o),l&&Ir(l,i);const d=Xs(i,a,o.directiveStart+o.componentOffset,o);if(e[Tt]=i[Tt]=d,null!==s)for(const f of s)f(d,t);return Hw(a,o,i),d}(ct,ee,ie,pe,O,[vj]),Zw(A,O,null)}finally{ef()}return new dj(this.componentType,U,Ac(B,O),O,B)}finally{ye(s)}}}class dj extends QB{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Pf(i,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;Qw(s[te],s,i,t,n),this.previousInputValues.set(t,n),xf(Hr(this._tNode.index,s))}}get injector(){return new ln(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function vj(){const e=_t();Na(j()[te],e)}let _s=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=yj}return e})();function yj(){return MT(_t(),j())}const Cj=_s,AT=class extends Cj{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ac(this._hostTNode,this._hostLView)}get injector(){return new ln(this._hostTNode,this._hostLView)}get parentInjector(){const t=Zs(this._hostTNode,this._hostLView);if(qo(t)){const n=ql(t,this._hostLView),r=Gl(t);return new ln(n[te].data[r+8],n)}return new ln(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=TT(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,kc(this._hostTNode,null)),a}createComponent(t,n,r,i,s){const o=t&&!function Pl(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}const l=o?t:new jf(We(t)),d=r||this.parentInjector;if(!s&&null==l.ngModule){const y=(o?d:this.parentInjector).get(Br,null);y&&(s=y)}We(l.componentType??{});const v=l.create(d,i,null,s);return this.insertImpl(v.hostView,a,kc(this._hostTNode,null)),v}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function NC(e){return Zn(e[en])}(i)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=i[en],d=new AT(l,l[Qn],l[en]);d.detach(d.indexOf(t))}}const s=this._adjustIndex(n),o=this._lContainer;return Nf(o,i,s,r),t.attachToViewContainerRef(),Tl(hE(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=TT(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Df(this._lContainer,n);r&&(va(hE(this._lContainer),n),i_(r[te],r))}detach(t){const n=this._adjustIndex(t,-1),r=Df(this._lContainer,n);return r&&null!=va(hE(this._lContainer),n)?new Pf(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function TT(e){return e[8]}function hE(e){return e[8]||(e[8]=[])}function MT(e,t){let n;const r=t[e.index];return Zn(r)?n=r:(n=qA(r,t,null,e),t[e.index]=n,u_(t,n)),NT(n,t,e,r),new AT(n,e,t)}let NT=function xT(e,t,n,r){if(e[ji])return;let i;i=8&n.type?pt(r):function wj(e,t){const n=e[Ie],r=n.createComment(""),i=ur(t,e);return Yl(n,s_(n,i),r,function L2(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[ji]=i},fE=()=>!1;class pE{constructor(t){this.queryList=t,this.matches=null}clone(){return new pE(this.queryList)}setDirty(){this.queryList.setDirty()}}class gE{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new gE(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==CE(t,n).matches&&this.queries[n].setDirty()}}class PT{constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function Mj(e){return e.split(",").map(t=>t.trim())}(t):t}}class mE{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new mE(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _E{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new _E(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,Dj(n,s)),this.matchTNodeWithReadOption(t,n,Ci(n,t,s,!1,!1))}else r===Xo?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ci(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ii||i===_s||i===Xo&&4&n.type)this.addMatch(n.index,-2);else{const s=Ci(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Dj(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Aj(e,t,n,r){return-1===n?function Sj(e,t){return 11&e.type?Ac(e,t):4&e.type?h_(e,t):null}(t,e):-2===n?function Tj(e,t,n){return n===Ii?Ac(t,e):n===Xo?h_(t,e):n===_s?MT(t,e):void 0}(e,t,r):Xs(e,e[te],n,t)}function OT(e,t,n,r){const i=t[gs].queries[r];if(null===i.matches){const s=e.data,o=n.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const d=o[l];a.push(d<0?null:Aj(t,s[d],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function vE(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=OT(e,t,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const d=s[a+1],f=t[-l];for(let g=Zt;g<f.length;g++){const m=f[g];m[kl]===m[en]&&vE(m[te],m,d,r)}if(null!==f[Da]){const g=f[Da];for(let m=0;m<g.length;m++){const v=g[m];vE(v[te],v,d,r)}}}}}return r}function FT(e,t,n){const r=Qe();return r.firstCreatePass&&(function VT(e,t,n){null===e.queries&&(e.queries=new mE),e.queries.track(new _E(t,n))}(r,new PT(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),function kT(e,t,n){const r=new ow(!(4&~n));return function K2(e,t,n,r){const i=YA(t);i.push(n),e.firstCreatePass&&QA(e).push(r,i.length-1)}(e,t,r,r.destroy),(t[gs]??=new gE).queries.push(new pE(r))-1}(r,j(),t)}function CE(e,t){return e.queries.getByIndex(t)}function UT(e,t){const n=e[te],r=CE(n,t);return r.crossesNgTemplate?vE(n,e,t,[]):OT(n,e,r,t)}function HT(e){return function BT(e){return"function"==typeof e&&void 0!==e[mt]}(e)&&"function"==typeof e.set}function Dt(e){let t=function JT(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Cr(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new $(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const o=e;o.inputs=E_(e.inputs),o.inputTransforms=E_(e.inputTransforms),o.declaredInputs=E_(e.declaredInputs),o.outputs=E_(e.outputs);const a=i.hostBindings;a&&zj(e,a);const l=i.viewQuery,d=i.contentQueries;if(l&&$j(e,l),d&&Wj(e,d),jj(e,i),Mo(e.outputs,i.outputs),Cr(i)&&i.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(e),a===Dt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Hj(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ko(i.hostAttrs,n=ko(n,i.hostAttrs))}}(r)}function jj(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function E_(e){return e===ei?{}:e===et?[]:e}function $j(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function Wj(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,s)=>{t(r,i,s),n(r,i,s)}:t}function zj(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}class Zl{}class iM{}class EE extends Zl{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new DT(this);const i=Yn(t);this._bootstrapComponents=bi(i.bootstrap),this._r3Injector=ae(t,n,[{provide:Zl,useValue:this},{provide:__,useValue:this.componentFactoryResolver},...r],an(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class IE extends iM{constructor(t){super(),this.moduleType=t}create(t){return new EE(this.moduleType,t,[])}}class sM extends Zl{constructor(t){super(),this.componentFactoryResolver=new DT(this),this.instance=null;const n=new zs([...t.providers,{provide:Zl,useValue:this},{provide:__,useValue:this.componentFactoryResolver}],t.parent||ec(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function I_(e,t,n=null){return new sM({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Vc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function D_(e){return!!bE(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function bE(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function _n(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Uc(e,t,n,r,i,s,o,a){const l=j(),d=Qe(),f=e+ke,g=d.firstCreatePass?function iH(e,t,n,r,i,s,o,a,l){const d=t.consts,f=Oc(t,e,4,o||null,$i(d,a));Gw(t,n,f,$i(d,l)),Na(t,f);const g=f.tView=zw(2,f,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return null!==t.queries&&(t.queries.template(t,f),g.queries=t.queries.embeddedTView(f)),f}(f,d,l,t,n,r,i,s,o):d.data[f];Wi(g,!1);const m=oM(d,l,g,e);$l()&&o_(d,l,m,g),Ir(m,l);const v=qA(m,l,m,g);return l[f]=v,u_(l,v),function RT(e,t,n){return fE(e,t,n)}(v,g,l),Sa(g)&&$w(d,l,g),null!=o&&Ww(l,g,a),Uc}let oM=function aM(e,t,n,r){return zi(!0),t[Ie].createComment("")};function x_(e,t){return e<<17|t<<2}function ja(e){return e>>17&32767}function OE(e){return 2|e}function eu(e){return(131068&e)>>2}function kE(e,t){return-131069&e|t<<2}function FE(e){return 1|e}function VM(e,t,n,r){const i=e[n+1],s=null===t;let o=r?ja(i):eu(i),a=!1;for(;0!==o&&(!1===a||s);){const d=e[o+1];$H(e[o],t)&&(a=!0,e[o+1]=r?FE(d):OE(d)),o=r?ja(d):eu(d)}a&&(e[n+1]=r?OE(i):FE(i))}function $H(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&$s(e,t)>=0}function P_(e,t,n){const r=j();return _n(r,ti(),t)&&ii(Qe(),wt(),r,e,t,r[Ie],n,!1),P_}function LE(e,t,n,r,i){const o=i?"class":"style";Qw(e,n,t.inputs[o],o,r)}function VE(e,t,n){return vs(e,t,n,!1),VE}function O_(e,t){return vs(e,t,null,!0),O_}function vs(e,t,n,r){const i=j(),s=Qe(),o=function ni(e){const t=xe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);s.firstUpdatePass&&function GM(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Xn()],o=function zM(e,t){return t>=e.expandoStartIndex}(e,n);(function QM(e,t){return!!(e.flags&(t?8:16))})(s,r)&&null===t&&!o&&(t=!1),t=function XH(e,t,n,r){const i=function Zh(e){const t=xe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Kf(n=UE(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=UE(i,e,t,n,r),null===s){let l=function JH(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==eu(r))return e[ja(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=UE(null,e,t,l[1],r),l=Kf(l,t.attrs,r),function e$(e,t,n,r){e[ja(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else s=function t$(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Kf(r,e[s].hostAttrs,n);return Kf(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function jH(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=ja(o),l=eu(o);e[r]=n;let f,d=!1;if(Array.isArray(n)?(f=n[1],(null===f||$s(n,f)>0)&&(d=!0)):f=n,i)if(0!==l){const m=ja(e[a+1]);e[r+1]=x_(m,a),0!==m&&(e[m+1]=kE(e[m+1],r)),e[a+1]=function UH(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=x_(a,0),0!==a&&(e[a+1]=kE(e[a+1],r)),a=r;else e[r+1]=x_(l,0),0===a?a=r:e[l+1]=kE(e[l+1],r),l=r;d&&(e[r+1]=OE(e[r+1])),VM(e,f,r,!0),VM(e,f,r,!1),function HH(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&$s(s,t)>=0&&(n[r+1]=FE(n[r+1]))}(t,f,e,r,s),o=x_(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}(s,e,o,r),t!==Be&&_n(i,o,t)&&function KM(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const l=e.data,d=l[a+1],f=function BH(e){return!(1&~e)}(d)?YM(l,t,n,i,eu(d),o):void 0;k_(f)||(k_(s)||function VH(e){return!(2&~e)}(d)&&(s=YM(l,null,n,i,a,o)),function B2(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:La.DashCase;null==i?e.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=La.Important),e.setStyle(n,r,i,s))}}(r,o,function jo(e,t){return pt(t[e])}(Xn(),n),i,s))}(s,s.data[Xn()],i,i[Ie],e,i[o+1]=function s$(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=an(function ka(e){return e instanceof rA?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,o)}function UE(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Kf(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Kf(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ar(e,o,!!n||t[++s]))}return void 0===e?null:e}function YM(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const l=e[i],d=Array.isArray(l),f=d?l[1]:l,g=null===f;let m=n[i+1];m===Be&&(m=g?et:void 0);let v=g?gh(m,r):f===r?m:void 0;if(d&&!k_(v)&&(v=gh(l,r)),k_(v)&&(a=v,o))return a;const C=e[i+1];i=o?ja(C):eu(C)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=gh(l,r))}return a}function k_(e){return void 0!==e}function rt(e,t,n,r){const i=j(),s=Qe(),o=ke+e,a=i[Ie],l=s.firstCreatePass?function T$(e,t,n,r,i,s){const o=t.consts,l=Oc(t,e,2,r,$i(o,i));return Gw(t,n,l,$i(o,s)),null!==l.attrs&&y_(l,l.attrs,!1),null!==l.mergedAttrs&&y_(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,t,n,r):s.data[o],d=eN(s,i,l,a,t,e);i[o]=d;const f=Sa(l);return Wi(l,!0),FA(a,d,l),!function Wf(e){return!(32&~e.flags)}(l)&&$l()&&o_(s,i,d,l),0===function RC(){return xe.lFrame.elementDepthCount}()&&Ir(d,i),function xC(){xe.lFrame.elementDepthCount++}(),f&&($w(s,i,l),Hw(s,l,i)),null!==r&&Ww(i,l),rt}function St(){let e=_t();jl()?Kh():(e=e.parent,Wi(e,!1));const t=e;(function OC(e){return xe.skipHydrationRootTNode===e})(t)&&function bm(){xe.skipHydrationRootTNode=null}(),function PC(){xe.lFrame.elementDepthCount--}();const n=Qe();return n.firstCreatePass&&(Na(n,e),Ll(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function KC(e){return!!(8&e.flags)}(t)&&LE(n,t,j(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function YC(e){return!!(16&e.flags)}(t)&&LE(n,t,j(),t.stylesWithoutHost,!1),St}function dr(e,t,n,r){return rt(e,t,n,r),St(),dr}let eN=(e,t,n,r,i,s)=>(zi(!0),r_(r,i,function Mm(){return xe.lFrame.currentNamespace}()));function F_(e,t,n){const r=j(),i=Qe(),s=e+ke,o=i.firstCreatePass?function R$(e,t,n,r,i){const s=t.consts,o=$i(s,r),a=Oc(t,e,8,"ng-container",o);return null!==o&&y_(a,o,!0),Gw(t,n,a,$i(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];Wi(o,!0);const a=nN(i,r,o,e);return r[s]=a,$l()&&o_(i,r,a,o),Ir(a,r),Sa(o)&&($w(i,r,o),Hw(i,o,r)),null!=n&&Ww(r,o),F_}function L_(){let e=_t();const t=Qe();return jl()?Kh():(e=e.parent,Wi(e,!1)),t.firstCreatePass&&(Na(t,e),Ll(e)&&t.queries.elementEnd(e)),L_}let nN=(e,t,n,r)=>(zi(!0),Ow(t[Ie],""));function V_(){return j()}const rd="en-US";let aN=rd;function Cn(e,t,n,r){const i=j(),s=Qe(),o=_t();return GE(s,i,i[Ie],o,e,t,r),Cn}function GE(e,t,n,r,i,s,o){const a=Sa(r),d=e.firstCreatePass&&QA(e),f=t[Tt],g=YA(t);let m=!0;if(3&r.type||o){const y=ur(r,t),E=o?o(y):y,M=g.length,A=o?U=>o(pt(U[r.index])):r.index;let O=null;if(!o&&a&&(O=function xW(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[Lo],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=s,O.__ngLastListenerFn__=s,m=!1;else{s=kN(r,t,f,s,!1);const U=n.listen(E,i,s);g.push(s,U),d&&d.push(i,A,M,M+1)}}else s=kN(r,t,f,s,!1);const v=r.outputs;let C;if(m&&null!==v&&(C=v[i])){const y=C.length;if(y)for(let E=0;E<y;E+=2){const B=t[C[E]][C[E+1]].subscribe(s),ee=g.length;g.push(s,B),d&&d.push(i,r.index,ee,-(ee+1))}}}function ON(e,t,n,r){const i=ye(null);try{return Hi(6,t,n),!1!==n(r)}catch(s){return c_(e,s),!1}finally{Hi(7,t,n),ye(i)}}function kN(e,t,n,r,i){return function s(o){if(o===Function)return r;xf(e.componentOffset>-1?Hr(e.index,t):t);let l=ON(t,n,r,o),d=s.__ngNextListenerFn__;for(;d;)l=ON(t,n,d,o)&&l,d=d.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function $_(e=1){return function tf(e){return(xe.lFrame.contextLView=function Em(e,t){for(;e>0;)t=t[Ia],e--;return t}(e,xe.lFrame.contextLView))[Tt]}(e)}function KE(e,t,n){FT(e,t,n)}function W_(e){const t=j(),n=Qe(),r=Xh();Hl(r+1);const i=CE(n,r);if(e.dirty&&function Cm(e){return!(4&~e[Ce])}(t)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{const s=UT(t,r);e.reset(s,DS),e.notifyOnChanges()}return!0}return!1}function z_(){return function yE(e,t){return e[gs].queries[t].queryList}(j(),Xh())}function Pn(e,t=""){const n=j(),r=Qe(),i=e+ke,s=r.firstCreatePass?Oc(r,i,1,t,null):r.data[i],o=tR(r,n,s,t,e);n[i]=o,$l()&&o_(r,n,o,s),Wi(s,!1)}let tR=(e,t,n,r,i)=>(zi(!0),function Pw(e,t){return e.createText(t)}(t[Ie],r));function QE(e,t,n){HT(t)&&(t=t());const r=j();return _n(r,ti(),t)&&ii(Qe(),wt(),r,e,t,r[Ie],n,!1),QE}function ZE(e,t){const n=j(),r=Qe(),i=_t();return GE(r,n,n[Ie],i,e,t),ZE}function XE(e,t,n,r,i){if(e=Te(e),Array.isArray(e))for(let s=0;s<e.length;s++)XE(e[s],t,n,r,i);else{const s=Qe(),o=j(),a=_t();let l=Ur(e)?e:Te(e.provide);const d=Rh(e),f=1048575&a.providerIndexes,g=a.directiveStart,m=a.providerIndexes>>20;if(Ur(e)||!e.multi){const v=new zl(d,i,J),C=eI(l,t,i?f:f+m,g);-1===C?(wc(Ra(a,o),s,l),JE(s,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[C]=v,o[C]=v)}else{const v=eI(l,t,f+m,g),C=eI(l,t,f,f+m),E=C>=0&&n[C];if(i&&!E||!i&&!(v>=0&&n[v])){wc(Ra(a,o),s,l);const M=function tz(e,t,n,r,i){const s=new zl(e,n,J);return s.multi=[],s.index=t,s.componentProviders=0,hR(s,i,r&&!n),s}(i?ez:JW,n.length,i,r,d);!i&&E&&(n[C].providerFactory=M),JE(s,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(M),o.push(M)}else JE(s,e,v>-1?v:C,hR(n[i?C:v],d,!i&&r));!i&&r&&E&&n[C].componentProviders++}}}function JE(e,t,n,r){const i=Ur(t),s=function Mh(e){return!!e.useClass}(t);if(i||s){const l=(s?Te(t.useClass):t).prototype.ngOnDestroy;if(l){const d=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const f=d.indexOf(n);-1===f?d.push(n,[r,l]):d[f+1].push(r,l)}else d.push(n,l)}}}function hR(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function eI(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function JW(e,t,n,r){return tI(this.multi,[])}function ez(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Xs(n,n[te],this.providerFactory.index,r);s=a.slice(0,o),tI(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],tI(i,s);return s}function tI(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function tn(e,t=[]){return n=>{n.providersResolver=(r,i)=>function XW(e,t,n){const r=Qe();if(r.firstCreatePass){const i=Cr(e);XE(n,r.data,r.blueprint,i,!0),XE(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}let nz=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Ah(0,n.type),i=r.length>0?I_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=me({token:e,providedIn:"environment",factory:()=>new e(le(Br))})}return e})();function fR(e){no("NgStandalone"),e.getStandaloneInjector=t=>t.get(nz).getOrCreateStandaloneInjector(e)}function mR(e,t,n,r,i,s){const o=t+n;return _n(e,o,i)?function ro(e,t,n){return e[t]=n}(e,o+1,s?r.call(s,i):r(i)):function tp(e,t){const n=e[t];return n===Be?void 0:n}(e,o+1)}function ER(e,t,n){const r=e+ke,i=j(),s=function Ho(e,t){return e[t]}(i,r);return function np(e,t){return e[te].data[t].pure}(i,r)?mR(i,cr(),t,s.transform,n,s):s.transform(n)}class od{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}const jz=new od("17.3.4");let VR=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const $R=new ue(""),Y_=new ue("");let uI,aI=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,uI||(function f3(e){uI=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ut.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n()},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(le(ut),le(lI),le(Y_))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})(),lI=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return uI?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function sp(e){return!!e&&"function"==typeof e.then}function WR(e){return!!e&&"function"==typeof e.subscribe}const cI=new ue("");let dI=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=X(cI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(sp(s))n.push(s);else if(WR(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const hI=new ue("");function qR(e,t){return Array.isArray(t)?t.reduce(qR,e):{...e,...t}}let Ha=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=X(Sc),this.afterRenderEffectManager=X(Vf),this.externalTestViews=new Set,this.beforeRender=new N,this.afterTick=new N,this.componentTypes=[],this.components=[],this.isStable=X(Vc).hasPendingTasks.pipe(we(n=>!n)),this._injector=X(Br)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof dT;if(!this._injector.get(dI).done)throw!i&&function Ws(e){const t=We(e)||Ft(e)||Nn(e);return null!==t&&t.standalone}(n),new $(405,!1);let o;o=i?n:this._injector.get(__).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function p3(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Zl),d=o.create(se.NULL,[],r||o.selector,a),f=d.location.nativeElement,g=d.injector.get($R,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Q_(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new $(101,!1);const r=ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,ye(r)}}detectChangesInAttachedViews(n){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===tT)throw new $(103,!1);if(n){const s=0===r;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)m3(o,s,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>fI(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>fI(s))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Q_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(hI,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Q_(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Q_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function m3(e,t,n){!t&&!fI(e)||function _3(e,t,n){let r;n?(r=0,e[Ce]|=1024):r=64&e[Ce]?0:1,d_(e,t,r)}(e,n,t)}function fI(e){return Gh(e)}class v3{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let KR=(()=>{class e{compileModuleSync(n){return new IE(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=bi(Yn(n).declarations).reduce((o,a)=>{const l=We(a);return l&&o.push(new jf(l)),o},[]);return new v3(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),w3=(()=>{class e{constructor(){this.zone=X(ut),this.applicationRef=X(Ha)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function E3(){const e=X(ut),t=X(Ei);return n=>e.runOutsideAngular(()=>t.handleError(n))}let b3=(()=>{class e{constructor(){this.subscription=new Ct,this.initialized=!1,this.zone=X(ut),this.pendingTasks=X(Vc)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ut.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ut.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Jo=new ue("",{providedIn:"root",factory:()=>X(Jo,Ue.Optional|Ue.SkipSelf)||function D3(){return typeof $localize<"u"&&$localize.locale||rd}()}),pI=new ue("");let XR=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function oj(e="zone.js",t){return"noop"===e?new vT:"zone.js"===e?new ut(t):e}(r?.ngZone,function ZR(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Xj(e,t,n){return new EE(e,t,n)}(n.moduleType,this.injector,function QR(e){return[{provide:ut,useFactory:e},{provide:hs,multi:!0,useFactory:()=>{const t=X(w3,{optional:!0});return()=>t.initialize()}},{provide:hs,multi:!0,useFactory:()=>{const t=X(b3);return()=>{t.initialize()}}},{provide:Sc,useFactory:E3}]}(()=>i)),o=s.injector.get(Ei,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Q_(this._modules,s),a.unsubscribe()})}),function GR(e,t,n){try{const r=n();return sp(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(dI);return a.runInitializers(),a.donePromise.then(()=>(function lN(e){"string"==typeof e&&(aN=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Jo,rd)||rd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=qR({},r);return function C3(e,t,n){const r=new IE(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ha);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new $(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new $(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(pI,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(le(se))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),$a=null;const JR=new ue("");function ex(e,t,n=[]){const r=`Platform: ${t}`,i=new ue(r);return(s=[])=>{let o=gI();if(!o||o.injector.get(JR,!1)){const a=[...n,...s,{provide:i,useValue:!0}];e?e(a):function T3(e){if($a&&!$a.get(JR,!1))throw new $(400,!1);(function zR(){!function vl(e){pr=e}(()=>{throw new $(600,!1)})})(),$a=e;const t=e.get(XR);(function nx(e){e.get(zS,null)?.forEach(n=>n())})(e)}(function tx(e=[],t){return se.create({name:t,providers:[{provide:Nh,useValue:"platform"},{provide:pI,useValue:new Set([()=>$a=null])},...e]})}(a,r))}return function M3(e){const t=gI();if(!t)throw new $(401,!1);return t}()}}function gI(){return $a?.get(XR)??null}let op=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=R3}return e})();function R3(e){return function x3(e,t,n){if(Uo(e)&&!n){const r=Hr(e.index,t);return new Pf(r,r)}return 47&e.type?new Pf(t[Qt],t):null}(_t(),j(),!(16&~e))}class lx{constructor(){}supports(t){return D_(t)}create(t){return new L3(t)}}const F3=(e,t)=>t;class L3{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||F3}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<cx(r,i,s)?n:r,a=cx(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const d=a-i,f=l-i;if(d!=f){for(let m=0;m<d;m++){const v=m<s.length?s[m]:s[m]=0,C=v+m;f<=C&&C<d&&(s[m]=v+1)}s[o.previousIndex]=f-d}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!D_(t))throw new $(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function nH(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new V3(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new ux),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ux),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class V3{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class U3{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class ux{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new U3,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cx(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class dx{constructor(){}supports(t){return t instanceof Map||bE(t)}create(){return new B3}}class B3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||bE(t)))throw new $(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new j3(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class j3{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hx(){return new CI([new lx])}let CI=(()=>{class e{static#e=this.\u0275prov=me({token:e,providedIn:"root",factory:hx});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||hx()),deps:[[e,new Oo,new Po]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new $(901,!1)}}return e})();function fx(){return new ev([new dx])}let ev=(()=>{class e{static#e=this.\u0275prov=me({token:e,providedIn:"root",factory:fx});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||fx()),deps:[[e,new Oo,new Po]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new $(901,!1)}}return e})();const W3=ex(null,"core",[]);let z3=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(le(Ha))};static#t=this.\u0275mod=mi({type:e});static#n=this.\u0275inj=vr({})}return e})();function kx(e){const t=ye(null);try{return e()}finally{ye(t)}}let Fx=null;function Wa(){return Fx}class TG{}const Ki=new ue("");let II=(()=>{class e{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:()=>X(NG),providedIn:"platform"})}return e})();const MG=new ue("");let NG=(()=>{class e extends II{constructor(){super(),this._doc=X(Ki),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wa().getBaseHref(this._doc)}onPopState(n){const r=Wa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Wa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function bI(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Lx(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function ea(e){return e&&"?"!==e[0]?"?"+e:e}let ru=(()=>{class e{historyGo(n){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:()=>X(Ux),providedIn:"root"})}return e})();const Vx=new ue("");let Ux=(()=>{class e extends ru{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??X(Ki).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return bI(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ea(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ea(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ea(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(le(II),le(Vx,8))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),RG=(()=>{class e extends ru{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=bI(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ea(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ea(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(le(II),le(Vx,8))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})(),up=(()=>{class e{constructor(n){this._subject=new pn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function OG(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Lx(Bx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ea(r))}normalize(n){return e.stripTrailingSlash(function PG(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,Bx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ea(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ea(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=ea;static#t=this.joinWithSlash=bI;static#n=this.stripTrailingSlash=Lx;static#r=this.\u0275fac=function(r){return new(r||e)(le(ru))};static#i=this.\u0275prov=me({token:e,factory:()=>function xG(){return new up(le(ru))}(),providedIn:"root"})}return e})();function Bx(e){return e.replace(/\/index.html$/,"")}class w4{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zx=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new w4(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Xx(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Xx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(J(_s),J(Xo),J(CI))};static#t=this.\u0275dir=Re({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function Xx(e,t){e.context.$implicit=t.item}let tP=(()=>{class e{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,s]=n.split("."),o=-1===i.indexOf("-")?void 0:La.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||e)(J(Ii),J(ev),J(to))};static#t=this.\u0275dir=Re({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return e})();class T4{createSubscription(t,n){return kx(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){kx(()=>t.unsubscribe())}}class M4{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const N4=new M4,R4=new T4;let nP=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(sp(n))return N4;if(WR(n))return R4;throw function ws(e,t){return new $(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||e)(J(op,16))};static#t=this.\u0275pipe=Kn({name:"async",type:e,pure:!1,standalone:!0})}return e})(),Y4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=mi({type:e});static#n=this.\u0275inj=vr({})}return e})();const iP="browser";function UI(e){return"server"===e}let e8=(()=>{class e{static#e=this.\u0275prov=me({token:e,providedIn:"root",factory:()=>function J4(e){return e===iP}(X(Js))?new t8(X(Ki),window):new r8})}return e})();class t8{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const n=function n8(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}}class r8{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class x8 extends TG{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jI extends x8{static makeCurrent(){!function AG(e){Fx??=e}(new jI)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function P8(){return fp=fp||document.querySelector("base"),fp?fp.getAttribute("href"):null}();return null==n?null:function O8(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){fp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function v4(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let fp=null,F8=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();const HI=new ue("");let fP=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(le(HI),le(ut))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();class pP{constructor(t){this._doc=t}}const $I="ng-app-id";let gP=(()=>{class e{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=UI(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${$I}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute($I),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute($I,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(le(Ki),le(zm),le(GS,8),le(Js))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();const WI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zI=/%COMP%/g,B8=new ue("",{providedIn:"root",factory:()=>!0});function _P(e,t){return t.map(n=>n.replace(zI,e))}let vP=(()=>{class e{constructor(n,r,i,s,o,a,l,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=UI(a),this.defaultRenderer=new GI(n,o,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Vr.ShadowDom&&(r={...r,encapsulation:Vr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof CP?i.applyToHost(n):i instanceof qI&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Vr.Emulated:s=new CP(l,d,r,this.appId,f,o,a,g);break;case Vr.ShadowDom:return new W8(l,d,n,r,o,a,this.nonce,g);default:s=new qI(l,d,r,f,o,a,g)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(le(fP),le(gP),le(zm),le(B8),le(Ki),le(Js),le(ut),le(GS))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();class GI{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(WI[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(yP(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(yP(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=WI[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=WI[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(La.DashCase|La.Important)?t.style.setProperty(n,r,i&La.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&La.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Wa().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function yP(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class W8 extends GI{constructor(t,n,r,i,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=_P(i.id,i.styles);for(const f of d){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qI extends GI{constructor(t,n,r,i,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?_P(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class CP extends qI{constructor(t,n,r,i,s,o,a,l){const d=i+"-"+r.id;super(t,n,r,s,o,a,l,d),this.contentAttr=function j8(e){return"_ngcontent-%COMP%".replace(zI,e)}(d),this.hostAttr=function H8(e){return"_nghost-%COMP%".replace(zI,e)}(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let z8=(()=>{class e extends pP{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(le(Ki))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();const wP=["alt","control","meta","shift"],G8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q8={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let K8=(()=>{class e extends pP{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wa().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),wP.forEach(d=>{const f=r.indexOf(d);f>-1&&(r.splice(f,1),o+=d+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=G8[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wP.forEach(o=>{o!==i&&(0,q8[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(le(Ki))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();const IP=[{provide:Js,useValue:iP},{provide:zS,useValue:function Y8(){jI.makeCurrent()},multi:!0},{provide:Ki,useFactory:function Z8(){return function MU(e){cw=e}(document),document},deps:[]}],X8=ex(W3,"browser",IP),J8=new ue(""),bP=[{provide:Y_,useClass:class k8{addToWindow(t){ge.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new $(5103,!1);return s},ge.getAllAngularTestabilities=()=>t.getAllTestabilities(),ge.getAllAngularRootElements=()=>t.getAllRootElements(),ge.frameworkStabilizers||(ge.frameworkStabilizers=[]),ge.frameworkStabilizers.push(r=>{const i=ge.getAllAngularTestabilities();let s=i.length;const o=function(){s--,0==s&&r()};i.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Wa().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:$R,useClass:aI,deps:[ut,lI,Y_]},{provide:aI,useClass:aI,deps:[ut,lI,Y_]}],DP=[{provide:Nh,useValue:"root"},{provide:Ei,useFactory:function Q8(){return new Ei},deps:[]},{provide:HI,useClass:z8,multi:!0,deps:[Ki,ut,Js]},{provide:HI,useClass:K8,multi:!0,deps:[Ki]},vP,gP,fP,{provide:fT,useExisting:vP},{provide:class i8{},useClass:F8,deps:[]},[]];let eq=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:zm,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(le(J8,12))};static#t=this.\u0275mod=mi({type:e});static#n=this.\u0275inj=vr({providers:[...DP,...bP],imports:[Y4,z3]})}return e})(),tq=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(le(Ki))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var cd=Fe(635);const MP=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function NP(e){return Se(e?.then)}function RP(e){return Se(e[as])}function xP(e){return Symbol.asyncIterator&&Se(e?.[Symbol.asyncIterator])}function PP(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const OP=function oq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kP(e){return Se(e?.[OP])}function FP(e){return(0,cd.AQ)(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield(0,cd.N3)(n.read());if(i)return yield(0,cd.N3)(void 0);yield yield(0,cd.N3)(r)}}finally{n.releaseLock()}})}function LP(e){return Se(e?.getReader)}function oi(e){if(e instanceof At)return e;if(null!=e){if(RP(e))return function aq(e){return new At(t=>{const n=e[as]();if(Se(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(MP(e))return function lq(e){return new At(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(NP(e))return function uq(e){return new At(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,xs)})}(e);if(xP(e))return VP(e);if(kP(e))return function cq(e){return new At(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(LP(e))return function dq(e){return VP(FP(e))}(e)}throw PP(e)}function VP(e){return new At(t=>{(function hq(e,t){var n,r,i,s;return(0,cd.sH)(this,void 0,void 0,function*(){try{for(n=(0,cd.xN)(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ra(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function iu(e,t=0){return fe((n,r)=>{n.subscribe(Ne(r,i=>ra(r,e,()=>r.next(i),t),()=>ra(r,e,()=>r.complete(),t),i=>ra(r,e,()=>r.error(i),t)))})}function dd(e,t=0){return fe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function UP(e,t){if(!e)throw new Error("Iterable cannot be null");return new At(n=>{ra(n,t,()=>{const r=e[Symbol.asyncIterator]();ra(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function wn(e,t){return t?function vq(e,t){if(null!=e){if(RP(e))return function fq(e,t){return oi(e).pipe(dd(t),iu(t))}(e,t);if(MP(e))return function gq(e,t){return new At(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(NP(e))return function pq(e,t){return oi(e).pipe(dd(t),iu(t))}(e,t);if(xP(e))return UP(e,t);if(kP(e))return function mq(e,t){return new At(n=>{let r;return ra(n,t,()=>{r=e[OP](),ra(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}(e,t);if(LP(e))return function _q(e,t){return UP(FP(e),t)}(e,t)}throw PP(e)}(e,t):oi(e)}function KI(e){return e[e.length-1]}function YI(e){return Se(KI(e))?e.pop():void 0}function gp(e){return function yq(e){return e&&Se(e.schedule)}(KI(e))?e.pop():void 0}function Me(...e){return wn(e,gp(e))}const{isArray:wq}=Array,{getPrototypeOf:Eq,prototype:Iq,keys:bq}=Object;function BP(e){if(1===e.length){const t=e[0];if(wq(t))return{args:t,keys:null};if(function Dq(e){return e&&"object"==typeof e&&Eq(e)===Iq}(t)){const n=bq(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:Sq}=Array;function jP(e){return we(t=>function Aq(e,t){return Sq(t)?e(...t):e(t)}(e,t))}function HP(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function QI(...e){const t=gp(e),n=YI(e),{args:r,keys:i}=BP(e);if(0===r.length)return wn([],t);const s=new At(function Tq(e,t,n=Tn){return r=>{$P(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)$P(t,()=>{const d=wn(e[l],t);let f=!1;d.subscribe(Ne(r,g=>{s[l]=g,f||(f=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>HP(i,o):Tn));return n?s.pipe(jP(n)):s}function $P(e,t,n){e?ra(n,e,t):t()}const Cv=Sn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function br(e,t,n=1/0){return Se(t)?br((r,i)=>we((s,o)=>t(r,s,i,o))(oi(e(r,i))),n):("number"==typeof t&&(n=t),fe((r,i)=>function Mq(e,t,n,r,i,s,o,a){const l=[];let d=0,f=0,g=!1;const m=()=>{g&&!l.length&&!d&&t.complete()},v=y=>d<r?C(y):l.push(y),C=y=>{s&&t.next(y),d++;let E=!1;oi(n(y,f++)).subscribe(Ne(t,M=>{i?.(M),s?v(M):t.next(M)},()=>{E=!0},void 0,()=>{if(E)try{for(d--;l.length&&d<r;){const M=l.shift();o?ra(t,o,()=>C(M)):C(M)}m()}catch(M){t.error(M)}}))};return e.subscribe(Ne(t,v,()=>{g=!0,m()})),()=>{a?.()}}(r,i,e,n)))}function hd(e=1/0){return br(Tn,e)}function ZI(...e){return function Nq(){return hd(1)}()(wn(e,gp(e)))}function WP(e){return new At(t=>{oi(e()).subscribe(t)})}function wv(e,t){const n=Se(e)?e:()=>e,r=i=>i.error(n());return new At(t?i=>t.schedule(r,0,i):r)}const Es=new At(e=>e.complete());function XI(){return fe((e,t)=>{let n=null;e._refCount++;const r=Ne(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class zP extends At{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,he(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ct;const n=this.getSubject();t.add(this.source.subscribe(Ne(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ct.EMPTY)}return t}refCount(){return XI()(this)}}function zn(e,t){return fe((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Ne(r,l=>{i?.unsubscribe();let d=0;const f=s++;oi(e(l,f)).subscribe(i=Ne(r,g=>r.next(t?t(l,g,f,d++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function fd(e){return e<=0?()=>Es:fe((t,n)=>{let r=0;t.subscribe(Ne(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ia(e,t){return fe((n,r)=>{let i=0;n.subscribe(Ne(r,s=>e.call(t,s,i++)&&r.next(s)))})}function Ev(e){return fe((t,n)=>{let r=!1;t.subscribe(Ne(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function GP(e=Pq){return fe((t,n)=>{let r=!1;t.subscribe(Ne(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Pq(){return new Cv}function za(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ia((i,s)=>e(i,s,r)):Tn,fd(1),n?Ev(t):GP(()=>new Cv))}function mp(e,t){return Se(t)?br(e,t,1):br(e,1)}function Dr(e,t,n){const r=Se(e)||t||n?{next:e,error:t,complete:n}:e;return r?fe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ne(s,l=>{var d;null===(d=r.next)||void 0===d||d.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var d;a=!1,null===(d=r.error)||void 0===d||d.call(r,l),s.error(l)},()=>{var l,d;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(d=r.finalize)||void 0===d||d.call(r)}))}):Tn}function pd(e){return fe((t,n)=>{let s,r=null,i=!1;r=t.subscribe(Ne(n,void 0,void 0,o=>{s=oi(e(o,pd(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function JI(e,t){return fe(function Oq(e,t,n,r,i){return(s,o)=>{let a=n,l=t,d=0;s.subscribe(Ne(o,f=>{const g=d++;l=a?e(l,f,g):(a=!0,f),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(e,t,arguments.length>=2,!0))}function e0(e){return e<=0?()=>Es:fe((t,n)=>{let r=[];t.subscribe(Ne(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function t0(e){return fe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const ze="primary",_p=Symbol("RouteTitle");class Vq{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function gd(e){return new Vq(e)}function Uq(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ao(e,t){const n=e?n0(e):void 0,r=t?n0(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!qP(e[i],t[i]))return!1;return!0}function n0(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function qP(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function KP(e){return e.length>0?e[e.length-1]:null}function Ga(e){return function sq(e){return!!e&&(e instanceof At||Se(e.lift)&&Se(e.subscribe))}(e)?e:sp(e)?wn(Promise.resolve(e)):Me(e)}const jq={exact:function ZP(e,t,n){if(!su(e.segments,t.segments)||!Iv(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!ZP(e.children[r],t.children[r],n))return!1;return!0},subset:XP},YP={exact:function Hq(e,t){return ao(e,t)},subset:function $q(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>qP(e[n],t[n]))},ignored:()=>!0};function QP(e,t,n){return jq[n.paths](e.root,t.root,n.matrixParams)&&YP[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function XP(e,t,n){return JP(e,t,t.segments,n)}function JP(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!su(i,n)||t.hasChildren()||!Iv(i,n,r))}if(e.segments.length===n.length){if(!su(e.segments,n)||!Iv(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!XP(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(su(e.segments,i)&&Iv(e.segments,i,r)&&e.children[ze])&&JP(e.children[ze],t,s,r)}}function Iv(e,t,n){return t.every((r,i)=>YP[n](e[i].parameters,r.parameters))}class md{constructor(t=new Mt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=gd(this.queryParams),this._queryParamMap}toString(){return Gq.serialize(this)}}class Mt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bv(this)}}class vp{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=gd(this.parameters),this._parameterMap}toString(){return nO(this)}}function su(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let _d=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:()=>new r0,providedIn:"root"})}return e})();class r0{parse(t){const n=new r6(t);return new md(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${yp(t.root,!0)}`,r=function Yq(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Dv(n)}=${Dv(i)}`).join("&"):`${Dv(n)}=${Dv(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function qq(e){return encodeURI(e)}(t.fragment)}`:""}`}}const Gq=new r0;function bv(e){return e.segments.map(t=>nO(t)).join("/")}function yp(e,t){if(!e.hasChildren())return bv(e);if(t){const n=e.children[ze]?yp(e.children[ze],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==ze&&r.push(`${i}:${yp(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function zq(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===ze&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ze&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===ze?[yp(e.children[ze],!1)]:[`${i}:${yp(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ze]?`${bv(e)}/${n[0]}`:`${bv(e)}/(${n.join("//")})`}}function eO(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dv(e){return eO(e).replace(/%3B/gi,";")}function s0(e){return eO(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sv(e){return decodeURIComponent(e)}function tO(e){return Sv(e.replace(/\+/g,"%20"))}function nO(e){return`${s0(e.path)}${function Kq(e){return Object.entries(e).map(([t,n])=>`;${s0(t)}=${s0(n)}`).join("")}(e.parameters)}`}const Qq=/^[^\/()?;#]+/;function o0(e){const t=e.match(Qq);return t?t[0]:""}const Zq=/^[^\/()?;=#]+/,Jq=/^[^=?&#]+/,t6=/^[^&#]+/;class r6{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ze]=new Mt(t,n)),r}parseSegment(){const t=o0(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(t),new vp(Sv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Xq(e){const t=e.match(Zq);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=o0(this.remaining);i&&(r=i,this.capture(r))}t[Sv(n)]=Sv(r)}parseQueryParam(t){const n=function e6(e){const t=e.match(Jq);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function n6(e){const t=e.match(t6);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=tO(n),s=tO(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=o0(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ze);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ze]:new Mt([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new $(4011,!1)}}function rO(e){return e.segments.length>0?new Mt([],{[ze]:e}):e}function iO(e){const t={};for(const[r,i]of Object.entries(e.children)){const s=iO(i);if(r===ze&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function i6(e){if(1===e.numberOfChildren&&e.children[ze]){const t=e.children[ze];return new Mt(e.segments.concat(t.segments),t.children)}return e}(new Mt(e.segments,t))}function vd(e){return e instanceof md}function sO(e){let t;const r=function n(s){const o={};for(const l of s.children){const d=n(l);o[l.outlet]=d}const a=new Mt(s.url,o);return s===e&&(t=a),a}(e.root),i=rO(r);return t??i}function oO(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return a0(i,i,i,n,r);const s=function o6(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new lO(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,d])=>{a[l]="string"==typeof d?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new lO(n,t,r)}(t);if(s.toRoot())return a0(i,i,new Mt([],{}),n,r);const o=function a6(e,t,n){if(e.isAbsolute)return new Tv(t,!0,0);if(!n)return new Tv(t,!1,NaN);if(null===n.parent)return new Tv(n,!0,0);const r=Av(e.commands[0])?0:1;return function l6(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Tv(r,!1,i-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),a=o.processChildren?wp(o.segmentGroup,o.index,s.commands):uO(o.segmentGroup,o.index,s.commands);return a0(i,o.segmentGroup,a,n,r)}function Av(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Cp(e){return"object"==typeof e&&null!=e&&e.outlets}function a0(e,t,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,d])=>{s[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`}),o=e===t?n:aO(e,t,n);const a=rO(iO(o));return new md(a,s,i)}function aO(e,t,n){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===t?n:aO(s,t,n)}),new Mt(e.segments,r)}class lO{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Av(r[0]))throw new $(4003,!1);const i=r.find(Cp);if(i&&i!==KP(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tv{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function uO(e,t,n){if(e??=new Mt([],{}),0===e.segments.length&&e.hasChildren())return wp(e,t,n);const r=function c6(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(Cp(a))break;const l=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!dO(l,d,o))return s;r+=2}else{if(!dO(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Mt(e.segments.slice(0,r.pathIndex),{});return s.children[ze]=new Mt(e.segments.slice(r.pathIndex),e.children),wp(s,0,i)}return r.match&&0===i.length?new Mt(e.segments,{}):r.match&&!e.hasChildren()?l0(e,t,n):r.match?wp(e,0,i):l0(e,t,n)}function wp(e,t,n){if(0===n.length)return new Mt(e.segments,{});{const r=function u6(e){return Cp(e[0])?e[0].outlets:{[ze]:e}}(n),i={};if(Object.keys(r).some(s=>s!==ze)&&e.children[ze]&&1===e.numberOfChildren&&0===e.children[ze].segments.length){const s=wp(e.children[ze],t,n);return new Mt(e.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=uO(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Mt(e.segments,i)}}function l0(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Cp(s)){const l=d6(s.outlets);return new Mt(r,l)}if(0===i&&Av(n[0])){r.push(new vp(e.segments[t].path,cO(n[0]))),i++;continue}const o=Cp(s)?s.outlets[ze]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Av(a)?(r.push(new vp(o,cO(a))),i+=2):(r.push(new vp(o,{})),i++)}return new Mt(r,{})}function d6(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=l0(new Mt([],{}),0,r))}),t}function cO(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function dO(e,t,n){return e==n.path&&ao(t,n.parameters)}const Ep="imperative";var it=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(it||{});class lo{constructor(t,n){this.id=t,this.url=n}}class Mv extends lo{constructor(t,n,r="imperative",i=null){super(t,n),this.type=it.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sa extends lo{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=it.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ai=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ai||{}),Nv=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Nv||{});class yd extends lo{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=it.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cd extends lo{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=it.NavigationSkipped}}class Rv extends lo{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=it.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hO extends lo{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=it.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h6 extends lo{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=it.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f6 extends lo{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=it.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class p6 extends lo{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g6 extends lo{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m6{constructor(t){this.route=t,this.type=it.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _6{constructor(t){this.route=t,this.type=it.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class v6{constructor(t){this.snapshot=t,this.type=it.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y6{constructor(t){this.snapshot=t,this.type=it.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C6{constructor(t){this.snapshot=t,this.type=it.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w6{constructor(t){this.snapshot=t,this.type=it.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fO{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=it.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class u0{}class c0{constructor(t){this.url=t}}class E6{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ip,this.attachRef=null}}let Ip=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new E6,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class pO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=d0(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=d0(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=h0(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return h0(t,this._root).map(n=>n.value)}}function d0(e,t){if(e===t.value)return t;for(const n of t.children){const r=d0(e,n);if(r)return r}return null}function h0(e,t){if(e===t.value)return[t];for(const n of t.children){const r=h0(e,n);if(r.length)return r.unshift(t),r}return[]}class Is{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function wd(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class gO extends pO{constructor(t,n){super(t),this.snapshot=n,g0(this,t)}toString(){return this.snapshot.toString()}}function mO(e){const t=function I6(e){const s=new p0([],{},{},"",{},ze,e,null,{});return new _O("",new Is(s,[]))}(e),n=new P([new vp("",{})]),r=new P({}),i=new P({}),s=new P({}),o=new P(""),a=new Ed(n,r,s,o,i,ze,e,t.root);return a.snapshot=t.root,new gO(new Is(a,[]),t)}class Ed{constructor(t,n,r,i,s,o,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(we(d=>d[_p]))??Me(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(we(t=>gd(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(we(t=>gd(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function f0(e,t,n="emptyOnly"){let r;const{routeConfig:i}=e;return r=null===t||"always"!==n&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...i?.data,...e._resolvedData}},i&&yO(i)&&(r.resolve[_p]=i.title),r}class p0{get title(){return this.data?.[_p]}constructor(t,n,r,i,s,o,a,l,d){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=gd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=gd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _O extends pO{constructor(t,n){super(n),this.url=t,g0(this,n)}toString(){return vO(this._root)}}function g0(e,t){t.value._routerState=e,t.children.forEach(n=>g0(e,n))}function vO(e){const t=e.children.length>0?` { ${e.children.map(vO).join(", ")} } `:"";return`${e.value}${t}`}function m0(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ao(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),ao(t.params,n.params)||e.paramsSubject.next(n.params),function Bq(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ao(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),ao(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function _0(e,t){const n=ao(e.params,t.params)&&function Wq(e,t){return su(e,t)&&e.every((n,r)=>ao(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||_0(e.parent,t.parent))}function yO(e){return"string"==typeof e.title||null===e.title}let CO=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ze,this.activateEvents=new pn,this.deactivateEvents=new pn,this.attachEvents=new pn,this.detachEvents=new pn,this.parentContexts=X(Ip),this.location=X(_s),this.changeDetector=X(op),this.environmentInjector=X(Br),this.inputBinder=X(xv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new b6(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Re({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wr]})}return e})();class b6{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(t,n){return t===Ed?this.route:t===Ip?this.childContexts:this.parent.get(t,n)}}const xv=new ue("");let wO=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=QI([r.queryParams,r.params,r.data]).pipe(zn(([s,o,a],l)=>(a={...s,...o,...a},0===l?Me(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function SG(e){const t=We(e);if(!t)return null;const n=new jf(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();function bp(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function S6(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return bp(e,r,i);return bp(e,r)})}(e,t,n);return new Is(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>bp(e,a)),o}}const r=function A6(e){return new Ed(new P(e.url),new P(e.params),new P(e.queryParams),new P(e.fragment),new P(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>bp(e,s));return new Is(r,i)}}const EO="ngNavigationCancelingError";function IO(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=vd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=bO(!1,Ai.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function bO(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[EO]=!0,n.cancellationCode=t,n}function DO(e){return!!e&&e[EO]}let SO=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Fo({type:e,selectors:[["ng-component"]],standalone:!0,features:[fR],decls:1,vars:0,template:function(r,i){1&r&&dr(0,"router-outlet")},dependencies:[CO],encapsulation:2})}return e})();function v0(e){const t=e.children&&e.children.map(v0),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ze&&(n.component=SO),n}function uo(e){return e.outlet||ze}function Dp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class k6{constructor(t,n,r,i,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),m0(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=wd(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=wd(t);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=wd(t);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=wd(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new w6(s.value.snapshot))}),t.children.length&&this.forwardEvent(new y6(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(m0(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),m0(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Dp(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class AO{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Pv{constructor(t,n){this.component=t,this.route=n}}function F6(e,t,n){const r=e._root;return Sp(r,t?t._root:null,n,[r.value])}function Id(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function ih(e){return null!==ku(e)}(e)?t.get(e):e:r}function Sp(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=wd(t);return e.children.forEach(o=>{(function V6(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function U6(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!su(e.url,t.url);case"pathParamsOrQueryParamsChange":return!su(e.url,t.url)||!ao(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_0(e,t)||!ao(e.queryParams,t.queryParams);default:return!_0(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new AO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Sp(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Pv(a.outlet.component,o))}else o&&Ap(t,a,i),i.canActivateChecks.push(new AO(r)),Sp(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ap(a,n.getContext(o),i)),i}function Ap(e,t,n){const r=wd(e),i=e.value;Object.entries(r).forEach(([s,o])=>{Ap(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Pv(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Tp(e){return"function"==typeof e}function TO(e){return e instanceof Cv||"EmptyError"===e?.name}const Ov=Symbol("INITIAL_VALUE");function bd(){return zn(e=>QI(e.map(t=>t.pipe(fd(1),function xq(...e){const t=gp(e);return fe((n,r)=>{(t?ZI(e,n,t):ZI(e,n)).subscribe(r)})}(Ov)))).pipe(we(t=>{for(const n of t)if(!0!==n){if(n===Ov)return Ov;if(!1===n||n instanceof md)return n}return!0}),ia(t=>t!==Ov),fd(1)))}function MO(e){return function Ao(...e){return Cl(e)}(Dr(t=>{if(vd(t))throw IO(0,t)}),we(t=>!0===t))}class y0{constructor(t){this.segmentGroup=t||null}}class C0 extends Error{constructor(t){super(),this.urlTree=t}}function Dd(e){return wv(new y0(e))}class i5{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Me(r);if(i.numberOfChildren>1||!i.children[ze])return wv(new $(4e3,!1));i=i.children[ze]}}applyRedirectCommands(t,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new C0(i);return i}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new md(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,r,i)}),new Mt(s,o)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const w0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function s5(e,t,n,r,i){const s=E0(e,t,n);return s.matched?(r=function M6(e,t){return e.providers&&!e._injector&&(e._injector=I_(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function t5(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Me(i.map(o=>{const a=Id(o,e);return Ga(function z6(e){return e&&Tp(e.canMatch)}(a)?a.canMatch(t,n):Gs(e,()=>a(t,n)))})).pipe(bd(),MO()):Me(!0)}(r,t,n).pipe(we(o=>!0===o?s:{...w0}))):Me(s)}function E0(e,t,n){if("**"===t.path)return function o5(e){return{matched:!0,parameters:e.length>0?KP(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...w0}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Uq)(n,e,t);if(!i)return{...w0};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function NO(e,t,n,r){return n.length>0&&function u5(e,t,n){return n.some(r=>kv(e,t,r)&&uo(r)!==ze)}(e,n,r)?{segmentGroup:new Mt(t,l5(r,new Mt(n,e.children))),slicedSegments:[]}:0===n.length&&function c5(e,t,n){return n.some(r=>kv(e,t,r))}(e,n,r)?{segmentGroup:new Mt(e.segments,a5(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Mt(e.segments,e.children),slicedSegments:n}}function a5(e,t,n,r){const i={};for(const s of n)if(kv(e,t,s)&&!r[uo(s)]){const o=new Mt([],{});i[uo(s)]=o}return{...r,...i}}function l5(e,t){const n={};n[ze]=t;for(const r of e)if(""===r.path&&uo(r)!==ze){const i=new Mt([],{});n[uo(r)]=i}return n}function kv(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class f5{}class m5{constructor(t,n,r,i,s,o,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new i5(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new $(4002,`'${t.segmentGroup}'`)}recognize(){const t=NO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(we(n=>{const r=new p0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ze,this.rootComponentType,null,{}),i=new Is(r,n),s=new _O("",i),o=function s6(e,t,n=null,r=null){return oO(sO(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,ze).pipe(pd(r=>{if(r instanceof C0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof y0?this.noMatchError(r):r}))}inheritParamsAndData(t,n){const r=t.value,i=f0(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(we(s=>s instanceof Is?[s]:[]))}processChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return wn(i).pipe(mp(s=>{const o=r.children[s],a=function P6(e,t){const n=e.filter(r=>uo(r)===t);return n.push(...e.filter(r=>uo(r)!==t)),n}(n,s);return this.processSegmentGroup(t,a,o,s)}),JI((s,o)=>(s.push(...o),s)),Ev(null),function kq(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ia((i,s)=>e(i,s,r)):Tn,e0(1),n?Ev(t):GP(()=>new Cv))}(),br(s=>{if(null===s)return Dd(r);const o=RO(s);return function _5(e){e.sort((t,n)=>t.value.outlet===ze?-1:n.value.outlet===ze?1:t.value.outlet.localeCompare(n.value.outlet))}(o),Me(o)}))}processSegment(t,n,r,i,s,o){return wn(n).pipe(mp(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,s,o).pipe(pd(l=>{if(l instanceof y0)return Me(null);throw l}))),za(a=>!!a),pd(a=>{if(TO(a))return function h5(e,t,n){return 0===t.length&&!e.children[n]}(r,i,s)?Me(new f5):Dd(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,s,o,a){return function d5(e,t,n,r){return!!(uo(e)===r||r!==ze&&kv(t,n,e))&&E0(t,e,n).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o):Dd(i):Dd(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){const{matched:a,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=E0(n,i,s);if(!a)return Dd(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d);return this.applyRedirects.lineralizeSegments(i,g).pipe(br(m=>this.processSegment(t,r,n,m.concat(f),o,!1)))}matchSegmentAgainstRoute(t,n,r,i,s){const o=s5(n,r,i,t);return"**"===r.path&&(n.children={}),o.pipe(zn(a=>a.matched?this.getChildConfig(t=r._injector??t,r,i).pipe(zn(({routes:l})=>{const d=r._loadedInjector??t,{consumedSegments:f,remainingSegments:g,parameters:m}=a,v=new p0(f,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function y5(e){return e.data||{}}(r),uo(r),r.component??r._loadedComponent??null,r,function C5(e){return e.resolve||{}}(r)),{segmentGroup:C,slicedSegments:y}=NO(n,f,g,l);if(0===y.length&&C.hasChildren())return this.processChildren(d,l,C).pipe(we(M=>null===M?null:new Is(v,M)));if(0===l.length&&0===y.length)return Me(new Is(v,[]));const E=uo(r)===s;return this.processSegment(d,l,C,y,E?ze:s,!0).pipe(we(M=>new Is(v,M instanceof Is?[M]:[])))})):Dd(n)))}getChildConfig(t,n,r){return n.children?Me({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Me({routes:n._loadedRoutes,injector:n._loadedInjector}):function e5(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Me(!0):Me(i.map(o=>{const a=Id(o,e);return Ga(function j6(e){return e&&Tp(e.canLoad)}(a)?a.canLoad(t,n):Gs(e,()=>a(t,n)))})).pipe(bd(),MO())}(t,n,r).pipe(br(i=>i?this.configLoader.loadChildren(t,n).pipe(Dr(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function r5(e){return wv(bO(!1,Ai.GuardRejected))}())):Me({routes:[],injector:t})}}function v5(e){const t=e.value.routeConfig;return t&&""===t.path}function RO(e){const t=[],n=new Set;for(const r of e){if(!v5(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=RO(r.children);t.push(new Is(r.value,i))}return t.filter(r=>!n.has(r))}function xO(e){const t=e.children.map(n=>xO(n)).flat();return[e,...t]}function I0(e){return zn(t=>{const n=e(t);return n?wn(n).pipe(we(()=>t)):Me(t)})}let PO=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ze);return r}getResolvedTitleForRoute(n){return n.data[_p]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:()=>X(S5),providedIn:"root"})}return e})(),S5=(()=>{class e extends PO{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(le(tq))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Sd=new ue("",{providedIn:"root",factory:()=>({})}),Ad=new ue("");let b0=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X(KR)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Me(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ga(n.loadComponent()).pipe(we(OO),Dr(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),t0(()=>{this.componentLoaders.delete(n)})),i=new zP(r,()=>new N).pipe(XI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Me({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function A5(e,t,n,r){return Ga(e.loadChildren()).pipe(we(OO),br(i=>i instanceof iM||Array.isArray(i)?Me(i):wn(t.compileModuleAsync(i))),we(i=>{r&&r(e);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(Ad,[],{optional:!0,self:!0}).flat()),{routes:o.map(v0),injector:s}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(t0(()=>{this.childrenLoaders.delete(r)})),o=new zP(s,()=>new N).pipe(XI());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function OO(e){return function T5(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let D0=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:()=>X(M5),providedIn:"root"})}return e})(),M5=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const kO=new ue(""),FO=new ue("");function N5(e,t,n){const r=e.get(FO),i=e.get(Ki);return e.get(ut).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s;const o=new Promise(d=>{s=d}),a=i.startViewTransition(()=>(s(),function R5(e){return new Promise(t=>{CT(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=r;return l&&Gs(e,()=>l({transition:a,from:t,to:n})),o})}let Fv=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new N,this.transitionAbortSubject=new N,this.configLoader=X(b0),this.environmentInjector=X(Br),this.urlSerializer=X(_d),this.rootContexts=X(Ip),this.location=X(up),this.inputBindingEnabled=null!==X(xv,{optional:!0}),this.titleStrategy=X(PO),this.options=X(Sd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=X(D0),this.createViewTransition=X(kO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Me(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new _6(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new m6(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new P({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ep,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ia(s=>0!==s.id),we(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),zn(s=>{let o=!1,a=!1;return Me(s).pipe(zn(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ai.SupersededByNewNavigation),Es;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new Cd(l.id,this.urlSerializer.serialize(l.rawUrl),g,Nv.IgnoredSameUrlNavigation)),l.resolve(null),Es}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Me(l).pipe(zn(g=>{const m=this.transitions?.getValue();return this.events.next(new Mv(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),m!==this.transitions?.getValue()?Es:Promise.resolve(g)}),function w5(e,t,n,r,i,s){return br(o=>function p5(e,t,n,r,i,s,o="emptyOnly"){return new m5(e,t,n,r,i,o,s).recognize()}(e,t,n,r,o.extractedUrl,i,s).pipe(we(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Dr(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const m=new hO(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:m,source:v,restoredState:C,extras:y}=l,E=new Mv(g,this.urlSerializer.serialize(m),v,C);this.events.next(E);const M=mO(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:M,urlAfterRedirects:m,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=m,Me(s)}{const g="";return this.events.next(new Cd(l.id,this.urlSerializer.serialize(l.extractedUrl),g,Nv.IgnoredByUrlHandlingStrategy)),l.resolve(null),Es}}),Dr(l=>{const d=new h6(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),we(l=>(this.currentTransition=s={...l,guards:F6(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function G6(e,t){return br(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Me({...n,guardsResult:!0}):function q6(e,t,n,r){return wn(e).pipe(br(i=>function J6(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return Me(!0);const o=s.map(a=>{const l=Dp(t)??i,d=Id(a,l);return Ga(function W6(e){return e&&Tp(e.canDeactivate)}(d)?d.canDeactivate(e,t,n,r):Gs(l,()=>d(e,t,n,r))).pipe(za())});return Me(o).pipe(bd())}(i.component,i.route,n,t,r)),za(i=>!0!==i,!0))}(o,r,i,e).pipe(br(a=>a&&function B6(e){return"boolean"==typeof e}(a)?function K6(e,t,n,r){return wn(t).pipe(mp(i=>ZI(function Q6(e,t){return null!==e&&t&&t(new v6(e)),Me(!0)}(i.route.parent,r),function Y6(e,t){return null!==e&&t&&t(new C6(e)),Me(!0)}(i.route,r),function X6(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function L6(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>WP(()=>Me(o.guards.map(l=>{const d=Dp(o.node)??n,f=Id(l,d);return Ga(function $6(e){return e&&Tp(e.canActivateChild)}(f)?f.canActivateChild(r,e):Gs(d,()=>f(r,e))).pipe(za())})).pipe(bd())));return Me(s).pipe(bd())}(e,i.path,n),function Z6(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Me(!0);const i=r.map(s=>WP(()=>{const o=Dp(t)??n,a=Id(s,o);return Ga(function H6(e){return e&&Tp(e.canActivate)}(a)?a.canActivate(t,e):Gs(o,()=>a(t,e))).pipe(za())}));return Me(i).pipe(bd())}(e,i.route,n))),za(i=>!0!==i,!0))}(r,s,e,t):Me(a)),we(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Dr(l=>{if(s.guardsResult=l.guardsResult,vd(l.guardsResult))throw IO(0,l.guardsResult);const d=new f6(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),ia(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",Ai.GuardRejected),!1)),I0(l=>{if(l.guards.canActivateChecks.length)return Me(l).pipe(Dr(d=>{const f=new p6(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),zn(d=>{let f=!1;return Me(d).pipe(function E5(e,t){return br(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Me(n);const s=new Set(i.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const d of xO(l))o.add(d);let a=0;return wn(o).pipe(mp(l=>s.has(l)?function I5(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!yO(i)&&(s[_p]=i.title),function b5(e,t,n,r){const i=n0(e);if(0===i.length)return Me({});const s={};return wn(i).pipe(br(o=>function D5(e,t,n,r){const i=Dp(t)??r,s=Id(e,i);return Ga(s.resolve?s.resolve(t,n):Gs(i,()=>s(t,n)))}(e[o],t,n,r).pipe(za(),Dr(a=>{s[o]=a}))),e0(1),function Fq(e){return we(()=>e)}(s),pd(o=>TO(o)?Es:wv(o)))}(s,e,t,r).pipe(we(o=>(e._resolvedData=o,e.data=f0(e,e.parent,n).resolve,null)))}(l,r,e,t):(l.data=f0(l,l.parent,e).resolve,Me(void 0))),Dr(()=>a++),e0(1),br(l=>a===o.size?Me(n):Es))})}(this.paramsInheritanceStrategy,this.environmentInjector),Dr({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",Ai.NoDataFromResolver)}}))}),Dr(d=>{const f=new g6(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),I0(l=>{const d=f=>{const g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(Dr(m=>{f.component=m}),we(()=>{})));for(const m of f.children)g.push(...d(m));return g};return QI(d(l.targetSnapshot.root)).pipe(Ev(null),fd(1))}),I0(()=>this.afterPreactivation()),zn(()=>{const{currentSnapshot:l,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?wn(f).pipe(we(()=>s)):Me(s)}),we(l=>{const d=function D6(e,t,n){const r=bp(e,t._root,n?n._root:void 0);return new gO(r,t)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:d},this.currentNavigation.targetRouterState=d,s}),Dr(()=>{this.events.next(new u0)}),((e,t,n,r)=>we(i=>(new k6(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),fd(1),Dr({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function Lq(e){return fe((t,n)=>{oi(e).subscribe(Ne(n,()=>n.complete(),Qr)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(Dr(l=>{throw l}))),t0(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Ai.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),pd(l=>{if(a=!0,DO(l))this.events.next(new yd(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function T6(e){return DO(e)&&vd(e.url)}(l)?this.events.next(new c0(l.url)):s.resolve(!1);else{this.events.next(new Rv(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Es}))}))}cancelNavigationTransition(n,r,i){const s=new yd(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function x5(e){return e!==Ep}let P5=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:()=>X(k5),providedIn:"root"})}return e})();class O5{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let k5=(()=>{class e extends O5{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xn(e)))(i||e)}})();static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),LO=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:()=>X(F5),providedIn:"root"})}return e})(),F5=(()=>{class e extends LO{constructor(){super(...arguments),this.location=X(up),this.urlSerializer=X(_d),this.options=X(Sd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=X(D0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new md,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mO(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Mv)this.stateMemento=this.createStateMemento();else if(n instanceof Cd)this.rawUrlTree=r.initialUrl;else if(n instanceof hO){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof u0?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof yd&&(n.code===Ai.GuardRejected||n.code===Ai.NoDataFromResolver)?this.restoreHistory(r):n instanceof Rv?this.restoreHistory(r,!0):n instanceof sa&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xn(e)))(i||e)}})();static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Mp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Mp||{});function VO(e,t){e.events.pipe(ia(n=>n instanceof sa||n instanceof yd||n instanceof Rv||n instanceof Cd),we(n=>n instanceof sa||n instanceof Cd?Mp.COMPLETE:n instanceof yd&&(n.code===Ai.Redirect||n.code===Ai.SupersededByNewNavigation)?Mp.REDIRECTING:Mp.FAILED),ia(n=>n!==Mp.REDIRECTING),fd(1)).subscribe(()=>{t()})}function L5(e){throw e}const V5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bs=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=X(VR),this.stateManager=X(LO),this.options=X(Sd,{optional:!0})||{},this.pendingTasks=X(Vc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=X(Fv),this.urlSerializer=X(_d),this.location=X(up),this.urlHandlingStrategy=X(D0),this._events=new N,this.errorHandler=this.options.errorHandler||L5,this.navigated=!1,this.routeReuseStrategy=X(P5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=X(Ad,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!X(xv,{optional:!0}),this.eventsSubscription=new Ct,this.isNgZoneEnabled=X(ut)instanceof ut&&ut.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof yd&&r.code!==Ai.Redirect&&r.code!==Ai.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sa)this.navigated=!0;else if(r instanceof c0){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||x5(i.source)};this.scheduleNavigation(o,Ep,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function j5(e){return!(e instanceof u0||e instanceof c0)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ep,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(v0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:o;let g,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{g=sO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return oO(g,n,f,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=vd(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ep,null,r)}navigate(n,r={skipLocationChange:!1}){return function B5(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new $(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{...V5}:!1===r?{...U5}:r,vd(n))return QP(this.currentUrlTree,n,i);const s=this.parseUrl(n);return QP(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,d;o?(a=o.resolve,l=o.reject,d=o.promise):d=new Promise((g,m)=>{a=g,l=m});const f=this.pendingTasks.add();return VO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class UO{}let W5=(()=>{class e{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ia(n=>n instanceof sa),mp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=I_(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return wn(i).pipe(hd())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Me(null);const s=i.pipe(br(o=>null===o?Me(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?wn([s,this.loader.loadComponent(r)]).pipe(hd()):s})}static#e=this.\u0275fac=function(r){return new(r||e)(le(bs),le(KR),le(Br),le(UO),le(b0))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const A0=new ue("");let BO=(()=>{class e{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Mv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof sa?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Cd&&n.code===Nv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof fO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function VA(){throw new Error("invalid")}()};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac})}return e})();function co(e,t){return{\u0275kind:e,\u0275providers:t}}function HO(){const e=X(se);return t=>{const n=e.get(Ha);if(t!==n.components[0])return;const r=e.get(bs),i=e.get($O);1===e.get(T0)&&r.initialNavigation(),e.get(WO,null,Ue.Optional)?.setUpPreloading(),e.get(A0,null,Ue.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const $O=new ue("",{factory:()=>new N}),T0=new ue("",{providedIn:"root",factory:()=>1}),WO=new ue("");function K5(e){return co(0,[{provide:WO,useExisting:W5},{provide:UO,useExisting:e}])}function Q5(e){return co(9,[{provide:kO,useValue:N5},{provide:FO,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const zO=new ue("ROUTER_FORROOT_GUARD"),Z5=[up,{provide:_d,useClass:r0},bs,Ip,{provide:Ed,useFactory:function jO(e){return e.routerState.root},deps:[bs]},b0,[]];let GO=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[Z5,[],{provide:Ad,multi:!0,useValue:n},{provide:zO,useFactory:t9,deps:[[bs,new Po,new Oo]]},{provide:Sd,useValue:r||{}},r?.useHash?{provide:ru,useClass:RG}:{provide:ru,useClass:Ux},{provide:A0,useFactory:()=>{const e=X(e8),t=X(ut),n=X(Sd),r=X(Fv),i=X(_d);return n.scrollOffset&&e.setOffset(n.scrollOffset),new BO(i,r,e,t,n)}},r?.preloadingStrategy?K5(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?n9(r):[],r?.bindToComponentInputs?co(8,[wO,{provide:xv,useExisting:wO}]).\u0275providers:[],r?.enableViewTransitions?Q5().\u0275providers:[],[{provide:qO,useFactory:HO},{provide:hI,multi:!0,useExisting:qO}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Ad,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(le(zO,8))};static#t=this.\u0275mod=mi({type:e});static#n=this.\u0275inj=vr({})}return e})();function t9(e){return"guarded"}function n9(e){return["disabled"===e.initialNavigation?co(3,[{provide:cI,multi:!0,useFactory:()=>{const t=X(bs);return()=>{t.setUpLocationChangeListener()}}},{provide:T0,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?co(2,[{provide:T0,useValue:0},{provide:cI,multi:!0,deps:[se],useFactory:t=>{const n=t.get(MG,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(bs),s=t.get($O);VO(i,()=>{r(!0)}),t.get(Fv).afterPreactivation=()=>(r(!0),s.closed?Me(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const qO=new ue(""),i9=[];let s9=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=mi({type:e});static#n=this.\u0275inj=vr({imports:[GO.forRoot(i9),GO]})}return e})();function oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var M0,Sr,nn,un,fo,k0,F0,ek,rk,Pd,Vp,l,d,f,g,m,v,e,t,n,r,i,s,o,a,C,Ti={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Td={duration:.5,overwrite:!1,delay:0},Zi=1e8,jt=1e-8,N0=2*Math.PI,o9=N0/4,a9=0,YO=Math.sqrt,l9=Math.cos,u9=Math.sin,Jn=function(t){return"string"==typeof t},gn=function(t){return"function"==typeof t},aa=function(t){return"number"==typeof t},R0=function(t){return typeof t>"u"},ho=function(t){return"object"==typeof t},ai=function(t){return!1!==t},x0=function(){return typeof window<"u"},Lv=function(t){return gn(t)||Jn(t)},QO="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Ar=Array.isArray,P0=/(?:-?\.?\d|\.)+/gi,ZO=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Md=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,O0=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,XO=/[+-]=-?[.\d]+/,JO=/[^,'"\[\]\s]+/gi,c9=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Mi={},Vv={},tk=function(t){return(Vv=au(t,Mi))&&ci},L0=function(t,n){return console.warn("Invalid property",t,"set to",n,"Missing plugin? gsap.registerPlugin()")},Np=function(t,n){return!n&&console.warn(t)},nk=function(t,n){return t&&(Mi[t]=n)&&Vv&&(Vv[t]=n)||Mi},Rp=function(){return 0},d9={suppressEvents:!0,isStart:!0,kill:!1},Uv={suppressEvents:!0,kill:!1},h9={suppressEvents:!0},V0={},qa=[],U0={},Ni={},B0={},ik=30,Bv=[],j0="",H0=function(t){var r,i,n=t[0];if(ho(n)||gn(n)||(t=[t]),!(r=(n._gsap||{}).harness)){for(i=Bv.length;i--&&!Bv[i].targetTest(n););r=Bv[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Pk(t[i],r)))||t.splice(i,1);return t},ou=function(t){return t._gsap||H0(es(t))[0]._gsap},sk=function(t,n,r){return(r=t[n])&&gn(r)?t[n]():R0(r)&&t.getAttribute&&t.getAttribute(n)||r},li=function(t,n){return(t=t.split(",")).forEach(n)||t},En=function(t){return Math.round(1e5*t)/1e5||0},er=function(t){return Math.round(1e7*t)/1e7||0},Nd=function(t,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return t=parseFloat(t),"+"===r?t+i:"-"===r?t-i:"*"===r?t*i:t/i},f9=function(t,n){for(var r=n.length,i=0;t.indexOf(n[i])<0&&++i<r;);return i<r},jv=function(){var r,i,t=qa.length,n=qa.slice(0);for(U0={},qa.length=0,r=0;r<t;r++)(i=n[r])&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},ok=function(t,n,r,i){qa.length&&!Sr&&jv(),t.render(n,r,i||Sr&&n<0&&(t._initted||t._startAt)),qa.length&&!Sr&&jv()},ak=function(t){var n=parseFloat(t);return(n||0===n)&&(t+"").match(JO).length<2?n:Jn(t)?t.trim():t},lk=function(t){return t},Xi=function(t,n){for(var r in n)r in t||(t[r]=n[r]);return t},au=function(t,n){for(var r in n)t[r]=n[r];return t},uk=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=ho(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Hv=function(t,n){var i,r={};for(i in t)i in n||(r[i]=t[i]);return r},xp=function(t){var n=t.parent||un,r=t.keyframes?function(t){return function(n,r){for(var i in r)i in n||"duration"===i&&t||"ease"===i||(n[i]=r[i])}}(Ar(t.keyframes)):Xi;if(ai(t.inherit))for(;n;)r(t,n.vars.defaults),n=n.parent||n._dp;return t},ck=function(t,n,r,i,s){void 0===r&&(r="_first"),void 0===i&&(i="_last");var a,o=t[i];if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=t[r],t[r]=n),n._next?n._next._prev=n:t[i]=n,n._prev=o,n.parent=n._dp=t,n},$v=function(t,n,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:t[r]===n&&(t[r]=o),o?o._prev=s:t[i]===n&&(t[i]=s),n._next=n._prev=n.parent=null},Ka=function(t,n){t.parent&&(!n||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},lu=function(t,n){if(t&&(!n||n._end>t._dur||n._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},$0=function(t,n,r,i){return t._startAt&&(Sr?t._startAt.revert(Uv):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(n,!0,i))},_9=function e(t){return!t||t._ts&&e(t.parent)},dk=function(t){return t._repeat?Rd(t._tTime,t=t.duration()+t._rDelay)*t:0},Rd=function(t,n){var r=Math.floor(t/=n);return t&&r===t?r-1:r},Wv=function(t,n){return(t-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},zv=function(t){return t._end=er(t._start+(t._tDur/Math.abs(t._ts||t._rts||jt)||0))},Gv=function(t,n){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=er(r._time-(t._ts>0?n/t._ts:((t._dirty?t.totalDuration():t._tDur)-n)/-t._ts)),zv(t),r._dirty||lu(r,t)),t},hk=function(t,n){var r;if((n._time||!n._dur&&n._initted||n._start<t._time&&(n._dur||!n.add))&&(r=Wv(t.rawTime(),n),(!n._dur||Op(0,n.totalDuration(),r)-n._tTime>jt)&&n.render(r,!0)),lu(t,n)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-jt}},po=function(t,n,r,i){return n.parent&&Ka(n),n._start=er((aa(r)?r:r||t!==un?Ji(t,r,n):t._time)+n._delay),n._end=er(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),ck(t,n,"_first","_last",t._sort?"_start":0),W0(n)||(t._recent=n),i||hk(t,n),t._ts<0&&Gv(t,t._tTime),t},fk=function(t,n){return(Mi.ScrollTrigger||L0("scrollTrigger",n))&&Mi.ScrollTrigger.create(n,t)},pk=function(t,n,r,i,s){return J0(t,n,s),t._initted?!r&&t._pt&&!Sr&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&rk!==xi.frame?(qa.push(t),t._lazy=[s,i],1):void 0:1},v9=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},W0=function(t){var n=t.data;return"isFromStart"===n||"isStart"===n},xd=function(t,n,r,i){var s=t._repeat,o=er(n)||0,a=t._tTime/t._tDur;return a&&!i&&(t._time*=o/t._dur),t._dur=o,t._tDur=s?s<0?1e10:er(o*(s+1)+t._rDelay*s):o,a>0&&!i&&Gv(t,t._tTime=t._tDur*a),t.parent&&zv(t),r||lu(t.parent,t),t},gk=function(t){return t instanceof Gr?lu(t):xd(t,t._dur)},w9={_start:0,endTime:Rp,totalDuration:Rp},Ji=function e(t,n,r){var a,l,d,i=t.labels,s=t._recent||w9,o=t.duration()>=Zi?s.endTime(!1):t._dur;return Jn(n)&&(isNaN(n)||n in i)?(l=n.charAt(0),d="%"===n.substr(-1),a=n.indexOf("="),"<"===l||">"===l?(a>=0&&(n=n.replace(/=/,"")),("<"===l?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(d?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),d&&r&&(l=l/100*(Ar(r)?r[0]:r).totalDuration()),a>1?e(t,n.substr(0,a-1),r)+l:o+l)):null==n?o:+n},Pp=function(t,n,r){var a,l,i=aa(n[1]),s=(i?2:1)+(t<2?0:1),o=n[s];if(i&&(o.duration=n[1]),o.parent=r,t){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=ai(l.vars.inherit)&&l.parent;o.immediateRender=ai(a.immediateRender),t<2?o.runBackwards=1:o.startAt=n[s-1]}return new Fn(n[0],o,n[s+1])},Ya=function(t,n){return t||0===t?n(t):n},Op=function(t,n,r){return r<t?t:r>n?n:r},Tr=function(t,n){return Jn(t)&&(n=c9.exec(t))?n[1]:""},z0=[].slice,mk=function(t,n){return t&&ho(t)&&"length"in t&&(!n&&!t.length||t.length-1 in t&&ho(t[0]))&&!t.nodeType&&t!==fo},es=function(t,n,r){return nn&&!n&&nn.selector?nn.selector(t):!Jn(t)||r||!k0&&Od()?Ar(t)?function(t,n,r){return void 0===r&&(r=[]),t.forEach(function(i){var s;return Jn(i)&&!n||mk(i,1)?(s=r).push.apply(s,es(i)):r.push(i)})||r}(t,r):mk(t)?z0.call(t,0):t?[t]:[]:z0.call((n||F0).querySelectorAll(t),0)},G0=function(t){return t=es(t)[0]||Np("Invalid scope")||{},function(n){var r=t.current||t.nativeElement||t;return es(n,r.querySelectorAll?r:r===t?Np("Invalid scope")||F0.createElement("div"):t)}},_k=function(t){return t.sort(function(){return.5-Math.random()})},vk=function(t){if(gn(t))return t;var n=ho(t)?t:{each:t},r=uu(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,d=n.axis,f=i,g=i;return Jn(i)?f=g={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(f=i[0],g=i[1]),function(m,v,C){var M,A,O,U,B,ee,ie,pe,oe,y=(C||n).length,E=o[y];if(!E){if(!(oe="auto"===n.grid?0:(n.grid||[1,Zi])[1])){for(ie=-Zi;ie<(ie=C[oe++].getBoundingClientRect().left)&&oe<y;);oe<y&&oe--}for(E=o[y]=[],M=l?Math.min(oe,y)*f-.5:i%oe,A=oe===Zi?0:l?y*g/oe-.5:i/oe|0,ie=0,pe=Zi,ee=0;ee<y;ee++)O=ee%oe-M,U=A-(ee/oe|0),E[ee]=B=d?Math.abs("y"===d?U:O):YO(O*O+U*U),B>ie&&(ie=B),B<pe&&(pe=B);"random"===i&&_k(E),E.max=ie-pe,E.min=pe,E.v=y=(parseFloat(n.amount)||parseFloat(n.each)*(oe>y?y-1:d?"y"===d?y/oe:oe:Math.max(oe,y/oe))||0)*("edges"===i?-1:1),E.b=y<0?s-y:s,E.u=Tr(n.amount||n.each)||0,r=r&&y<0?Nk(r):r}return y=(E[m]-E.min)/E.max||0,er(E.b+(r?r(y):y)*E.v)+E.u}},q0=function(t){var n=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var i=er(Math.round(parseFloat(r)/t)*t*n);return(i-i%1)/n+(aa(r)?0:Tr(r))}},yk=function(t,n){var i,s,r=Ar(t);return!r&&ho(t)&&(i=r=t.radius||Zi,t.values?(t=es(t.values),(s=!aa(t[0]))&&(i*=i)):t=q0(t.increment)),Ya(n,r?gn(t)?function(o){return s=t(o),Math.abs(s-o)<=i?s:o}:function(o){for(var m,v,a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),d=Zi,f=0,g=t.length;g--;)(m=s?(m=t[g].x-a)*m+(v=t[g].y-l)*v:Math.abs(t[g]-a))<d&&(d=m,f=g);return f=!i||d<=i?t[f]:o,s||f===o||aa(o)?f:f+Tr(o)}:q0(t))},Ck=function(t,n,r,i){return Ya(Ar(t)?!n:!0===r?!!(r=0):!i,function(){return Ar(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(n-t+.99*r))/r)*r*i)/i})},wk=function(t,n,r){return Ya(r,function(i){return t[~~n(i)]})},kp=function(t){for(var i,s,o,a,n=0,r="";~(i=t.indexOf("random(",n));)o=t.indexOf(")",i),a="["===t.charAt(i+7),s=t.substr(i+7,o-i-7).match(a?JO:P0),r+=t.substr(n,i-n)+Ck(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return r+t.substr(n,t.length-n)},Ek=function(t,n,r,i,s){var o=n-t,a=i-r;return Ya(s,function(l){return r+((l-t)/o*a||0)})},Ik=function(t,n,r){var o,a,l,i=t.labels,s=Zi;for(o in i)(a=i[o]-n)<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Ri=function(t,n,r){var l,d,f,i=t.vars,s=i[n],o=nn,a=t._ctx;if(s)return l=i[n+"Params"],d=i.callbackScope||t,r&&qa.length&&jv(),a&&(nn=a),f=l?s.apply(d,l):s.call(d),nn=o,f},Fp=function(t){return Ka(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Sr),t.progress()<1&&Ri(t,"onInterrupt"),t},bk=[],Dk=function(t){if(t)if(t=!t.name&&t.default||t,x0()||t.headless){var n=t.name,r=gn(t),i=n&&!r&&t.init?function(){this._props=[]}:t,s={init:Rp,render:nb,add:Z0,kill:z9,modifier:W9,rawVars:0},o={targetTest:0,get:0,getSetter:tb,aliases:{},register:0};if(Od(),t!==i){if(Ni[n])return;Xi(i,Xi(Hv(t,s),o)),au(i.prototype,au(s,Hv(t,o))),Ni[i.prop=n]=i,t.targetTest&&(Bv.push(i),V0[n]=1),n=("css"===n?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}nk(n,i),t.register&&t.register(ci,i,ui)}else bk.push(t)},Pt=255,Lp={aqua:[0,Pt,Pt],lime:[0,Pt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Pt],navy:[0,0,128],white:[Pt,Pt,Pt],olive:[128,128,0],yellow:[Pt,Pt,0],orange:[Pt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Pt,0,0],pink:[Pt,192,203],cyan:[0,Pt,Pt],transparent:[Pt,Pt,Pt,0]},K0=function(t,n,r){return(6*(t+=t<0?1:t>1?-1:0)<1?n+(r-n)*t*6:t<.5?r:3*t<2?n+(r-n)*(2/3-t)*6:n)*Pt+.5|0},Sk=function(t,n,r){var s,o,a,l,d,f,g,m,v,C,i=t?aa(t)?[t>>16,t>>8&Pt,t&Pt]:0:Lp.black;if(!i){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Lp[t])i=Lp[t];else if("#"===t.charAt(0)){if(t.length<6&&(s=t.charAt(1),o=t.charAt(2),a=t.charAt(3),t="#"+s+s+o+o+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(i=parseInt(t.substr(1,6),16))>>16,i>>8&Pt,i&Pt,parseInt(t.substr(7),16)/255];i=[(t=parseInt(t.substr(1),16))>>16,t>>8&Pt,t&Pt]}else if("hsl"===t.substr(0,3))if(i=C=t.match(P0),n){if(~t.indexOf("="))return i=t.match(ZO),r&&i.length<4&&(i[3]=1),i}else l=+i[0]%360/360,d=+i[1]/100,s=2*(f=+i[2]/100)-(o=f<=.5?f*(d+1):f+d-f*d),i.length>3&&(i[3]*=1),i[0]=K0(l+1/3,s,o),i[1]=K0(l,s,o),i[2]=K0(l-1/3,s,o);else i=t.match(P0)||Lp.transparent;i=i.map(Number)}return n&&!C&&(s=i[0]/Pt,o=i[1]/Pt,a=i[2]/Pt,f=((g=Math.max(s,o,a))+(m=Math.min(s,o,a)))/2,g===m?l=d=0:(v=g-m,d=f>.5?v/(2-g-m):v/(g+m),l=g===s?(o-a)/v+(o<a?6:0):g===o?(a-s)/v+2:(s-o)/v+4,l*=60),i[0]=~~(l+.5),i[1]=~~(100*d+.5),i[2]=~~(100*f+.5)),r&&i.length<4&&(i[3]=1),i},Ak=function(t){var n=[],r=[],i=-1;return t.split(Qa).forEach(function(s){var o=s.match(Md)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},Tk=function(t,n,r){var l,d,f,g,i="",s=(t+i).match(Qa),o=n?"hsla(":"rgba(",a=0;if(!s)return t;if(s=s.map(function(m){return(m=Sk(m,n,1))&&o+(n?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),r&&(f=Ak(t),(l=r.c).join(i)!==f.c.join(i)))for(g=(d=t.replace(Qa,"1").split(Md)).length-1;a<g;a++)i+=d[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(f.length?f:s.length?s:r).shift());if(!d)for(g=(d=t.split(Qa)).length-1;a<g;a++)i+=d[a]+s[a];return i+d[g]},Qa=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Lp)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),N9=/hsl[a]?\(/,Mk=function(t){var r,n=t.join(" ");if(Qa.lastIndex=0,Qa.test(n))return r=N9.test(n),t[1]=Tk(t[1],r),t[0]=Tk(t[0],r,Ak(t[1])),!0},xi=(e=Date.now,t=500,n=33,r=e(),i=r,o=s=1e3/240,C=function y(E){var O,U,B,ee,M=e()-i,A=!0===E;if((M>t||M<0)&&(r+=M-n),((O=(B=(i+=M)-r)-o)>0||A)&&(ee=++g.frame,m=B-1e3*g.time,g.time=B/=1e3,o+=O+(O>=s?4:s-O),U=1),A||(l=d(y)),U)for(v=0;v<a.length;v++)a[v](B,m,ee,E)},g={time:0,frame:0,tick:function(){C(!0)},deltaRatio:function(E){return m/(1e3/(E||60))},wake:function(){ek&&(!k0&&x0()&&(fo=k0=window,F0=fo.document||{},Mi.gsap=ci,(fo.gsapVersions||(fo.gsapVersions=[])).push(ci.version),tk(Vv||fo.GreenSockGlobals||!fo.gsap&&fo||{}),bk.forEach(Dk)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&g.sleep(),d=f||function(E){return setTimeout(E,o-1e3*g.time+1|0)},Vp=1,C(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(l),Vp=0,d=Rp},lagSmoothing:function(E,M){t=E||1/0,n=Math.min(M||33,t)},fps:function(E){o=1e3*g.time+(s=1e3/(E||240))},add:function(E,M,A){var O=M?function(U,B,ee,ie){E(U,B,ee,ie),g.remove(O)}:E;return g.remove(E),a[A?"unshift":"push"](O),Od(),O},remove:function(E,M){~(M=a.indexOf(E))&&a.splice(M,1)&&v>=M&&v--},_listeners:a=[]}),Od=function(){return!Vp&&xi.wake()},st={},R9=/^[\d.\-M][\d.\-,\s]/,x9=/["']/g,P9=function(t){for(var a,l,d,n={},r=t.substr(1,t.length-3).split(":"),i=r[0],s=1,o=r.length;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,d=l.substr(0,a),n[i]=isNaN(d)?d.replace(x9,"").trim():+d,i=l.substr(a+1).trim();return n},Nk=function(t){return function(n){return 1-t(1-n)}},Rk=function e(t,n){for(var i,r=t._first;r;)r instanceof Gr?e(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?e(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},uu=function(t,n){return t&&(gn(t)?t:st[t]||function(t){var n=(t+"").split("("),r=st[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[P9(n[1])]:function(t){var n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n);return t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)}(t).split(",").map(ak)):st._CE&&R9.test(t)?st._CE("",t):r}(t))||n},cu=function(t,n,r,i){void 0===r&&(r=function(l){return 1-n(1-l)}),void 0===i&&(i=function(l){return l<.5?n(2*l)/2:1-n(2*(1-l))/2});var o,s={easeIn:n,easeOut:r,easeInOut:i};return li(t,function(a){for(var l in st[a]=Mi[a]=s,st[o=a.toLowerCase()]=r,s)st[o+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=st[a+"."+l]=s[l]}),s},xk=function(t){return function(n){return n<.5?(1-t(1-2*n))/2:.5+t(2*(n-.5))/2}},Y0=function e(t,n,r){var i=n>=1?n:1,s=(r||(t?.3:.45))/(n<1?n:1),o=s/N0*(Math.asin(1/i)||0),a=function(f){return 1===f?1:i*Math.pow(2,-10*f)*u9((f-o)*s)+1},l="out"===t?a:"in"===t?function(d){return 1-a(1-d)}:xk(a);return s=N0/s,l.config=function(d,f){return e(t,d,f)},l},Q0=function e(t,n){void 0===n&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i="out"===t?r:"in"===t?function(s){return 1-r(1-s)}:xk(r);return i.config=function(s){return e(t,s)},i};li("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;cu(e+",Power"+(n-1),t?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(2*r,n)/2:1-Math.pow(2*(1-r),n)/2})}),st.Linear.easeNone=st.none=st.Linear.easeIn,cu("Elastic",Y0("in"),Y0("out"),Y0()),function(e,t){var s=function(a){return a<.36363636363636365?e*a*a:a<.7272727272727273?e*Math.pow(a-1.5/t,2)+.75:a<.9090909090909092?e*(a-=2.25/t)*a+.9375:e*Math.pow(a-2.625/t,2)+.984375};cu("Bounce",function(o){return 1-s(1-o)},s)}(7.5625,2.75),cu("Expo",function(e){return e?Math.pow(2,10*(e-1)):0}),cu("Circ",function(e){return-(YO(1-e*e)-1)}),cu("Sine",function(e){return 1===e?1:1-l9(e*o9)}),cu("Back",Q0("in"),Q0("out"),Q0()),st.SteppedEase=st.steps=Mi.SteppedEase={config:function(t,n){void 0===t&&(t=1);var r=1/t,i=t+(n?0:1),s=n?1:0;return function(a){return((i*Op(0,.99999999,a)|0)+s)*r}}},Td.ease=st["quad.out"],li("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return j0+=e+","+e+"Params,"});var Pk=function(t,n){this.id=a9++,t._gsap=this,this.target=t,this.harness=n,this.get=n?n.get:sk,this.set=n?n.getSetter:tb},Up=function(){function e(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,xd(this,+n.duration,1,1),this.data=n.data,nn&&(this._ctx=nn,nn.data.push(this)),Vp||xi.wake()}var t=e.prototype;return t.delay=function(r){return r||0===r?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},t.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},t.totalDuration=function(r){return arguments.length?(this._dirty=0,xd(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(r,i){if(Od(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Gv(this,r),!s._dp||s.parent||hk(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&po(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===jt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),ok(this,r,i)),this},t.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+dk(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},t.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?r:1-r)+dk(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?Rd(this._tTime,s)+1:1},t.timeScale=function(r,i){if(!arguments.length)return this._rts===-jt?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?Wv(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-jt?0:this._rts,this.totalTime(Op(-Math.abs(this._delay),this._tDur,s),!1!==i),zv(this),function(t){for(var n=t.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return t}(this)},t.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Od(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==jt&&(this._tTime-=jt)))),this):this._ps},t.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&po(i,this,r-this._delay),this}return this._start},t.endTime=function(r){return this._start+(ai(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Wv(i.rawTime(r),this):this._tTime:this._tTime},t.revert=function(r){void 0===r&&(r=h9);var i=Sr;return Sr=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),"nested"!==this.data&&!1!==r.kill&&this.kill(),Sr=i,this},t.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},t.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,gk(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,gk(this),i?this.time(i):this}return this._rDelay},t.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},t.seek=function(r,i){return this.totalTime(Ji(this,r),ai(i))},t.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,ai(i))},t.play=function(r,i){return null!=r&&this.seek(r,i),this.reversed(!1).paused(!1)},t.reverse=function(r,i){return null!=r&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},t.pause=function(r,i){return null!=r&&this.seek(r,i),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-jt:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-jt,this},t.isActive=function(){var s,r=this.parent||this._dp,i=this._start;return!(r&&!(this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-jt))},t.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),"onUpdate"===r&&(this._onUpdate=i)):delete o[r],this):o[r]},t.then=function(r){var i=this;return new Promise(function(s){var o=gn(r)?r:lk,a=function(){var d=i.then;i.then=null,gn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=d),s(o),i.then=d};i._initted&&1===i.totalProgress()&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},t.kill=function(){Fp(this)},e}();Xi(Up.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-jt,_prom:0,_ps:!1,_rts:1});var Gr=function(e){function t(r,i){var s;return void 0===r&&(r={}),(s=e.call(this,r)||this).labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=ai(r.sortChildren),un&&po(r.parent||un,oa(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&fk(oa(s),r.scrollTrigger),s}KO(t,e);var n=t.prototype;return n.to=function(i,s,o){return Pp(0,arguments,this),this},n.from=function(i,s,o){return Pp(1,arguments,this),this},n.fromTo=function(i,s,o,a){return Pp(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,xp(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Fn(i,s,Ji(this,o),1),this},n.call=function(i,s,o){return po(this,Fn.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,l,d,f){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=d,o.onCompleteParams=f,o.parent=this,new Fn(i,o,Ji(this,l)),this},n.staggerFrom=function(i,s,o,a,l,d,f){return o.runBackwards=1,xp(o).immediateRender=ai(o.immediateRender),this.staggerTo(i,s,o,a,l,d,f)},n.staggerFromTo=function(i,s,o,a,l,d,f,g){return a.startAt=o,xp(a).immediateRender=ai(a.immediateRender),this.staggerTo(i,s,a,l,d,f,g)},n.render=function(i,s,o){var m,v,C,y,E,M,A,O,U,B,ee,ie,a=this._time,l=this._dirty?this.totalDuration():this._tDur,d=this._dur,f=i<=0?0:er(i),g=this._zTime<0!=i<0&&(this._initted||!d);if(this!==un&&f>l&&i>=0&&(f=l),f!==this._tTime||o||g){if(a!==this._time&&d&&(f+=this._time-a,i+=this._time-a),m=f,U=this._start,M=!(O=this._ts),g&&(d||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(ee=this._yoyo,E=d+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(100*E+i,s,o);if(m=er(f%E),f===l?(y=this._repeat,m=d):((y=~~(f/E))&&y===f/E&&(m=d,y--),m>d&&(m=d)),B=Rd(this._tTime,E),!a&&this._tTime&&B!==y&&this._tTime-B*E-this._dur<=0&&(B=y),ee&&1&y&&(m=d-m,ie=1),y!==B&&!this._lock){var pe=ee&&1&B,oe=pe===(ee&&1&y);if(y<B&&(pe=!pe),a=pe?0:f%d?d:f,this._lock=1,this.render(a||(ie?0:er(y*E)),s,!d)._lock=0,this._tTime=f,!s&&this.parent&&Ri(this,"onRepeat"),this.vars.repeatRefresh&&!ie&&(this.invalidate()._lock=1),a&&a!==this._time||M!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,l=this._tDur,oe&&(this._lock=2,this.render(a=pe?d:-1e-4,!0),this.vars.repeatRefresh&&!ie&&this.invalidate()),this._lock=0,!this._ts&&!M)return this;Rk(this,ie)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(A=function(t,n,r){var i;if(r>n)for(i=t._first;i&&i._start<=r;){if("isPause"===i.data&&i._start>n)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if("isPause"===i.data&&i._start<n)return i;i=i._prev}}(this,er(a),er(m)),A&&(f-=m-(m=A._start))),this._tTime=f,this._time=m,this._act=!O,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&m&&!s&&!y&&(Ri(this,"onStart"),this._tTime!==f))return this;if(m>=a&&i>=0)for(v=this._first;v;){if(C=v._next,(v._act||m>=v._start)&&v._ts&&A!==v){if(v.parent!==this)return this.render(i,s,o);if(v.render(v._ts>0?(m-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(m-v._start)*v._ts,s,o),m!==this._time||!this._ts&&!M){A=0,C&&(f+=this._zTime=-jt);break}}v=C}else{v=this._last;for(var ct=i<0?i:m;v;){if(C=v._prev,(v._act||ct<=v._end)&&v._ts&&A!==v){if(v.parent!==this)return this.render(i,s,o);if(v.render(v._ts>0?(ct-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(ct-v._start)*v._ts,s,o||Sr&&(v._initted||v._startAt)),m!==this._time||!this._ts&&!M){A=0,C&&(f+=this._zTime=ct?-jt:jt);break}}v=C}}if(A&&!s&&(this.pause(),A.render(m>=a?0:-jt)._zTime=m>=a?1:-1,this._ts))return this._start=U,zv(this),this.render(i,s,o);this._onUpdate&&!s&&Ri(this,"onUpdate",!0),(f===l&&this._tTime>=this.totalDuration()||!f&&a)&&(U===this._start||Math.abs(O)!==Math.abs(this._ts))&&(this._lock||((i||!d)&&(f===l&&this._ts>0||!f&&this._ts<0)&&Ka(this,1),!s&&(!(i<0)||a)&&(f||a||!l)&&(Ri(this,f===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(aa(s)||(s=Ji(this,s,i)),!(i instanceof Up)){if(Ar(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Jn(i))return this.addLabel(i,s);if(!gn(i))return this;i=Fn.delayedCall(0,i)}return this!==i?po(this,i,s):this},n.getChildren=function(i,s,o,a){void 0===i&&(i=!0),void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===a&&(a=-Zi);for(var l=[],d=this._first;d;)d._start>=a&&(d instanceof Fn?s&&l.push(d):(o&&l.push(d),i&&l.push.apply(l,d.getChildren(!0,s,o)))),d=d._next;return l},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return Jn(i)?this.removeLabel(i):gn(i)?this.killTweensOf(i):($v(this,i),i===this._recent&&(this._recent=this._last),lu(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=er(xi.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),e.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=Ji(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=Fn.delayedCall(0,s||Rp,o);return a.data="isPause",this._hasPause=1,po(this,a,Ji(this,i))},n.removePause=function(i){var s=this._first;for(i=Ji(this,i);s;)s._start===i&&"isPause"===s.data&&Ka(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Za!==a[l]&&a[l].kill(i,s);return this},n.getTweensOf=function(i,s){for(var f,o=[],a=es(i),l=this._first,d=aa(s);l;)l instanceof Fn?f9(l._targets,a)&&(d?(!Za||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(f=l.getTweensOf(a,s)).length&&o.push.apply(o,f),l=l._next;return o},n.tweenTo=function(i,s){s=s||{};var v,o=this,a=Ji(o,i),d=s.startAt,f=s.onStart,g=s.onStartParams,m=s.immediateRender,C=Fn.to(o,Xi({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(d&&"time"in d?d.time:o._time))/o.timeScale())||jt,onStart:function(){if(o.pause(),!v){var E=s.duration||Math.abs((a-(d&&"time"in d?d.time:o._time))/o.timeScale());C._dur!==E&&xd(C,E,0,1).render(C._time,!0,!0),v=1}f&&f.apply(C,g||[])}},s));return m?C.render(0):C},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,Xi({startAt:{time:Ji(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return void 0===i&&(i=this._time),Ik(this,Ji(this,i))},n.previousLabel=function(i){return void 0===i&&(i=this._time),Ik(this,Ji(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+jt)},n.shiftChildren=function(i,s,o){void 0===o&&(o=0);for(var d,a=this._first,l=this.labels;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(d in l)l[d]>=o&&(l[d]+=i);return lu(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return e.prototype.invalidate.call(this,i)},n.clear=function(i){void 0===i&&(i=!0);for(var o,s=this._first;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),lu(this)},n.totalDuration=function(i){var d,f,g,s=0,o=this,a=o._last,l=Zi;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(g=o.parent;a;)d=a._prev,a._dirty&&a.totalDuration(),(f=a._start)>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,po(o,a,f-a._delay,1)._lock=0):l=f,f<0&&a._ts&&(s-=f,(!g&&!o._dp||g&&g.smoothChildTiming)&&(o._start+=f/o._ts,o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=d;xd(o,o===un&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(i){if(un._ts&&(ok(un,Wv(i,un)),rk=xi.frame),xi.frame>=ik){ik+=Ti.autoSleep||120;var s=un._first;if((!s||!s._ts)&&Ti.autoSleep&&xi._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||xi.sleep()}}},t}(Up);Xi(Gr.prototype,{_lock:0,_hasPause:0,_forcing:0});var Za,X0,F9=function(t,n,r,i,s,o,a){var g,m,v,C,y,E,M,A,l=new ui(this._pt,t,n,0,1,Uk,null,s),d=0,f=0;for(l.b=r,l.e=i,r+="",(M=~(i+="").indexOf("random("))&&(i=kp(i)),o&&(o(A=[r,i],t,n),r=A[0],i=A[1]),m=r.match(O0)||[];g=O0.exec(i);)C=g[0],y=i.substring(d,g.index),v?v=(v+1)%5:"rgba("===y.substr(-5)&&(v=1),C!==m[f++]&&(E=parseFloat(m[f-1])||0,l._pt={_next:l._pt,p:y||1===f?y:",",s:E,c:"="===C.charAt(1)?Nd(E,C)-E:parseFloat(C)-E,m:v&&v<4?Math.round:0},d=O0.lastIndex);return l.c=d<i.length?i.substring(d,i.length):"",l.fp=a,(XO.test(i)||M)&&(l.e=0),this._pt=l,l},Z0=function(t,n,r,i,s,o,a,l,d,f){gn(i)&&(i=i(s||0,t,o));var C,g=t[n],m="get"!==r?r:gn(g)?d?t[n.indexOf("set")||!gn(t["get"+n.substr(3)])?n:"get"+n.substr(3)](d):t[n]():g,v=gn(g)?d?j9:Lk:eb;if(Jn(i)&&(~i.indexOf("random(")&&(i=kp(i)),"="===i.charAt(1)&&((C=Nd(m,i)+(Tr(m)||0))||0===C)&&(i=C)),!f||m!==i||X0)return isNaN(m*i)||""===i?(!g&&!(n in t)&&L0(n,i),F9.call(this,t,n,m,i,v,l||Ti.stringFilter,d)):(C=new ui(this._pt,t,n,+m||0,i-(m||0),"boolean"==typeof g?$9:Vk,0,v),d&&(C.fp=d),a&&C.modifier(a,this,t),this._pt=C)},Ok=function(t,n,r,i,s,o){var a,l,d,f;if(Ni[t]&&!1!==(a=new Ni[t]).init(s,a.rawVars?n[t]:function(t,n,r,i,s){if(gn(t)&&(t=Bp(t,s,n,r,i)),!ho(t)||t.style&&t.nodeType||Ar(t)||QO(t))return Jn(t)?Bp(t,s,n,r,i):t;var a,o={};for(a in t)o[a]=Bp(t[a],s,n,r,i);return o}(n[t],i,s,o,r),r,i,o)&&(r._pt=l=new ui(r._pt,s,t,0,1,a.render,a,0,a.priority),r!==Pd))for(d=r._ptLookup[r._targets.indexOf(s)],f=a._props.length;f--;)d[a._props[f]]=l;return a},J0=function e(t,n,r){var B,ee,ie,pe,oe,ct,sn,Wt,zt,fr,rr,Ln,ir,i=t.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,d=i.onUpdate,f=i.runBackwards,g=i.yoyoEase,m=i.keyframes,v=i.autoRevert,C=t._dur,y=t._startAt,E=t._targets,M=t.parent,A=M&&"nested"===M.data?M.vars.targets:E,O="auto"===t._overwrite&&!M0,U=t.timeline;if(U&&(!m||!s)&&(s="none"),t._ease=uu(s,Td.ease),t._yEase=g?Nk(uu(!0===g?s:g,Td.ease)):0,g&&t._yoyo&&!t._repeat&&(g=t._yEase,t._yEase=t._ease,t._ease=g),t._from=!U&&!!i.runBackwards,!U||m&&!i.stagger){if(Ln=(Wt=E[0]?ou(E[0]).harness:0)&&i[Wt.prop],B=Hv(i,V0),y&&(y._zTime<0&&y.progress(1),n<0&&f&&a&&!v?y.render(-1,!0):y.revert(f&&C?Uv:d9),y._lazy=0),o){if(Ka(t._startAt=Fn.set(E,Xi({data:"isStart",overwrite:!1,parent:M,immediateRender:!0,lazy:!y&&ai(l),startAt:null,delay:0,onUpdate:d&&function(){return Ri(t,"onUpdate")},stagger:0},o))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Sr||!a&&!v)&&t._startAt.revert(Uv),a&&C&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(f&&C&&!y)if(n&&(a=!1),ie=Xi({overwrite:!1,data:"isFromStart",lazy:a&&!y&&ai(l),immediateRender:a,stagger:0,parent:M},B),Ln&&(ie[Wt.prop]=Ln),Ka(t._startAt=Fn.set(E,ie)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(Sr?t._startAt.revert(Uv):t._startAt.render(-1,!0)),t._zTime=n,a){if(!n)return}else e(t._startAt,jt,jt);for(t._pt=t._ptCache=0,l=C&&ai(l)||l&&!C,ee=0;ee<E.length;ee++){if(sn=(oe=E[ee])._gsap||H0(E)[ee]._gsap,t._ptLookup[ee]=fr={},U0[sn.id]&&qa.length&&jv(),rr=A===E?ee:A.indexOf(oe),Wt&&!1!==(zt=new Wt).init(oe,Ln||B,t,rr,A)&&(t._pt=pe=new ui(t._pt,oe,zt.name,0,1,zt.render,zt,0,zt.priority),zt._props.forEach(function(Ms){fr[Ms]=pe}),zt.priority&&(ct=1)),!Wt||Ln)for(ie in B)Ni[ie]&&(zt=Ok(ie,B,t,rr,oe,A))?zt.priority&&(ct=1):fr[ie]=pe=Z0.call(t,oe,ie,"get",B[ie],rr,A,0,i.stringFilter);t._op&&t._op[ee]&&t.kill(oe,t._op[ee]),O&&t._pt&&(Za=t,un.killTweensOf(oe,fr,t.globalTime(n)),ir=!t.parent,Za=0),t._pt&&l&&(U0[sn.id]=1)}ct&&Bk(t),t._onInit&&t._onInit(t)}t._onUpdate=d,t._initted=(!t._op||t._pt)&&!ir,m&&n<=0&&U.render(Zi,!0,!0)},B9=function(t,n,r,i){var o,a,s=n.ease||i||"power1.inOut";if(Ar(n))a=r[t]||(r[t]=[]),n.forEach(function(l,d){return a.push({t:d/(n.length-1)*100,v:l,e:s})});else for(o in n)a=r[o]||(r[o]=[]),"ease"===o||a.push({t:parseFloat(t),v:n[o],e:s})},Bp=function(t,n,r,i,s){return gn(t)?t.call(n,r,i,s):Jn(t)&&~t.indexOf("random(")?kp(t):t},kk=j0+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Fk={};li(kk+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return Fk[e]=1});var Fn=function(e){function t(r,i,s,o){var a;"number"==typeof i&&(s.duration=i,i=s,s=null);var U,B,ee,ie,pe,oe,ct,sn,l=(a=e.call(this,o?i:xp(i))||this).vars,d=l.duration,f=l.delay,g=l.immediateRender,m=l.stagger,v=l.overwrite,C=l.keyframes,y=l.defaults,E=l.scrollTrigger,M=l.yoyoEase,A=i.parent||un,O=(Ar(r)||QO(r)?aa(r[0]):"length"in i)?[r]:es(r);if(a._targets=O.length?H0(O):Np("GSAP target "+r+" not found. https://gsap.com",!Ti.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=v,C||m||Lv(d)||Lv(f)){if(i=a.vars,(U=a.timeline=new Gr({data:"nested",defaults:y||{},targets:A&&"nested"===A.data?A.vars.targets:O})).kill(),U.parent=U._dp=oa(a),U._start=0,m||Lv(d)||Lv(f)){if(ie=O.length,ct=m&&vk(m),ho(m))for(pe in m)~kk.indexOf(pe)&&(sn||(sn={}),sn[pe]=m[pe]);for(B=0;B<ie;B++)(ee=Hv(i,Fk)).stagger=0,M&&(ee.yoyoEase=M),sn&&au(ee,sn),oe=O[B],ee.duration=+Bp(d,oa(a),B,oe,O),ee.delay=(+Bp(f,oa(a),B,oe,O)||0)-a._delay,!m&&1===ie&&ee.delay&&(a._delay=f=ee.delay,a._start+=f,ee.delay=0),U.to(oe,ee,ct?ct(B,oe,O):0),U._ease=st.none;U.duration()?d=f=0:a.timeline=0}else if(C){xp(Xi(U.vars.defaults,{ease:"none"})),U._ease=uu(C.ease||i.ease||"none");var zt,fr,rr,Wt=0;if(Ar(C))C.forEach(function(Ln){return U.to(O,Ln,">")}),U.duration();else{for(pe in ee={},C)"ease"===pe||"easeEach"===pe||B9(pe,C[pe],ee,C.easeEach);for(pe in ee)for(zt=ee[pe].sort(function(Ln,ir){return Ln.t-ir.t}),Wt=0,B=0;B<zt.length;B++)(rr={ease:(fr=zt[B]).e,duration:(fr.t-(B?zt[B-1].t:0))/100*d})[pe]=fr.v,U.to(O,rr,Wt),Wt+=rr.duration;U.duration()<d&&U.to({},{duration:d-U.duration()})}}d||a.duration(d=U.duration())}else a.timeline=0;return!0===v&&!M0&&(Za=oa(a),un.killTweensOf(O),Za=0),po(A,oa(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(g||!d&&!C&&a._start===er(A._time)&&ai(g)&&_9(oa(a))&&"nested"!==A.data)&&(a._tTime=-jt,a.render(Math.max(0,-f)||0)),E&&fk(oa(a),E),a}KO(t,e);var n=t.prototype;return n.render=function(i,s,o){var m,v,C,y,E,M,A,O,U,a=this._time,l=this._tDur,d=this._dur,f=i<0,g=i>l-jt&&!f?l:i<jt?0:i;if(d){if(g!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f){if(m=g,O=this.timeline,this._repeat){if(y=d+this._rDelay,this._repeat<-1&&f)return this.totalTime(100*y+i,s,o);if(m=er(g%y),g===l?(C=this._repeat,m=d):((C=~~(g/y))&&C===er(g/y)&&(m=d,C--),m>d&&(m=d)),(M=this._yoyo&&1&C)&&(U=this._yEase,m=d-m),E=Rd(this._tTime,y),m===a&&!o&&this._initted&&C===E)return this._tTime=g,this;C!==E&&(O&&this._yEase&&Rk(O,M),this.vars.repeatRefresh&&!M&&!this._lock&&this._time!==y&&this._initted&&(this._lock=o=1,this.render(er(y*C),!0).invalidate()._lock=0))}if(!this._initted){if(pk(this,f?i:m,o,s,g))return this._tTime=0,this;if(!(a===this._time||o&&this.vars.repeatRefresh&&C!==E))return this;if(d!==this._dur)return this.render(i,s,o)}if(this._tTime=g,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=A=(U||this._ease)(m/d),this._from&&(this.ratio=A=1-A),m&&!a&&!s&&!C&&(Ri(this,"onStart"),this._tTime!==g))return this;for(v=this._pt;v;)v.r(A,v.d),v=v._next;O&&O.render(i<0?i:O._dur*O._ease(m/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(f&&$0(this,i,0,o),Ri(this,"onUpdate")),this._repeat&&C!==E&&this.vars.onRepeat&&!s&&this.parent&&Ri(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(f&&!this._onUpdate&&$0(this,i,0,!0),(i||!d)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Ka(this,1),!s&&(!f||a)&&(g||a||M)&&(Ri(this,g===l?"onComplete":"onReverseComplete",!0),this._prom&&!(g<l&&this.timeScale()>0)&&this._prom()))}}else!function(t,n,r,i){var d,f,g,s=t.ratio,o=n<0||!n&&(!t._start&&v9(t)&&(t._initted||!W0(t))||(t._ts<0||t._dp._ts<0)&&!W0(t))?0:1,a=t._rDelay,l=0;if(a&&t._repeat&&(l=Op(0,t._tDur,n),f=Rd(l,a),t._yoyo&&1&f&&(o=1-o),f!==Rd(t._tTime,a)&&(s=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==s||Sr||i||t._zTime===jt||!n&&t._zTime){if(!t._initted&&pk(t,n,i,r,l))return;for(g=t._zTime,t._zTime=n||(r?jt:0),r||(r=n&&!g),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=l,d=t._pt;d;)d.r(o,d.d),d=d._next;n<0&&$0(t,n,0,!0),t._onUpdate&&!r&&Ri(t,"onUpdate"),l&&t._repeat&&!r&&t.parent&&Ri(t,"onRepeat"),(n>=t._tDur||n<0)&&t.ratio===o&&(o&&Ka(t,1),!r&&!Sr&&(Ri(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=n)}(this,i,s,o);return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),e.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a,l){Vp||xi.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||J0(this,d),function(t,n,r,i,s,o,a,l){var f,g,m,v,d=(t._pt&&t._ptCache||(t._ptCache={}))[n];if(!d)for(d=t._ptCache[n]=[],m=t._ptLookup,v=t._targets.length;v--;){if((f=m[v][n])&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==n&&f.fp!==n;)f=f._next;if(!f)return X0=1,t.vars[n]="+=0",J0(t,a),X0=0,l?Np(n+" not eligible for reset"):1;d.push(f)}for(v=d.length;v--;)(f=(g=d[v])._pt||g).s=!i&&0!==i||s?f.s+(i||0)+o*f.c:i,f.c=r-f.s,g.e&&(g.e=En(r)+Tr(g.e)),g.b&&(g.b=f.s+Tr(g.b))}(this,i,s,o,a,this._ease(d/this._dur),d,l)?this.resetTo(i,s,o,a,1):(Gv(this,0),this.parent||ck(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(void 0===s&&(s="all"),!(i||s&&"all"!==s))return this._lazy=this._pt=0,this.parent?Fp(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Za&&!0!==Za.vars.overwrite)._first||Fp(this),this.parent&&o!==this.timeline.totalDuration()&&xd(this,this._dur*this.timeline._tDur/o,0,1),this}var g,m,v,C,y,E,M,a=this._targets,l=i?es(i):a,d=this._ptLookup,f=this._pt;if((!s||"all"===s)&&function(t,n){for(var r=t.length,i=r===n.length;i&&r--&&t[r]===n[r];);return r<0}(a,l))return"all"===s&&(this._pt=0),Fp(this);for(g=this._op=this._op||[],"all"!==s&&(Jn(s)&&(y={},li(s,function(A){return y[A]=1}),s=y),s=function(t,n){var s,o,a,l,r=t[0]?ou(t[0]).harness:0,i=r&&r.aliases;if(!i)return n;for(o in s=au({},n),i)if(o in s)for(a=(l=i[o].split(",")).length;a--;)s[l[a]]=s[o];return s}(a,s)),M=a.length;M--;)if(~l.indexOf(a[M]))for(y in m=d[M],"all"===s?(g[M]=s,C=m,v={}):(v=g[M]=g[M]||{},C=s),C)(E=m&&m[y])&&((!("kill"in E.d)||!0===E.d.kill(y))&&$v(this,E,"_pt"),delete m[y]),"all"!==v&&(v[y]=1);return this._initted&&!this._pt&&f&&Fp(this),this},t.to=function(i,s){return new t(i,s,arguments[2])},t.from=function(i,s){return Pp(1,arguments)},t.delayedCall=function(i,s,o,a){return new t(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},t.fromTo=function(i,s,o){return Pp(2,arguments)},t.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new t(i,s)},t.killTweensOf=function(i,s,o){return un.killTweensOf(i,s,o)},t}(Up);Xi(Fn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),li("staggerTo,staggerFrom,staggerFromTo",function(e){Fn[e]=function(){var t=new Gr,n=z0.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}});var eb=function(t,n,r){return t[n]=r},Lk=function(t,n,r){return t[n](r)},j9=function(t,n,r,i){return t[n](i.fp,r)},H9=function(t,n,r){return t.setAttribute(n,r)},tb=function(t,n){return gn(t[n])?Lk:R0(t[n])&&t.setAttribute?H9:eb},Vk=function(t,n){return n.set(n.t,n.p,Math.round(1e6*(n.s+n.c*t))/1e6,n)},$9=function(t,n){return n.set(n.t,n.p,!!(n.s+n.c*t),n)},Uk=function(t,n){var r=n._pt,i="";if(!t&&n.b)i=n.b;else if(1===t&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},nb=function(t,n){for(var r=n._pt;r;)r.r(t,r.d),r=r._next},W9=function(t,n,r,i){for(var o,s=this._pt;s;)o=s._next,s.p===i&&s.modifier(t,n,r),s=o},z9=function(t){for(var r,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?$v(this,n,"_pt"):n.dep||(r=1),n=i;return!r},G9=function(t,n,r,i){i.mSet(t,n,i.m.call(i.tween,r,i.mt),i)},Bk=function(t){for(var r,i,s,o,n=t._pt;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}t._pt=s},ui=function(){function e(n,r,i,s,o,a,l,d,f){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||Vk,this.d=l||this,this.set=d||eb,this.pr=f||0,this._next=n,n&&(n._prev=this)}return e.prototype.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=G9,this.m=r,this.mt=s,this.tween=i},e}();li(j0+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return V0[e]=1}),Mi.TweenMax=Mi.TweenLite=Fn,Mi.TimelineLite=Mi.TimelineMax=Gr,un=new Gr({sortChildren:!1,defaults:Td,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Ti.stringFilter=Mk;var du=[],qv={},q9=[],jk=0,K9=0,rb=function(t){return(qv[t]||q9).map(function(n){return n()})},ib=function(){var t=Date.now(),n=[];t-jk>2&&(rb("matchMediaInit"),du.forEach(function(r){var o,a,l,d,i=r.queries,s=r.conditions;for(a in i)(o=fo.matchMedia(i[a]).matches)&&(l=1),o!==s[a]&&(s[a]=o,d=1);d&&(r.revert(),l&&n.push(r))}),rb("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),jk=t,rb("matchMedia"))},Hk=function(){function e(n,r){this.selector=r&&G0(r),this.data=[],this._r=[],this.isReverted=!1,this.id=K9++,n&&this.add(n)}var t=e.prototype;return t.add=function(r,i,s){gn(r)&&(s=i,i=r,r=gn);var o=this,a=function(){var g,d=nn,f=o.selector;return d&&d!==o&&d.data.push(o),s&&(o.selector=G0(s)),nn=o,g=i.apply(o,arguments),gn(g)&&o._r.push(g),nn=d,o.selector=f,o.isReverted=!1,g};return o.last=a,r===gn?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},t.ignore=function(r){var i=nn;nn=null,r(this),nn=i},t.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof e?r.push.apply(r,i.getTweens()):i instanceof Fn&&!(i.parent&&"nested"===i.parent.data)&&r.push(i)}),r},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(r,i){var s=this;if(r?function(){for(var d,a=s.getTweens(),l=s.data.length;l--;)"isFlip"===(d=s.data[l]).data&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(f){return a.splice(a.indexOf(f),1)}));for(a.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,g){return g.g-f.g||-1/0}).forEach(function(f){return f.t.revert(r)}),l=s.data.length;l--;)(d=s.data[l])instanceof Gr?"nested"!==d.data&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof Fn)&&d.revert&&d.revert(r);s._r.forEach(function(f){return f(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=du.length;o--;)du[o].id===this.id&&du.splice(o,1)},t.revert=function(r){this.kill(r||{})},e}(),Y9=function(){function e(n){this.contexts=[],this.scope=n,nn&&nn.data.push(this)}var t=e.prototype;return t.add=function(r,i,s){ho(r)||(r={matches:r});var l,d,f,o=new Hk(0,s||this.scope),a=o.conditions={};for(d in nn&&!o.selector&&(o.selector=nn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r,r)"all"===d?f=1:(l=fo.matchMedia(r[d]))&&(du.indexOf(o)<0&&du.push(o),(a[d]=l.matches)&&(f=1),l.addListener?l.addListener(ib):l.addEventListener("change",ib));return f&&i(o,function(g){return o.add(null,g)}),this},t.revert=function(r){this.kill(r||{})},t.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},e}(),Kv={registerPlugin:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(i){return Dk(i)})},timeline:function(t){return new Gr(t)},getTweensOf:function(t,n){return un.getTweensOf(t,n)},getProperty:function(t,n,r,i){Jn(t)&&(t=es(t)[0]);var s=ou(t||{}).get,o=r?lk:ak;return"native"===r&&(r=""),t&&(n?o((Ni[n]&&Ni[n].get||s)(t,n,r,i)):function(a,l,d){return o((Ni[a]&&Ni[a].get||s)(t,a,l,d))})},quickSetter:function(t,n,r){if((t=es(t)).length>1){var i=t.map(function(f){return ci.quickSetter(f,n,r)}),s=i.length;return function(f){for(var g=s;g--;)i[g](f)}}var o=Ni[n],a=ou(t=t[0]||{}),l=a.harness&&(a.harness.aliases||{})[n]||n,d=o?function(f){var g=new o;Pd._pt=0,g.init(t,r?f+r:f,Pd,0,[t]),g.render(1,g),Pd._pt&&nb(1,Pd)}:a.set(t,l);return o?d:function(f){return d(t,l,r?f+r:f,a,1)}},quickTo:function(t,n,r){var i,s=ci.to(t,au(((i={})[n]="+=0.1",i.paused=!0,i),r||{})),o=function(l,d,f){return s.resetTo(n,l,d,f)};return o.tween=s,o},isTweening:function(t){return un.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=uu(t.ease,Td.ease)),uk(Td,t||{})},config:function(t){return uk(Ti,t||{})},registerEffect:function(t){var n=t.name,r=t.effect,s=t.defaults,o=t.extendTimeline;(t.plugins||"").split(",").forEach(function(a){return a&&!Ni[a]&&!Mi[a]&&Np(n+" effect requires "+a+" plugin.")}),B0[n]=function(a,l,d){return r(es(a),Xi(l||{},s),d)},o&&(Gr.prototype[n]=function(a,l,d){return this.add(B0[n](a,ho(l)?l:(d=l)&&{},this),d)})},registerEase:function(t,n){st[t]=uu(n)},parseEase:function(t,n){return arguments.length?uu(t,n):st},getById:function(t){return un.getById(t)},exportRoot:function(t,n){void 0===t&&(t={});var i,s,r=new Gr(t);for(r.smoothChildTiming=ai(t.smoothChildTiming),un.remove(r),r._dp=0,r._time=r._tTime=un._time,i=un._first;i;)s=i._next,(n||!(!i._dur&&i instanceof Fn&&i.vars.onComplete===i._targets[0]))&&po(r,i,i._start-i._delay),i=s;return po(un,r,0),r},context:function(t,n){return t?new Hk(t,n):nn},matchMedia:function(t){return new Y9(t)},matchMediaRefresh:function(){return du.forEach(function(t){var r,i,n=t.conditions;for(i in n)n[i]&&(n[i]=!1,r=1);r&&t.revert()})||ib()},addEventListener:function(t,n){var r=qv[t]||(qv[t]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(t,n){var r=qv[t],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:function e(t,n,r){var i=n-t;return Ar(t)?wk(t,e(0,t.length),n):Ya(r,function(s){return(i+(s-t)%i)%i+t})},wrapYoyo:function e(t,n,r){var i=n-t,s=2*i;return Ar(t)?wk(t,e(0,t.length-1),n):Ya(r,function(o){return t+((o=(s+(o-t)%s)%s||0)>i?s-o:o)})},distribute:vk,random:Ck,snap:yk,normalize:function(t,n,r){return Ek(t,n,0,1,r)},getUnit:Tr,clamp:function(t,n,r){return Ya(r,function(i){return Op(t,n,i)})},splitColor:Sk,toArray:es,selector:G0,mapRange:Ek,pipe:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},unitize:function(t,n){return function(r){return t(parseFloat(r))+(n||Tr(r))}},interpolate:function e(t,n,r,i){var s=isNaN(t+n)?0:function(v){return(1-v)*t+v*n};if(!s){var l,d,f,g,m,o=Jn(t),a={};if(!0===r&&(i=1)&&(r=null),o)t={p:t},n={p:n};else if(Ar(t)&&!Ar(n)){for(f=[],m=(g=t.length)-2,d=1;d<g;d++)f.push(e(t[d-1],t[d]));g--,s=function(C){C*=g;var y=Math.min(m,~~C);return f[y](C-y)},r=n}else i||(t=au(Ar(t)?[]:{},t));if(!f){for(l in n)Z0.call(a,t,l,"get",n[l]);s=function(C){return nb(C,a)||(o?t.p:t)}}}return Ya(r,s)},shuffle:_k},install:tk,effects:B0,ticker:xi,updateRoot:Gr.updateRoot,plugins:Ni,globalTimeline:un,core:{PropTween:ui,globals:nk,Tween:Fn,Timeline:Gr,Animation:Up,getCache:ou,_removeLinkedListItem:$v,reverting:function(){return Sr},context:function(t){return t&&nn&&(nn.data.push(t),t._ctx=nn),nn},suppressOverwrites:function(t){return M0=t}}};li("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Kv[e]=Fn[e]}),xi.add(Gr.updateRoot),Pd=Kv.to({},{duration:0});var Q9=function(t,n){for(var r=t._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},sb=function(t,n){return{name:t,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,d;if(Jn(s)&&(l={},li(s,function(f){return l[f]=1}),s=l),n){for(d in l={},s)l[d]=n(s[d]);s=l}!function(t,n){var i,s,o,r=t._targets;for(i in n)for(s=r.length;s--;)(o=t._ptLookup[s][i])&&(o=o.d)&&(o._pt&&(o=Q9(o,i)),o&&o.modifier&&o.modifier(n[i],t,r[s],i))}(a,s)}}}},ci=Kv.registerPlugin({name:"attr",init:function(t,n,r,i,s){var o,a,l;for(o in this.tween=r,n)l=t.getAttribute(o)||"",(a=this.add(t,"setAttribute",(l||0)+"",n[o],i,s,0,0,o)).op=o,a.b=l,this._props.push(o)},render:function(t,n){for(var r=n._pt;r;)Sr?r.set(r.t,r.p,r.b,r):r.r(t,r.d),r=r._next}},{name:"endArray",init:function(t,n){for(var r=n.length;r--;)this.add(t,r,t[r]||0,n[r],0,0,0,0,0,1)}},sb("roundProps",q0),sb("modifiers"),sb("snap",yk))||Kv;Fn.version=Gr.version=ci.version="3.12.5",ek=1,x0()&&Od();var $k,Xa,kd,ob,hu,Wk,ab,Qk,la={},fu=180/Math.PI,Fd=Math.PI/180,Ld=Math.atan2,zk=1e8,lb=/([A-Z])/g,eK=/(left|right|width|margin|padding|x)/i,tK=/[\s,\(]\S/,go={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ub=function(t,n){return n.set(n.t,n.p,Math.round(1e4*(n.s+n.c*t))/1e4+n.u,n)},nK=function(t,n){return n.set(n.t,n.p,1===t?n.e:Math.round(1e4*(n.s+n.c*t))/1e4+n.u,n)},rK=function(t,n){return n.set(n.t,n.p,t?Math.round(1e4*(n.s+n.c*t))/1e4+n.u:n.b,n)},iK=function(t,n){var r=n.s+n.c*t;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},Gk=function(t,n){return n.set(n.t,n.p,t?n.e:n.b,n)},qk=function(t,n){return n.set(n.t,n.p,1!==t?n.b:n.e,n)},sK=function(t,n,r){return t.style[n]=r},oK=function(t,n,r){return t.style.setProperty(n,r)},aK=function(t,n,r){return t._gsap[n]=r},lK=function(t,n,r){return t._gsap.scaleX=t._gsap.scaleY=r},uK=function(t,n,r,i,s){var o=t._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},cK=function(t,n,r,i,s){var o=t._gsap;o[n]=r,o.renderTransform(s,o)},cn="transform",di=cn+"Origin",dK=function e(t,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(t in la&&s){if(this.tfm=this.tfm||{},"transform"===t)return go.transform.split(",").forEach(function(a){return e.call(r,a,n)});if(~(t=go[t]||t).indexOf(",")?t.split(",").forEach(function(a){return r.tfm[a]=ua(i,a)}):this.tfm[t]=o.x?o[t]:ua(i,t),t===di&&(this.tfm.zOrigin=o.zOrigin),this.props.indexOf(cn)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(di,n,"")),t=cn}(s||n)&&this.props.push(t,n,s[t])},Kk=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},hK=function(){var s,o,t=this.props,n=this.target,r=n.style,i=n._gsap;for(s=0;s<t.length;s+=3)t[s+1]?n[t[s]]=t[s+2]:t[s+2]?r[t[s]]=t[s+2]:r.removeProperty("--"===t[s].substr(0,2)?t[s]:t[s].replace(lb,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(!(s=ab())||!s.isStart)&&!r[cn]&&(Kk(r),i.zOrigin&&r[di]&&(r[di]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},Yk=function(t,n){var r={target:t,props:[],revert:hK,save:dK};return t._gsap||ci.core.getCache(t),n&&n.split(",").forEach(function(i){return r.save(i)}),r},cb=function(t,n){var r=Xa.createElementNS?Xa.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Xa.createElement(t);return r&&r.style?r:Xa.createElement(t)},mo=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(lb,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,Vd(n)||n,1)||""},Zk="O,Moz,ms,Ms,Webkit".split(","),Vd=function(t,n,r){var s=(n||hu).style,o=5;if(t in s&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);o--&&!(Zk[o]+t in s););return o<0?null:(3===o?"ms":o>=0?Zk[o]:"")+t},db=function(){typeof window<"u"&&window.document&&($k=window,kd=(Xa=$k.document).documentElement,hu=cb("div")||{style:{}},cb("div"),cn=Vd(cn),di=cn+"Origin",hu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Qk=!!Vd("perspective"),ab=ci.core.reverting,ob=1)},hb=function e(t){var o,n=cb("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText;if(kd.appendChild(n),n.appendChild(this),this.style.display="block",t)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),kd.removeChild(n),this.style.cssText=s,o},Xk=function(t,n){for(var r=n.length;r--;)if(t.hasAttribute(n[r]))return t.getAttribute(n[r])},Jk=function(t){var n;try{n=t.getBBox()}catch{n=hb.call(t,!0)}return n&&(n.width||n.height)||t.getBBox===hb||(n=hb.call(t,!0)),!n||n.width||n.x||n.y?n:{x:+Xk(t,["x","cx","x1"])||0,y:+Xk(t,["y","cy","y1"])||0,width:0,height:0}},e1=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Jk(t))},pu=function(t,n){if(n){var i,r=t.style;n in la&&n!==di&&(n=cn),r.removeProperty?(("ms"===(i=n.substr(0,2))||"webkit"===n.substr(0,6))&&(n="-"+n),r.removeProperty("--"===i?n:n.replace(lb,"-$1").toLowerCase())):r.removeAttribute(n)}},Ja=function(t,n,r,i,s,o){var a=new ui(t._pt,n,r,0,1,o?qk:Gk);return t._pt=a,a.b=i,a.e=s,t._props.push(r),a},t1={deg:1,rad:1,turn:1},fK={grid:1,flex:1},el=function e(t,n,r,i){var C,y,E,M,s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=hu.style,l=eK.test(n),d="svg"===t.tagName.toLowerCase(),f=(d?"client":"offset")+(l?"Width":"Height"),g=100,m="px"===i,v="%"===i;if(i===o||!s||t1[i]||t1[o])return s;if("px"!==o&&!m&&(s=e(t,n,r,"px")),M=t.getCTM&&e1(t),(v||"%"===o)&&(la[n]||~n.indexOf("adius")))return C=M?t.getBBox()[l?"width":"height"]:t[f],En(v?s/C*g:s/100*C);if(a[l?"width":"height"]=g+(m?o:i),y=~n.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,M&&(y=(t.ownerSVGElement||{}).parentNode),(!y||y===Xa||!y.appendChild)&&(y=Xa.body),(E=y._gsap)&&v&&E.width&&l&&E.time===xi.time&&!E.uncache)return En(s/E.width*g);if(!v||"height"!==n&&"width"!==n)(v||"%"===o)&&!fK[mo(y,"display")]&&(a.position=mo(t,"position")),y===t&&(a.position="static"),y.appendChild(hu),C=hu[f],y.removeChild(hu),a.position="absolute";else{var A=t.style[n];t.style[n]=g+i,C=t[f],A?t.style[n]=A:pu(t,n)}return l&&v&&((E=ou(y)).time=xi.time,E.width=y[f]),En(m?C*s/g:C&&s?g/C*s:0)},ua=function(t,n,r,i){var s;return ob||db(),n in go&&"transform"!==n&&~(n=go[n]).indexOf(",")&&(n=n.split(",")[0]),la[n]&&"transform"!==n?(s=Hp(t,i),s="transformOrigin"!==n?s[n]:s.svg?s.origin:Qv(mo(t,di))+" "+s.zOrigin+"px"):(!(s=t.style[n])||"auto"===s||i||~(s+"").indexOf("calc("))&&(s=Yv[n]&&Yv[n](t,n,r)||mo(t,n)||sk(t,n)||("opacity"===n?1:0)),r&&!~(s+"").trim().indexOf(" ")?el(t,n,s,r)+r:s},pK=function(t,n,r,i){if(!r||"none"===r){var s=Vd(n,t,1),o=s&&mo(t,s,1);o&&o!==r?(n=s,r=o):"borderColor"===n&&(r=mo(t,"borderTopColor"))}var f,g,m,v,C,y,E,M,A,O,U,a=new ui(this._pt,t.style,n,0,1,Uk),l=0,d=0;if(a.b=r,a.e=i,r+="","auto"==(i+="")&&(y=t.style[n],t.style[n]=i,i=mo(t,n)||i,y?t.style[n]=y:pu(t,n)),Mk(f=[r,i]),i=f[1],m=(r=f[0]).match(Md)||[],(i.match(Md)||[]).length){for(;g=Md.exec(i);)E=g[0],A=i.substring(l,g.index),C?C=(C+1)%5:("rgba("===A.substr(-5)||"hsla("===A.substr(-5))&&(C=1),E!==(y=m[d++]||"")&&(v=parseFloat(y)||0,U=y.substr((v+"").length),"="===E.charAt(1)&&(E=Nd(v,E)+U),M=parseFloat(E),O=E.substr((M+"").length),l=Md.lastIndex-O.length,O||(O=O||Ti.units[n]||U,l===i.length&&(i+=O,a.e+=O)),U!==O&&(v=el(t,n,y,O)||0),a._pt={_next:a._pt,p:A||1===d?A:",",s:v,c:M-v,m:C&&C<4||"zIndex"===n?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r="display"===n&&"none"===i?qk:Gk;return XO.test(i)&&(a.e=0),this._pt=a,a},n1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},gK=function(t){var n=t.split(" "),r=n[0],i=n[1]||"50%";return("top"===r||"bottom"===r||"left"===i||"right"===i)&&(t=r,r=i,i=t),n[0]=n1[r]||r,n[1]=n1[i]||i,n.join(" ")},mK=function(t,n){if(n.tween&&n.tween._time===n.tween._dur){var a,l,d,r=n.t,i=r.style,s=n.u,o=r._gsap;if("all"===s||!0===s)i.cssText="",l=1;else for(d=(s=s.split(",")).length;--d>-1;)la[a=s[d]]&&(l=1,a="transformOrigin"===a?di:cn),pu(r,a);l&&(pu(r,cn),o&&(o.svg&&r.removeAttribute("transform"),Hp(r,1),o.uncache=1,Kk(i)))}},Yv={clearProps:function(t,n,r,i,s){if("isFromStart"!==s.data){var o=t._pt=new ui(t._pt,n,r,0,0,mK);return o.u=i,o.pr=-10,o.tween=s,t._props.push(r),1}}},jp=[1,0,0,1,0,0],r1={},i1=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},s1=function(t){var n=mo(t,cn);return i1(n)?jp:n.substr(7).match(ZO).map(En)},fb=function(t,n){var o,a,l,d,r=t._gsap||ou(t),i=t.style,s=s1(t);return r.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(s=[(l=t.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?jp:s:(s===jp&&!t.offsetParent&&t!==kd&&!r.svg&&(l=i.display,i.display="block",(!(o=t.parentNode)||!t.offsetParent)&&(d=1,a=t.nextElementSibling,kd.appendChild(t)),s=s1(t),l?i.display=l:pu(t,"display"),d&&(a?o.insertBefore(t,a):o?o.appendChild(t):kd.removeChild(t))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},pb=function(t,n,r,i,s,o){var ee,ie,oe,a=t._gsap,l=s||fb(t,!0),d=a.xOrigin||0,f=a.yOrigin||0,g=a.xOffset||0,m=a.yOffset||0,v=l[0],C=l[1],y=l[2],E=l[3],M=l[4],A=l[5],O=n.split(" "),U=parseFloat(O[0])||0,B=parseFloat(O[1])||0;r?l!==jp&&(ie=v*E-C*y)&&(oe=U*(-C/ie)+B*(v/ie)-(v*A-C*M)/ie,U=U*(E/ie)+B*(-y/ie)+(y*A-E*M)/ie,B=oe):(U=(ee=Jk(t)).x+(~O[0].indexOf("%")?U/100*ee.width:U),B=ee.y+(~(O[1]||O[0]).indexOf("%")?B/100*ee.height:B)),i||!1!==i&&a.smooth?(a.xOffset=g+((M=U-d)*v+(A=B-f)*y)-M,a.yOffset=m+(M*C+A*E)-A):a.xOffset=a.yOffset=0,a.xOrigin=U,a.yOrigin=B,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,t.style[di]="0px 0px",o&&(Ja(o,a,"xOrigin",d,U),Ja(o,a,"yOrigin",f,B),Ja(o,a,"xOffset",g,a.xOffset),Ja(o,a,"yOffset",m,a.yOffset)),t.setAttribute("data-svg-origin",U+" "+B)},Hp=function(t,n){var r=t._gsap||new Pk(t);if("x"in r&&!n&&!r.uncache)return r;var f,g,m,v,C,y,E,M,A,O,U,B,ee,ie,pe,oe,ct,sn,Wt,zt,fr,rr,Ln,ir,Ms,qy,Ag,Tg,xu,sU,fa,Pu,i=t.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(t),d=mo(t,di)||"0";return f=g=m=y=E=M=A=O=U=0,v=C=1,r.svg=!(!t.getCTM||!e1(t)),l.translate&&(("none"!==l.translate||"none"!==l.scale||"none"!==l.rotate)&&(i[cn]=("none"!==l.translate?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==l.rotate?"rotate("+l.rotate+") ":"")+("none"!==l.scale?"scale("+l.scale.split(" ").join(",")+") ":"")+("none"!==l[cn]?l[cn]:"")),i.scale=i.rotate=i.translate="none"),ie=fb(t,r.svg),r.svg&&(r.uncache?(Ms=t.getBBox(),d=r.xOrigin-Ms.x+"px "+(r.yOrigin-Ms.y)+"px",ir=""):ir=!n&&t.getAttribute("data-svg-origin"),pb(t,ir||d,!!ir||r.originIsAbsolute,!1!==r.smooth,ie)),B=r.xOrigin||0,ee=r.yOrigin||0,ie!==jp&&(sn=ie[0],Wt=ie[1],zt=ie[2],fr=ie[3],f=rr=ie[4],g=Ln=ie[5],6===ie.length?(v=Math.sqrt(sn*sn+Wt*Wt),C=Math.sqrt(fr*fr+zt*zt),y=sn||Wt?Ld(Wt,sn)*fu:0,(A=zt||fr?Ld(zt,fr)*fu+y:0)&&(C*=Math.abs(Math.cos(A*Fd))),r.svg&&(f-=B-(B*sn+ee*zt),g-=ee-(B*Wt+ee*fr))):(sU=ie[7],Ag=ie[8],Tg=ie[9],fa=ie[11],f=ie[12],g=ie[13],m=ie[14],E=(pe=Ld(Pu=ie[6],xu=ie[10]))*fu,pe&&(ir=rr*(oe=Math.cos(-pe))+Ag*(ct=Math.sin(-pe)),Ms=Ln*oe+Tg*ct,qy=Pu*oe+xu*ct,Ag=rr*-ct+Ag*oe,Tg=Ln*-ct+Tg*oe,xu=Pu*-ct+xu*oe,fa=sU*-ct+fa*oe,rr=ir,Ln=Ms,Pu=qy),M=(pe=Ld(-zt,xu))*fu,pe&&(oe=Math.cos(-pe),fa=fr*(ct=Math.sin(-pe))+fa*oe,sn=ir=sn*oe-Ag*ct,Wt=Ms=Wt*oe-Tg*ct,zt=qy=zt*oe-xu*ct),y=(pe=Ld(Wt,sn))*fu,pe&&(ir=sn*(oe=Math.cos(pe))+Wt*(ct=Math.sin(pe)),Ms=rr*oe+Ln*ct,Wt=Wt*oe-sn*ct,Ln=Ln*oe-rr*ct,sn=ir,rr=Ms),E&&Math.abs(E)+Math.abs(y)>359.9&&(E=y=0,M=180-M),v=En(Math.sqrt(sn*sn+Wt*Wt+zt*zt)),C=En(Math.sqrt(Ln*Ln+Pu*Pu)),pe=Ld(rr,Ln),A=Math.abs(pe)>2e-4?pe*fu:0,U=fa?1/(fa<0?-fa:fa):0),r.svg&&(ir=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!i1(mo(t,cn)),ir&&t.setAttribute("transform",ir))),Math.abs(A)>90&&Math.abs(A)<270&&(s?(v*=-1,A+=y<=0?180:-180,y+=y<=0?180:-180):(C*=-1,A+=A<=0?180:-180)),n=n||r.uncache,r.x=f-((r.xPercent=f&&(!n&&r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-f)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+o,r.y=g-((r.yPercent=g&&(!n&&r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-g)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+o,r.z=m+o,r.scaleX=En(v),r.scaleY=En(C),r.rotation=En(y)+a,r.rotationX=En(E)+a,r.rotationY=En(M)+a,r.skewX=A+a,r.skewY=O+a,r.transformPerspective=U+o,(r.zOrigin=parseFloat(d.split(" ")[2])||!n&&r.zOrigin||0)&&(i[di]=Qv(d)),r.xOffset=r.yOffset=0,r.force3D=Ti.force3D,r.renderTransform=r.svg?vK:Qk?o1:_K,r.uncache=0,r},Qv=function(t){return(t=t.split(" "))[0]+" "+t[1]},gb=function(t,n,r){var i=Tr(n);return En(parseFloat(n)+parseFloat(el(t,"x",r+"px",i)))+i},_K=function(t,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,o1(t,n)},gu="0deg",$p="0px",mu=") ",o1=function(t,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,d=r.rotation,f=r.rotationY,g=r.rotationX,m=r.skewX,v=r.skewY,C=r.scaleX,y=r.scaleY,E=r.transformPerspective,M=r.force3D,A=r.target,O=r.zOrigin,U="",B="auto"===M&&t&&1!==t||!0===M;if(O&&(g!==gu||f!==gu)){var oe,ee=parseFloat(f)*Fd,ie=Math.sin(ee),pe=Math.cos(ee);ee=parseFloat(g)*Fd,oe=Math.cos(ee),o=gb(A,o,ie*oe*-O),a=gb(A,a,-Math.sin(ee)*-O),l=gb(A,l,pe*oe*-O+O)}E!==$p&&(U+="perspective("+E+mu),(i||s)&&(U+="translate("+i+"%, "+s+"%) "),(B||o!==$p||a!==$p||l!==$p)&&(U+=l!==$p||B?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+mu),d!==gu&&(U+="rotate("+d+mu),f!==gu&&(U+="rotateY("+f+mu),g!==gu&&(U+="rotateX("+g+mu),(m!==gu||v!==gu)&&(U+="skew("+m+", "+v+mu),(1!==C||1!==y)&&(U+="scale("+C+", "+y+mu),A.style[cn]=U||"translate(0, 0)"},vK=function(t,n){var B,ee,ie,pe,oe,r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,d=r.skewX,f=r.skewY,g=r.scaleX,m=r.scaleY,v=r.target,C=r.xOrigin,y=r.yOrigin,E=r.xOffset,M=r.yOffset,A=r.forceCSS,O=parseFloat(o),U=parseFloat(a);l=parseFloat(l),d=parseFloat(d),(f=parseFloat(f))&&(d+=f=parseFloat(f),l+=f),l||d?(l*=Fd,d*=Fd,B=Math.cos(l)*g,ee=Math.sin(l)*g,ie=Math.sin(l-d)*-m,pe=Math.cos(l-d)*m,d&&(f*=Fd,oe=Math.tan(d-f),ie*=oe=Math.sqrt(1+oe*oe),pe*=oe,f&&(oe=Math.tan(f),B*=oe=Math.sqrt(1+oe*oe),ee*=oe)),B=En(B),ee=En(ee),ie=En(ie),pe=En(pe)):(B=g,pe=m,ee=ie=0),(O&&!~(o+"").indexOf("px")||U&&!~(a+"").indexOf("px"))&&(O=el(v,"x",o,"px"),U=el(v,"y",a,"px")),(C||y||E||M)&&(O=En(O+C-(C*B+y*ie)+E),U=En(U+y-(C*ee+y*pe)+M)),(i||s)&&(oe=v.getBBox(),O=En(O+i/100*oe.width),U=En(U+s/100*oe.height)),v.setAttribute("transform",oe="matrix("+B+","+ee+","+ie+","+pe+","+O+","+U+")"),A&&(v.style[cn]=oe)},yK=function(t,n,r,i,s){var g,m,o=360,a=Jn(s),d=parseFloat(s)*(a&&~s.indexOf("rad")?fu:1)-i,f=i+d+"deg";return a&&("short"===(g=s.split("_")[1])&&(d%=o)!=d%180&&(d+=d<0?o:-o),"cw"===g&&d<0?d=(d+o*zk)%o-~~(d/o)*o:"ccw"===g&&d>0&&(d=(d-o*zk)%o-~~(d/o)*o)),t._pt=m=new ui(t._pt,n,r,i,d,nK),m.e=f,m.u="deg",t._props.push(r),m},a1=function(t,n){for(var r in n)t[r]=n[r];return t},CK=function(t,n,r){var a,l,d,f,g,m,C,i=a1({},r._gsap),o=r.style;for(l in i.svg?(d=r.getAttribute("transform"),r.setAttribute("transform",""),o[cn]=n,a=Hp(r,1),pu(r,cn),r.setAttribute("transform",d)):(d=getComputedStyle(r)[cn],o[cn]=n,a=Hp(r,1),o[cn]=d),la)(d=i[l])!==(f=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(g=Tr(d)!==(C=Tr(f))?el(r,l,d,C):parseFloat(d),m=parseFloat(f),t._pt=new ui(t._pt,a,l,g,m-g,ub),t._pt.u=C||0,t._props.push(l));a1(a,i)};li("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",s="Left",o=(t<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return t<2?e+a:"border"+a+e});Yv[t>1?"border"+e:e]=function(a,l,d,f,g){var m,v;if(arguments.length<4)return m=o.map(function(C){return ua(a,C,d)}),5===(v=m.join(" ")).split(m[0]).length?m[0]:v;m=(f+"").split(" "),v={},o.forEach(function(C,y){return v[C]=m[y]=m[y]||m[(y-1)/2|0]}),a.init(l,v,g)}});var l1={name:"css",register:db,targetTest:function(t){return t.style&&t.nodeType},init:function(t,n,r,i,s){var d,f,g,m,v,C,y,E,M,A,O,U,B,ee,ie,pe,o=this._props,a=t.style,l=r.vars.startAt;for(y in ob||db(),this.styles=this.styles||Yk(t),pe=this.styles.props,this.tween=r,n)if("autoRound"!==y&&(f=n[y],!Ni[y]||!Ok(y,n,r,i,t,s)))if(C=Yv[y],"function"==(v=typeof f)&&(v=typeof(f=f.call(r,i,t,s))),"string"===v&&~f.indexOf("random(")&&(f=kp(f)),C)C(this,t,y,f,r)&&(ie=1);else if("--"===y.substr(0,2))d=(getComputedStyle(t).getPropertyValue(y)+"").trim(),f+="",Qa.lastIndex=0,Qa.test(d)||(E=Tr(d),M=Tr(f)),M?E!==M&&(d=el(t,y,d,M)+M):E&&(f+=E),this.add(a,"setProperty",d,f,i,s,0,0,y),o.push(y),pe.push(y,0,a[y]);else if("undefined"!==v){if(l&&y in l?(d="function"==typeof l[y]?l[y].call(r,i,t,s):l[y],Jn(d)&&~d.indexOf("random(")&&(d=kp(d)),Tr(d+"")||"auto"===d||(d+=Ti.units[y]||Tr(ua(t,y))||""),"="===(d+"").charAt(1)&&(d=ua(t,y))):d=ua(t,y),m=parseFloat(d),(A="string"===v&&"="===f.charAt(1)&&f.substr(0,2))&&(f=f.substr(2)),g=parseFloat(f),y in go&&("autoAlpha"===y&&(1===m&&"hidden"===ua(t,"visibility")&&g&&(m=0),pe.push("visibility",0,a.visibility),Ja(this,a,"visibility",m?"inherit":"hidden",g?"inherit":"hidden",!g)),"scale"!==y&&"transform"!==y&&~(y=go[y]).indexOf(",")&&(y=y.split(",")[0])),O=y in la)if(this.styles.save(y),U||((B=t._gsap).renderTransform&&!n.parseTransform||Hp(t,n.parseTransform),ee=!1!==n.smoothOrigin&&B.smooth,(U=this._pt=new ui(this._pt,a,cn,0,1,B.renderTransform,B,0,-1)).dep=1),"scale"===y)this._pt=new ui(this._pt,B,"scaleY",B.scaleY,(A?Nd(B.scaleY,A+g):g)-B.scaleY||0,ub),this._pt.u=0,o.push("scaleY",y),y+="X";else{if("transformOrigin"===y){pe.push(di,0,a[di]),f=gK(f),B.svg?pb(t,f,0,ee,0,this):((M=parseFloat(f.split(" ")[2])||0)!==B.zOrigin&&Ja(this,B,"zOrigin",B.zOrigin,M),Ja(this,a,y,Qv(d),Qv(f)));continue}if("svgOrigin"===y){pb(t,f,1,ee,0,this);continue}if(y in r1){yK(this,B,y,m,A?Nd(m,A+f):f);continue}if("smoothOrigin"===y){Ja(this,B,"smooth",B.smooth,f);continue}if("force3D"===y){B[y]=f;continue}if("transform"===y){CK(this,f,t);continue}}else y in a||(y=Vd(y)||y);if(O||(g||0===g)&&(m||0===m)&&!tK.test(f)&&y in a)g||(g=0),(E=(d+"").substr((m+"").length))!==(M=Tr(f)||(y in Ti.units?Ti.units[y]:E))&&(m=el(t,y,d,M)),this._pt=new ui(this._pt,O?B:a,y,m,(A?Nd(m,A+g):g)-m,O||"px"!==M&&"zIndex"!==y||!1===n.autoRound?ub:iK),this._pt.u=M||0,E!==M&&"%"!==M&&(this._pt.b=d,this._pt.r=rK);else if(y in a)pK.call(this,t,y,d,A?A+f:f);else if(y in t)this.add(t,y,d||t[y],A?A+f:f,i,s);else if("parseTransform"!==y){L0(y,f);continue}O||(y in a?pe.push(y,0,a[y]):pe.push(y,1,d||t[y])),o.push(y)}ie&&Bk(this)},render:function(t,n){if(n.tween._time||!ab())for(var r=n._pt;r;)r.r(t,r.d),r=r._next;else n.styles.revert()},get:ua,aliases:go,getSetter:function(t,n,r){var i=go[n];return i&&i.indexOf(",")<0&&(n=i),n in la&&n!==di&&(t._gsap.x||ua(t,"x"))?r&&Wk===r?"scale"===n?lK:aK:(Wk=r||{})&&("scale"===n?uK:cK):t.style&&!R0(t.style[n])?sK:~n.indexOf("-")?oK:tb(t,n)},core:{_removeProperty:pu,_getMatrix:fb}};ci.utils.checkPrefix=Vd,ci.core.getStyleSaver=Yk,function(e,t,n,r){var i=li(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(s){la[s]=1});li(t,function(s){Ti.units[s]="deg",r1[s]=1}),go[i[13]]=e+","+t,li("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(s){var o=s.split(":");go[o[1]]=i[o[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),li("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Ti.units[e]="px"}),ci.registerPlugin(l1);var qr,u1,ca,_o,tl,c1,d1,Zv,mb=ci.registerPlugin(l1)||ci,h1=function(){return typeof window<"u"},f1=function(){return qr||h1()&&(qr=window.gsap)&&qr.registerPlugin&&qr},p1=function(t){return"string"==typeof t},g1=function(t){return"function"==typeof t},Wp=function(t,n){var r="x"===n?"Width":"Height",i="scroll"+r,s="client"+r;return t===ca||t===_o||t===tl?Math.max(_o[i],tl[i])-(ca["inner"+r]||_o[s]||tl[s]):t[i]-t["offset"+r]},zp=function(t,n){var r="scroll"+("x"===n?"Left":"Top");return t===ca&&(null!=t.pageXOffset?r="page"+n.toUpperCase()+"Offset":t=null!=_o[r]?_o:tl),function(){return t[r]}},m1=function(t,n){if(!(t=c1(t)[0])||!t.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var r=t.getBoundingClientRect(),i=!n||n===ca||n===tl,s=i?{top:_o.clientTop-(ca.pageYOffset||_o.scrollTop||tl.scrollTop||0),left:_o.clientLeft-(ca.pageXOffset||_o.scrollLeft||tl.scrollLeft||0)}:n.getBoundingClientRect(),o={x:r.left-s.left,y:r.top-s.top};return!i&&n&&(o.x+=zp(n,"x")(),o.y+=zp(n,"y")()),o},_1=function(t,n,r,i,s){return isNaN(t)||"object"==typeof t?p1(t)&&"="===t.charAt(1)?parseFloat(t.substr(2))*("-"===t.charAt(0)?-1:1)+i-s:"max"===t?Wp(n,r)-s:Math.min(Wp(n,r),m1(t,n)[r]-s):parseFloat(t)-s},v1=function(){qr=f1(),h1()&&qr&&typeof document<"u"&&document.body&&(ca=window,tl=document.body,_o=document.documentElement,c1=qr.utils.toArray,qr.config({autoKillThreshold:7}),d1=qr.config(),u1=1)},Gp={version:"3.12.5",name:"scrollTo",rawVars:1,register:function(t){qr=t,v1()},init:function(t,n,r,i,s){u1||v1();var o=this,a=qr.getProperty(t,"scrollSnapType");o.isWin=t===ca,o.target=t,o.tween=r,n=function(t,n,r,i){if(g1(t)&&(t=t(n,r,i)),"object"!=typeof t)return p1(t)&&"max"!==t&&"="!==t.charAt(1)?{x:t,y:t}:{y:t};if(t.nodeType)return{y:t,x:t};var o,s={};for(o in t)s[o]="onAutoKill"!==o&&g1(t[o])?t[o](n,r,i):t[o];return s}(n,i,t,s),o.vars=n,o.autoKill=!!n.autoKill,o.getX=zp(t,"x"),o.getY=zp(t,"y"),o.x=o.xPrev=o.getX(),o.y=o.yPrev=o.getY(),Zv||(Zv=qr.core.globals().ScrollTrigger),"smooth"===qr.getProperty(t,"scrollBehavior")&&qr.set(t,{scrollBehavior:"auto"}),a&&"none"!==a&&(o.snap=1,o.snapInline=t.style.scrollSnapType,t.style.scrollSnapType="none"),null!=n.x?(o.add(o,"x",o.x,_1(n.x,t,"x",o.x,n.offsetX||0),i,s),o._props.push("scrollTo_x")):o.skipX=1,null!=n.y?(o.add(o,"y",o.y,_1(n.y,t,"y",o.y,n.offsetY||0),i,s),o._props.push("scrollTo_y")):o.skipY=1},render:function(t,n){for(var m,v,C,y,E,r=n._pt,i=n.target,s=n.tween,o=n.autoKill,a=n.xPrev,l=n.yPrev,d=n.isWin,f=n.snap,g=n.snapInline;r;)r.r(t,r.d),r=r._next;m=d||!n.skipX?n.getX():a,C=(v=d||!n.skipY?n.getY():l)-l,y=m-a,E=d1.autoKillThreshold,n.x<0&&(n.x=0),n.y<0&&(n.y=0),o&&(!n.skipX&&(y>E||y<-E)&&m<Wp(i,"x")&&(n.skipX=1),!n.skipY&&(C>E||C<-E)&&v<Wp(i,"y")&&(n.skipY=1),n.skipX&&n.skipY&&(s.kill(),n.vars.onAutoKill&&n.vars.onAutoKill.apply(s,n.vars.onAutoKillParams||[]))),d?ca.scrollTo(n.skipX?m:n.x,n.skipY?v:n.y):(n.skipY||(i.scrollTop=n.y),n.skipX||(i.scrollLeft=n.x)),f&&(1===t||0===t)&&(v=i.scrollTop,m=i.scrollLeft,g?i.style.scrollSnapType=g:i.style.removeProperty("scroll-snap-type"),i.scrollTop=v+1,i.scrollLeft=m+1,i.scrollTop=v,i.scrollLeft=m),n.xPrev=n.x,n.yPrev=n.y,Zv&&Zv.update()},kill:function(t){var n="scrollTo"===t,r=this._props.indexOf(t);return(n||"scrollTo_x"===t)&&(this.skipX=1),(n||"scrollTo_y"===t)&&(this.skipY=1),r>-1&&this._props.splice(r,1),!this._props.length}};Gp.max=Wp,Gp.getOffset=m1,Gp.buildGetter=zp,f1()&&qr.registerPlugin(Gp);var Ud=Fe(852);(0,Ud.registerVersion)("firebase","10.11.0","app");class bK extends Ct{constructor(t,n){super()}schedule(t,n=0){return this}}const Xv={setInterval(e,t,...n){const{delegate:r}=Xv;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Xv;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class y1 extends bK{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,r=0){return Xv.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Xv.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,on(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const _b={now:()=>(_b.delegate||Date).now(),delegate:void 0};class qp{constructor(t,n=qp.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}qp.now=_b.now;class C1 extends qp{constructor(t,n=qp.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const AK=new class SK extends C1{}(class DK extends y1{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}}),w1=new C1(y1),vb=new od("ANGULARFIRE2_VERSION");class E1{constructor(){return((e,t)=>{const n=(0,Ud.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(MK)}}const MK="app-check";function Bd(){}class I1{zone;delegate;constructor(t,n=AK){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{t.apply(this,[o])})},n,r)}}class NK{zone;task=null;constructor(t){this.zone=t}call(t,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bd,{},Bd,Bd)),n.pipe(Dr({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let b1=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new I1(Zone.current)),this.insideAngular=n.run(()=>new I1(Zone.current,w1)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||e)(le(ut))};static \u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nl(e){return function xK(e){return function(n){return(n=n.lift(new NK(e.ngZone))).pipe(dd(e.outsideAngular),iu(e.insideAngular))}}(function jd(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}())(e)}var rl=Fe(345);rl.A.registerVersion("firebase","10.11.0","app-compat");const FK=["ngOnDestroy"];class D1{constructor(t){return t}}const Jv=new ue("angularfire2.app.options"),ey=new ue("angularfire2.app.name");function yb(e,t,n){const i="object"==typeof n&&n||{};i.name=i.name||"string"==typeof n&&n||"[DEFAULT]";const o=rl.A.apps.filter(a=>a&&a.name===i.name)[0]||t.runOutsideAngular(()=>rl.A.initializeApp(e,i));try{if(JSON.stringify(e)!==JSON.stringify(o.options)){const a=!!module.hot;UK("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new D1(o)}const UK=(e,...t)=>{},BK={provide:D1,useFactory:yb,deps:[Jv,ut,[new Po,ey]]};let jK=(()=>{class e{static initializeApp(n,r){return{ngModule:e,providers:[{provide:Jv,useValue:n},{provide:ey,useValue:r}]}}constructor(n){rl.A.registerVersion("angularfire",vb.full,"core"),rl.A.registerVersion("angularfire",vb.full,"app-compat"),rl.A.registerVersion("angular",jz.full,n.toString())}static \u0275fac=function(r){return new(r||e)(le(Js))};static \u0275mod=mi({type:e});static \u0275inj=vr({providers:[BK]})}return e})();function S1(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(s)return function HK(e,t){try{return e.toString()===t.toString()}catch{return e===t}}(i,o)||(A1("error",`${t} was already initialized on the ${n} Firebase App with different settings.${$K?" You may need to reload as Firebase is not HMR aware.":""}`),A1("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([e,a,i]),a}}const $K=typeof module<"u"&&!!module.hot,A1=(e,...t)=>{};function Cb(...e){const t=gp(e),n=function Cq(e,t){return"number"==typeof KI(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?oi(r[0]):hd(n)(wn(r,t)):Es}globalThis.\u0275AngularfireInstanceCache||=[],Fe(509);class WK extends N{constructor(t=1/0,n=1/0,r=_b){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(t),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!t.closed;o+=r?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function T1(e={}){const{connector:t=(()=>new N),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,d=0,f=!1,g=!1;const m=()=>{a?.unsubscribe(),a=void 0},v=()=>{m(),o=l=void 0,f=g=!1},C=()=>{const y=o;v(),y?.unsubscribe()};return fe((y,E)=>{d++,!g&&!f&&m();const M=l=l??t();E.add(()=>{d--,0===d&&!g&&!f&&(a=wb(C,i))}),M.subscribe(E),!o&&d>0&&(o=new Li({next:A=>M.next(A),error:A=>{g=!0,m(),a=wb(v,n,A),M.error(A)},complete:()=>{f=!0,m(),a=wb(v,r),M.complete()}}),oi(y).subscribe(o))})(s)}}function wb(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Li({next:()=>{r.unsubscribe(),e()}});return oi(t(...n)).subscribe(r)}function M1(e,t,n){let r,i=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e):r=e??1/0,T1({connector:()=>new WK(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function N1(e,t){return Se(t)?zn(()=>e,t):zn(()=>e)}const R1=new ue("angularfire2.auth.use-emulator"),x1=new ue("angularfire2.auth.settings"),P1=new ue("angularfire2.auth.tenant-id"),O1=new ue("angularfire2.auth.langugage-code"),k1=new ue("angularfire2.auth.use-device-language"),F1=new ue("angularfire.auth.persistence"),L1=(e,t,n,r,i,s,o,a)=>S1(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[d,f]of Object.entries(o))l.settings[d]=f;return a&&l.setPersistence(a),l},[n,r,i,s,o,a]);let V1=(()=>{class e{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,s,o,a,l,d,f,g,m,v){const C=new N,y=Me(void 0).pipe(iu(o.outsideAngular),zn(()=>s.runOutsideAngular(()=>Promise.resolve().then(Fe.bind(Fe,509)))),we(()=>yb(n,s,r)),we(E=>L1(E,s,a,d,f,g,l,m)),M1({bufferSize:1,refCount:!1}));if(UI(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Me(null);else{y.pipe(za()).subscribe();const E=y.pipe(zn(O=>O.getRedirectResult().then(U=>U,()=>null)),nl,M1({bufferSize:1,refCount:!1})),M=y.pipe(zn(O=>new At(U=>({unsubscribe:s.runOutsideAngular(()=>O.onAuthStateChanged(B=>U.next(B),B=>U.error(B),()=>U.complete()))})))),A=y.pipe(zn(O=>new At(U=>({unsubscribe:s.runOutsideAngular(()=>O.onIdTokenChanged(B=>U.next(B),B=>U.error(B),()=>U.complete()))}))));this.authState=E.pipe(N1(M),dd(o.outsideAngular),iu(o.insideAngular)),this.user=E.pipe(N1(A),dd(o.outsideAngular),iu(o.insideAngular)),this.idToken=this.user.pipe(zn(O=>O?wn(O.getIdToken()):Me(null))),this.idTokenResult=this.user.pipe(zn(O=>O?wn(O.getIdTokenResult()):Me(null))),this.credential=Cb(E,C,this.authState.pipe(ia(O=>!O))).pipe(we(O=>O?.user?O:null),dd(o.outsideAngular),iu(o.insideAngular))}return((e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{if(e[s])return r?.spy?.get&&r.spy.get(s,e[s]),e[s];if(FK.indexOf(s)>-1)return()=>{};const o=t.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(d=>n.run(()=>d)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,d)=>o.then(f=>{const g=f?.(...d);return r?.spy?.apply&&r.spy.apply(s,d,g),g})})})}))(this,y,s,{spy:{apply:(E,M,A)=>{(E.startsWith("signIn")||E.startsWith("createUser"))&&A.then(O=>C.next(O))}}})}static \u0275fac=function(r){return new(r||e)(le(Jv),le(ey,8),le(Js),le(ut),le(b1),le(R1,8),le(x1,8),le(P1,8),le(O1,8),le(k1,8),le(F1,8),le(E1,8))};static \u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();function YK(e,t){return e===t}var vu=Fe(362),I=Fe(76),Eb=Fe(41);const U1="@firebase/database";let Ib="";function bb(e){Ib=e}class QK{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,I.As)(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:(0,I.$L)(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class ZK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return(0,I.gR)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const j1=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new QK(t)}}catch{}return new ZK},yu=j1("localStorage"),Db=j1("sessionStorage"),Hd=new Eb.Vy("@firebase/database"),H1=function(){let e=1;return function(){return e++}}(),$1=function(e){const t=(0,I.kj)(e),n=new I.gz;n.update(t);const r=n.digest();return I.K3.encodeByteArray(r)},Kp=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Kp.apply(null,r):t+="object"==typeof r?(0,I.As)(r):r,t+=" "}return t};let Cu=null,W1=!0;const z1=function(e,t){(0,I.vA)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Hd.logLevel=Eb.$b.VERBOSE,Cu=Hd.log.bind(Hd),t&&Db.set("logging_enabled",!0)):"function"==typeof e?Cu=e:(Cu=null,Db.remove("logging_enabled"))},tr=function(...e){if(!0===W1&&(W1=!1,null===Cu&&!0===Db.get("logging_enabled")&&z1(!0)),Cu){const t=Kp.apply(null,e);Cu(t)}},Yp=function(e){return function(...t){tr(e,...t)}},Sb=function(...e){const t="FIREBASE INTERNAL ERROR: "+Kp(...e);Hd.error(t)},vo=function(...e){const t=`FIREBASE FATAL ERROR: ${Kp(...e)}`;throw Hd.error(t),new Error(t)},Mr=function(...e){const t="FIREBASE WARNING: "+Kp(...e);Hd.warn(t)},ty=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},il="[MIN_NAME]",da="[MAX_NAME]",wu=function(e,t){if(e===t)return 0;if(e===il||t===da)return-1;if(t===il||e===da)return 1;{const n=K1(e),r=K1(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},eY=function(e,t){return e===t?0:e<t?-1:1},Qp=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,I.As)(t))},Ab=function(e){if("object"!=typeof e||null===e)return(0,I.As)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,I.As)(t[r]),n+=":",n+=Ab(e[t[r]]);return n+="}",n},G1=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function nr(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const q1=function(e){(0,I.vA)(!ty(e),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===e?(s=0,o=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=a+r,o=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(e/Math.pow(2,-1074))));const d=[];for(l=52;l;l-=1)d.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)d.push(s%2?1:0),s=Math.floor(s/2);d.push(i?1:0),d.reverse();const f=d.join("");let g="";for(l=0;l<64;l+=8){let m=parseInt(f.substr(l,8),2).toString(16);1===m.length&&(m="0"+m),g+=m}return g.toLowerCase()},iY=new RegExp("^-?(0*)\\d{1,10}$"),K1=function(e){if(iY.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},$d=function(e){try{e()}catch(t){setTimeout(()=>{throw Mr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Zp=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class lY{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Mr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class uY{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(tr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mr(t)}}let Xp=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const J1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nF="websocket",rF="long_polling";class Mb{constructor(t,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yu.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&yu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function iF(e,t,n){let r;if((0,I.vA)("string"==typeof t,"typeof type must == string"),(0,I.vA)("object"==typeof n,"typeof params must == object"),t===nF)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==rF)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function cY(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return nr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class dY{constructor(){this.counters_={}}incrementCounter(t,n=1){(0,I.gR)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return(0,I.A4)(this.counters_)}}const Nb={},Rb={};function xb(e){const t=e.toString();return Nb[t]||(Nb[t]=new dY),Nb[t]}class fY{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$d(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class sl{constructor(t,n,r,i,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yp(t),this.stats_=xb(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),iF(n,rF,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new fY(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,I.$g)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pb((...s)=>{const[o,a,l,d,f]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&J1.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sl.forceAllow_=!0}static forceDisallow(){sl.forceDisallow_=!0}static isAvailable(){return!((0,I.$g)()||!sl.forceAllow_&&(sl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=(0,I.As)(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=(0,I.KA)(n),i=G1(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if((0,I.$g)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=(0,I.As)(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Pb{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,I.$g)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=H1(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Pb.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){tr("frame writing exception"),a.stack&&tr(a.stack),tr(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||tr("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){(0,I.$g)()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{tr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let ry=null;typeof MozWebSocket<"u"?ry=MozWebSocket:typeof WebSocket<"u"&&(ry=WebSocket);let Wd=(()=>{class e{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yp(this.connId),this.stats_=xb(r),this.connURL=e.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return!(0,I.$g)()&&typeof location<"u"&&location.hostname&&J1.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),iF(n,nF,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yu.set("previous_websocket_failure",!0);try{let i;if((0,I.$g)()){i={headers:{"User-Agent":`Firebase/5/${Ib}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new ry(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==ry&&!e.forceDisallow_}static previouslyFailed(){return yu.isInMemoryStorage||!0===yu.get("previous_websocket_failure")}markConnectionHealthy(){yu.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,I.$L)(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,I.vA)(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=(0,I.As)(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=G1(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),dF=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[sl,Wd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Wd&&Wd.isAvailable();let i=r&&!Wd.previouslyFailed();if(n.webSocketOnly&&(r||Mr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Wd];else{const s=this.transports_=[];for(const o of e.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class vF{constructor(t,n,r,i,s,o,a,l,d,f){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=d,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yp("c:"+this.id+":"),this.transportManager_=new dF(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Zp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Qp("t",t),r=Qp("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Qp("t",t),r=Qp("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Qp("t",t);if("d"in t){const r=t.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?Sb("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Sb("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Mr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Zp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class yF{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class CF{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,I.vA)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(t){(0,I.vA)(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class iy extends CF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,I.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new iy}getInitialEvent(t){return(0,I.vA)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Et{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function gt(){return new Et("")}function Ze(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ol(e){return e.pieces_.length-e.pieceNum_}function Ot(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Et(e.pieces_,t)}function kb(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Jp(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function IF(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Et(t,0)}function rn(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Et)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Et(n,0)}function Xe(e){return e.pieceNum_>=e.pieces_.length}function Kr(e,t){const n=Ze(e),r=Ze(t);if(null===n)return t;if(n===r)return Kr(Ot(e),Ot(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function kY(e,t){const n=Jp(e,0),r=Jp(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=wu(n[i],r[i]);if(0!==s)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Fb(e,t){if(ol(e)!==ol(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ts(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ol(e)>ol(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class FY{constructor(t,n){this.errorPrefix_=n,this.parts_=Jp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,I.OE)(this.parts_[r]);bF(this)}}function bF(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Eu(e))}function Eu(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Lb extends CF{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Lb}getInitialEvent(t){return(0,I.vA)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const eg=1e3;let oy,Iu=(()=>{class e extends yF{constructor(n,r,i,s,o,a,l,d){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=d,this.id=e.nextPersistentConnectionId_++,this.log_=Yp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=eg,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!(0,I.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lb.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&iy.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_((0,I.As)(o)),(0,I.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new I.cY,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),(0,I.vA)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,I.vA)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,l=>{const d=l.d,f=l.s;e.warnOnListenWarnings_(d,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),"ok"!==f&&this.removeListen_(i,s),n.onComplete&&n.onComplete(f,d))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&(0,I.gR)(n,"w")){const i=(0,I.yw)(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Mr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,I.qc)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=(0,I.Cv)(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),(0,I.vA)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,I.As)(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):Sb("Unrecognized action received from server: "+(0,I.As)(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,I.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=eg,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=eg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=eg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,b.A)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let l=!1,d=null;const f=function(){d?d.close():(l=!0,s())},g=function(v){(0,I.vA)(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(v)};n.realtime_={close:f,sendRequest:g};const m=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[v,C]=yield Promise.all([n.authTokenProvider_.getToken(m),n.appCheckTokenProvider_.getToken(m)]);l?tr("getToken() completed but was canceled"):(tr("getToken() completed. Creating connection."),n.authToken_=v&&v.accessToken,n.appCheckToken_=C&&C.token,d=new vF(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,y=>{Mr(y+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(v){n.log_("Failed to get token: "+v),l||(n.repoInfo_.nodeAdmin&&Mr(v),f())}}})()}interrupt(n){tr("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){tr("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,I.Im)(this.interruptReasons_)&&(this.reconnectDelay_=eg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>Ab(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new Et(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){tr("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){tr("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";(0,I.$g)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+Ib.replace(/\./g,"-")]=1,(0,I.jZ)()?n["framework.cordova"]=1:(0,I.lV)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=iy.getInstance().currentlyOnline();return(0,I.Im)(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class tt{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new tt(t,n)}}class sy{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new tt(il,t),i=new tt(il,n);return 0!==this.compare(r,i)}minPost(){return tt.MIN}}class AF extends sy{static get __EMPTY_NODE(){return oy}static set __EMPTY_NODE(t){oy=t}compare(t,n){return wu(t.name,n.name)}isDefinedOn(t){throw(0,I.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return tt.MIN}maxPost(){return new tt(da,oy)}makePost(t,n){return(0,I.vA)("string"==typeof t,"KeyIndex indexValue must always be a string."),new tt(t,oy)}toString(){return".key"}}const yo=new AF;class ay{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Ub,Ds=(()=>{class e{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??e.RED,this.left=s??hi.EMPTY_NODE,this.right=o??hi.EMPTY_NODE}copy(n,r,i,s,o){return new e(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return hi.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return hi.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class hi{constructor(t,n=hi.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new hi(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ds.BLACK,null,null))}remove(t){return new hi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ds.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ay(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new ay(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new ay(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new ay(this.root_,null,this.comparator_,!0,t)}}function WY(e,t){return wu(e.name,t.name)}function Vb(e,t){return wu(e,t)}hi.EMPTY_NODE=new class $Y{copy(t,n,r,i,s){return this}insert(t,n,r){return new Ds(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const TF=function(e){return"number"==typeof e?"number:"+q1(e):"string:"+e},MF=function(e){if(e.isLeafNode()){const t=e.val();(0,I.vA)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,I.gR)(t,".sv"),"Priority must be a string or number.")}else(0,I.vA)(e===Ub||e.isEmpty(),"priority of unexpected type.");(0,I.vA)(e===Ub||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let NF,RF,xF,zd=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,(0,I.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),MF(this.priorityNode_)}static set __childrenNodeConstructor(n){NF=n}static get __childrenNodeConstructor(){return NF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Xe(n)?this:".priority"===Ze(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=Ze(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,I.vA)(".priority"!==i||1===ol(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ot(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+TF(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?q1(this.value_):this.value_,this.lazyHash_=$1(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:((0,I.vA)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=e.VALUE_TYPE_ORDER.indexOf(r),o=e.VALUE_TYPE_ORDER.indexOf(i);return(0,I.vA)(s>=0,"Unknown leaf type: "+r),(0,I.vA)(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Ht=new class KY extends sy{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?wu(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return tt.MIN}maxPost(){return new tt(da,new zd("[PRIORITY-POST]",xF))}makePost(t,n){const r=RF(t);return new tt(n,new zd("[PRIORITY-POST]",r))}toString(){return".priority"}},YY=Math.log(2);class QY{constructor(t){this.count=(s=>parseInt(Math.log(s)/YY,10))(t+1),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ly=function(e,t,n,r){e.sort(t);const i=function(l,d){const f=d-l;let g,m;if(0===f)return null;if(1===f)return g=e[l],m=n?n(g):g,new Ds(m,g.node,Ds.BLACK,null,null);{const v=parseInt(f/2,10)+l,C=i(l,v),y=i(v+1,d);return g=e[v],m=n?n(g):g,new Ds(m,g.node,Ds.BLACK,C,y)}},a=function(l){let d=null,f=null,g=e.length;const m=function(C,y){const E=g-C,M=g;g-=C;const A=i(E+1,M),O=e[E],U=n?n(O):O;v(new Ds(U,O.node,y,null,A))},v=function(C){d?(d.left=C,d=C):(f=C,d=C)};for(let C=0;C<l.count;++C){const y=l.nextBitIsOne(),E=Math.pow(2,l.count-(C+1));y?m(E,Ds.BLACK):(m(E,Ds.BLACK),m(E,Ds.RED))}return f}(new QY(e.length));return new hi(r||t,a)};let Bb;const Gd={};class ha{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return(0,I.vA)(Gd&&Ht,"ChildrenNode.ts has not been loaded"),Bb=Bb||new ha({".priority":Gd},{".priority":Ht}),Bb}get(t){const n=(0,I.yw)(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof hi?n:null}hasIndex(t){return(0,I.gR)(this.indexSet_,t.toString())}addIndex(t,n){(0,I.vA)(t!==yo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(tt.Wrap);let a,o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?ly(r,t.getCompare()):Gd;const l=t.toString(),d=Object.assign({},this.indexSet_);d[l]=t;const f=Object.assign({},this.indexes_);return f[l]=a,new ha(f,d)}addToIndexes(t,n){const r=(0,I.kH)(this.indexes_,(i,s)=>{const o=(0,I.yw)(this.indexSet_,s);if((0,I.vA)(o,"Missing index implementation for "+s),i===Gd){if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(tt.Wrap);let d=l.getNext();for(;d;)d.name!==t.name&&a.push(d),d=l.getNext();return a.push(t),ly(a,o.getCompare())}return Gd}{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new tt(t.name,a))),l.insert(t,t.node)}});return new ha(r,this.indexSet_)}removeFromIndexes(t,n){const r=(0,I.kH)(this.indexes_,i=>{if(i===Gd)return i;{const s=n.get(t.name);return s?i.remove(new tt(t.name,s)):i}});return new ha(r,this.indexSet_)}}let tg,$e=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&MF(this.priorityNode_),this.children_.isEmpty()&&(0,I.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return tg||(tg=new e(new hi(Vb),null,ha.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||tg}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?tg:r}}getChild(n){const r=Ze(n);return null===r?this:this.getImmediateChild(r).getChild(Ot(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if((0,I.vA)(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new tt(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?tg:this.priorityNode_;return new e(s,a,o)}}updateChild(n,r){const i=Ze(n);if(null===i)return r;{(0,I.vA)(".priority"!==Ze(n)||1===ol(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ot(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Ht,(a,l)=>{r[a]=l.val(n),i++,o&&e.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+TF(this.getPriority().val())+":"),this.forEachChild(Ht,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":$1(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new tt(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new tt(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new tt(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,tt.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,tt.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ng?-1:0}withIndex(n){if(n===yo||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===yo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Ht),s=r.getIterator(Ht);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===yo?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const ng=new class ZY extends $e{constructor(){super(new hi(Vb),$e.EMPTY_NODE,ha.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return $e.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(tt,{MIN:{value:new tt(il,$e.EMPTY_NODE)},MAX:{value:new tt(da,ng)}}),AF.__EMPTY_NODE=$e.EMPTY_NODE,zd.__childrenNodeConstructor=$e,function zY(e){Ub=e}(ng),function qY(e){xF=e}(ng);const XY=!0;function dn(e,t=null){if(null===e)return $e.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,I.vA)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new zd(e,dn(t));if(e instanceof Array||!XY){let n=$e.EMPTY_NODE;return nr(e,(r,i)=>{if((0,I.gR)(e,r)&&"."!==r.substring(0,1)){const s=dn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(dn(t))}{const n=[];let r=!1;if(nr(e,(o,a)=>{if("."!==o.substring(0,1)){const l=dn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new tt(o,l)))}}),0===n.length)return $e.EMPTY_NODE;const s=ly(n,WY,o=>o.name,Vb);if(r){const o=ly(n,Ht.getCompare());return new $e(s,dn(t),new ha({".priority":o},{".priority":Ht}))}return new $e(s,dn(t),ha.Default)}}!function GY(e){RF=e}(dn);class jb extends sy{constructor(t){super(),this.indexPath_=t,(0,I.vA)(!Xe(t)&&".priority"!==Ze(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?wu(t.name,n.name):s}makePost(t,n){const r=dn(t),i=$e.EMPTY_NODE.updateChild(this.indexPath_,r);return new tt(n,i)}maxPost(){const t=$e.EMPTY_NODE.updateChild(this.indexPath_,ng);return new tt(da,t)}toString(){return Jp(this.indexPath_,0).join("/")}}const Hb=new class JY extends sy{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?wu(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return tt.MIN}maxPost(){return tt.MAX}makePost(t,n){const r=dn(t);return new tt(n,r)}toString(){return".value"}};function PF(e){return{type:"value",snapshotNode:e}}function qd(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function rg(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ig(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class $b{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){(0,I.vA)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(rg(n,a)):(0,I.vA)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(qd(n,r)):o.trackChildChange(ig(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Ht,(i,s)=>{n.hasChild(i)||r.trackChildChange(rg(i,s))}),n.isLeafNode()||n.forEachChild(Ht,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(ig(i,s,o))}else r.trackChildChange(qd(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?$e.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sg{constructor(t){this.indexedFilter_=new $b(t.getIndex()),this.index_=t.getIndex(),this.startPost_=sg.getStartPost_(t),this.endPost_=sg.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new tt(n,r))||(r=$e.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=$e.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority($e.EMPTY_NODE);const s=this;return n.forEachChild(Ht,(o,a)=>{s.matches(new tt(o,a))||(i=i.updateImmediateChild(o,$e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class t7{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new sg(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new tt(n,r))||(r=$e.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=$e.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let s;i=$e.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=n.withIndex(this.index_),i=i.updatePriority($e.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,$e.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const g=this.index_.getCompare();o=(m,v)=>g(v,m)}else o=this.index_.getCompare();const a=t;(0,I.vA)(a.numChildren()===this.limit_,"");const l=new tt(n,r),d=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(a.hasChild(n)){const g=a.getImmediateChild(n);let m=i.getChildAfterChild(this.index_,d,this.reverse_);for(;null!=m&&(m.name===n||a.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);const v=null==m?1:o(m,l);if(f&&!r.isEmpty()&&v>=0)return s?.trackChildChange(ig(n,r,g)),a.updateImmediateChild(n,r);{s?.trackChildChange(rg(n,g));const y=a.updateImmediateChild(n,$e.EMPTY_NODE);return null!=m&&this.rangedFilter_.matches(m)?(s?.trackChildChange(qd(m.name,m.node)),y.updateImmediateChild(m.name,m.node)):y}}return r.isEmpty()?t:f&&o(d,l)>=0?(null!=s&&(s.trackChildChange(rg(d.name,d.node)),s.trackChildChange(qd(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(d.name,$e.EMPTY_NODE)):t}}class uy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ht}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,I.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,I.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:il}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,I.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,I.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:da}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,I.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ht}copy(){const t=new uy;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Wb(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function zb(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function cy(e,t){const n=e.copy();return n.index_=t,n}function OF(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ht?n="$priority":e.index_===Hb?n="$value":e.index_===yo?n="$key":((0,I.vA)(e.index_ instanceof jb,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,I.As)(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=(0,I.As)(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+(0,I.As)(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=(0,I.As)(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+(0,I.As)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function kF(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ht&&(t.i=e.index_.toString()),t}class dy extends yF{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Yp("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:((0,I.vA)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=dy.getListenId_(t,r),a={};this.listens_[o]=a;const l=OF(t._queryParams);this.restRequest_(s+".json",l,(d,f)=>{let g=f;if(404===d&&(g=null,d=null),null===d&&this.onDataUpdate_(s,g,!1,r),(0,I.yw)(this.listens_,o)===a){let m;m=d?401===d?"permission_denied":"rest_error:"+d:"ok",i(m,null)}})}unlisten(t,n){const r=dy.getListenId_(t,n);delete this.listens_[r]}get(t){const n=OF(t._queryParams),r=t._path.toString(),i=new I.cY;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,I.Am)(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,I.$L)(a.responseText)}catch{Mr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&Mr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class a7{constructor(){this.rootNode_=$e.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function hy(){return{value:null,children:new Map}}function Kd(e,t,n){if(Xe(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Ze(t);e.children.has(r)||e.children.set(r,hy()),Kd(e.children.get(r),t=Ot(t),n)}}function Gb(e,t){if(Xe(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Ht,(r,i)=>{Kd(e,new Et(r),i)}),Gb(e,t)}}if(e.children.size>0){const n=Ze(t);return t=Ot(t),e.children.has(n)&&Gb(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function qb(e,t,n){null!==e.value?n(t,e.value):function l7(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{qb(i,new Et(t.toString()+"/"+r),n)})}class u7{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&nr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class h7{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new u7(t);const r=1e4+2e4*Math.random();Zp(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;nr(t,(i,s)=>{s>0&&(0,I.gR)(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Zp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Co=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Co||{});function Qb(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class fy{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Co.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Xe(this.path)){if(null!=this.affectedTree.value)return(0,I.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Et(t));return new fy(gt(),n,this.revert)}}return(0,I.vA)(Ze(this.path)===t,"operationForChild called for unrelated child."),new fy(Ot(this.path),this.affectedTree,this.revert)}}class og{constructor(t,n){this.source=t,this.path=n,this.type=Co.LISTEN_COMPLETE}operationForChild(t){return Xe(this.path)?new og(this.source,gt()):new og(this.source,Ot(this.path))}}class bu{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Co.OVERWRITE}operationForChild(t){return Xe(this.path)?new bu(this.source,gt(),this.snap.getImmediateChild(t)):new bu(this.source,Ot(this.path),this.snap)}}class Yd{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Co.MERGE}operationForChild(t){if(Xe(this.path)){const n=this.children.subtree(new Et(t));return n.isEmpty()?null:n.value?new bu(this.source,gt(),n.value):new Yd(this.source,gt(),n)}return(0,I.vA)(Ze(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Yd(this.source,Ot(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class al{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Xe(t))return this.isFullyInitialized()&&!this.filtered_;const n=Ze(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class f7{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ag(e,t,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>function m7(e,t,n){if(null==t.childName||null==n.childName)throw(0,I.Hk)("Should only compare child_ events.");const r=new tt(t.childName,t.snapshotNode),i=new tt(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,l)),o.forEach(a=>{const l=function g7(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,s);i.forEach(d=>{d.respondsTo(a.type)&&t.push(d.createEvent(l,e.query_))})})}function py(e,t){return{eventCache:e,serverCache:t}}function lg(e,t,n,r){return py(new al(t,n,r),e.serverCache)}function LF(e,t,n,r){return py(e.eventCache,new al(t,n,r))}function gy(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Du(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Zb;class $t{constructor(t,n=(()=>(Zb||(Zb=new hi(eY)),Zb))()){this.value=t,this.children=n}static fromObject(t){let n=new $t(null);return nr(t,(r,i)=>{n=n.set(new Et(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:gt(),value:this.value};if(Xe(t))return null;{const r=Ze(t),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(Ot(t),n);return null!=s?{path:rn(new Et(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Xe(t))return this;{const n=Ze(t),r=this.children.get(n);return null!==r?r.subtree(Ot(t)):new $t(null)}}set(t,n){if(Xe(t))return new $t(n,this.children);{const r=Ze(t),s=(this.children.get(r)||new $t(null)).set(Ot(t),n),o=this.children.insert(r,s);return new $t(this.value,o)}}remove(t){if(Xe(t))return this.children.isEmpty()?new $t(null):new $t(null,this.children);{const n=Ze(t),r=this.children.get(n);if(r){const i=r.remove(Ot(t));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new $t(null):new $t(this.value,s)}return this}}get(t){if(Xe(t))return this.value;{const n=Ze(t),r=this.children.get(n);return r?r.get(Ot(t)):null}}setTree(t,n){if(Xe(t))return n;{const r=Ze(t),s=(this.children.get(r)||new $t(null)).setTree(Ot(t),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new $t(this.value,o)}}fold(t){return this.fold_(gt(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(rn(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,gt(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(Xe(t))return null;{const s=Ze(t),o=this.children.get(s);return o?o.findOnPath_(Ot(t),rn(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,gt(),n)}foreachOnPath_(t,n,r){if(Xe(t))return this;{this.value&&r(n,this.value);const i=Ze(t),s=this.children.get(i);return s?s.foreachOnPath_(Ot(t),rn(n,i),r):new $t(null)}}foreach(t){this.foreach_(gt(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(rn(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class Ss{constructor(t){this.writeTree_=t}static empty(){return new Ss(new $t(null))}}function ug(e,t,n){if(Xe(t))return new Ss(new $t(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=Kr(i,t);return s=s.updateChild(o,n),new Ss(e.writeTree_.set(i,s))}{const i=new $t(n),s=e.writeTree_.setTree(t,i);return new Ss(s)}}}function Xb(e,t,n){let r=e;return nr(n,(i,s)=>{r=ug(r,rn(t,i),s)}),r}function VF(e,t){if(Xe(t))return Ss.empty();{const n=e.writeTree_.setTree(t,new $t(null));return new Ss(n)}}function Jb(e,t){return null!=Su(e,t)}function Su(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Kr(n.path,t)):null}function UF(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ht,(r,i)=>{t.push(new tt(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new tt(r,i.value))}),t}function ll(e,t){if(Xe(t))return e;{const n=Su(e,t);return new Ss(null!=n?new $t(n):e.writeTree_.subtree(t))}}function eD(e){return e.writeTree_.isEmpty()}function Qd(e,t){return BF(gt(),e.writeTree_,t)}function BF(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{".priority"===i?((0,I.vA)(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=BF(rn(e,i),s,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(rn(e,".priority"),r)),n}}function my(e,t){return zF(t,e)}function E7(e,t){if(e.snap)return ts(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ts(rn(e.path,n),t))return!0;return!1}function b7(e){return e.visible}function jF(e,t,n){let r=Ss.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let a;if(s.snap)ts(n,o)?(a=Kr(n,o),r=ug(r,a,s.snap)):ts(o,n)&&(a=Kr(o,n),r=ug(r,gt(),s.snap.getChild(a)));else{if(!s.children)throw(0,I.Hk)("WriteRecord should have .snap or .children");if(ts(n,o))a=Kr(n,o),r=Xb(r,a,s.children);else if(ts(o,n))if(a=Kr(o,n),Xe(a))r=Xb(r,gt(),s.children);else{const l=(0,I.yw)(s.children,Ze(a));if(l){const d=l.getChild(Ot(a));r=ug(r,gt(),d)}}}}}return r}function HF(e,t,n,r,i){if(r||i){const s=ll(e.visibleWrites,t);if(!i&&eD(s))return n;if(!i&&null==n&&!Jb(s,gt()))return null;{const o=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(ts(d.path,t)||ts(t,d.path))};return Qd(jF(e.allWrites,o,t),n||$e.EMPTY_NODE)}}{const s=Su(e.visibleWrites,t);if(null!=s)return s;{const o=ll(e.visibleWrites,t);return eD(o)?n:null!=n||Jb(o,gt())?Qd(o,n||$e.EMPTY_NODE):null}}}function _y(e,t,n,r){return HF(e.writeTree,e.treePath,t,n,r)}function tD(e,t){return function D7(e,t,n){let r=$e.EMPTY_NODE;const i=Su(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ht,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ll(e.visibleWrites,t);return n.forEachChild(Ht,(o,a)=>{const l=Qd(ll(s,new Et(o)),a);r=r.updateImmediateChild(o,l)}),UF(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return UF(ll(e.visibleWrites,t)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(e.writeTree,e.treePath,t)}function $F(e,t,n,r){return function S7(e,t,n,r,i){(0,I.vA)(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=rn(t,n);if(Jb(e.visibleWrites,s))return null;{const o=ll(e.visibleWrites,s);return eD(o)?i.getChild(n):Qd(o,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function vy(e,t){return function T7(e,t){return Su(e.visibleWrites,t)}(e.writeTree,rn(e.treePath,t))}function nD(e,t,n){return function A7(e,t,n,r){const i=rn(t,n),s=Su(e.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Qd(ll(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function WF(e,t){return zF(rn(e.treePath,t),e.writeTree)}function zF(e,t){return{treePath:e,writeTree:t}}class x7{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;(0,I.vA)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,I.vA)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,ig(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,rg(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,qd(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw(0,I.Hk)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,ig(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const GF=new class P7{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class rD{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new al(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nD(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Du(this.viewCache_),s=function R7(e,t,n,r,i,s){return function M7(e,t,n,r,i,s,o){let a;const l=ll(e.visibleWrites,t),d=Su(l,gt());if(null!=d)a=d;else{if(null==n)return[];a=Qd(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const f=[],g=o.getCompare(),m=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let v=m.getNext();for(;v&&f.length<i;)0!==g(v,r)&&f.push(v),v=m.getNext();return f}}(e.writeTree,e.treePath,t,n,r,i,s)}(this.writes_,i,n,1,r,t);return 0===s.length?null:s[0]}}function qF(e,t,n,r,i,s){const o=t.eventCache;if(null!=vy(r,n))return t;{let a,l;if(Xe(n))if((0,I.vA)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const d=Du(t),g=tD(r,d instanceof $e?d:$e.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{const d=_y(r,Du(t));a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const d=Ze(n);if(".priority"===d){(0,I.vA)(1===ol(n),"Can't have a priority with additional path components");const f=o.getNode();l=t.serverCache.getNode();const g=$F(r,n,f,l);a=null!=g?e.filter.updatePriority(f,g):o.getNode()}else{const f=Ot(n);let g;if(o.isCompleteForChild(d)){l=t.serverCache.getNode();const m=$F(r,n,o.getNode(),l);g=null!=m?o.getNode().getImmediateChild(d).updateChild(f,m):o.getNode().getImmediateChild(d)}else g=nD(r,d,t.serverCache);a=null!=g?e.filter.updateChild(o.getNode(),d,g,f,i,s):o.getNode()}}return lg(t,a,o.isFullyInitialized()||Xe(n),e.filter.filtersNodes())}}function yy(e,t,n,r,i,s,o,a){const l=t.serverCache;let d;const f=o?e.filter:e.filter.getIndexedFilter();if(Xe(n))d=f.updateFullNode(l.getNode(),r,null);else if(f.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(n,r);d=f.updateFullNode(l.getNode(),v,null)}else{const v=Ze(n);if(!l.isCompleteForPath(n)&&ol(n)>1)return t;const C=Ot(n),E=l.getNode().getImmediateChild(v).updateChild(C,r);d=".priority"===v?f.updatePriority(l.getNode(),E):f.updateChild(l.getNode(),v,E,C,GF,null)}const g=LF(t,d,l.isFullyInitialized()||Xe(n),f.filtersNodes());return qF(e,g,n,i,new rD(i,g,s),a)}function iD(e,t,n,r,i,s,o){const a=t.eventCache;let l,d;const f=new rD(i,t,s);if(Xe(n))d=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=lg(t,d,!0,e.filter.filtersNodes());else{const g=Ze(n);if(".priority"===g)d=e.filter.updatePriority(t.eventCache.getNode(),r),l=lg(t,d,a.isFullyInitialized(),a.isFiltered());else{const m=Ot(n),v=a.getNode().getImmediateChild(g);let C;if(Xe(m))C=r;else{const y=f.getCompleteChild(g);C=null!=y?".priority"===kb(m)&&y.getChild(IF(m)).isEmpty()?y:y.updateChild(m,r):$e.EMPTY_NODE}l=v.equals(C)?t:lg(t,e.filter.updateChild(a.getNode(),g,C,m,f,o),a.isFullyInitialized(),e.filter.filtersNodes())}}return l}function KF(e,t){return e.eventCache.isCompleteForChild(t)}function YF(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function sD(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d,l=t;d=Xe(n)?r:new $t(null).setTree(n,r);const f=t.serverCache.getNode();return d.children.inorderTraversal((g,m)=>{if(f.hasChild(g)){const C=YF(0,t.serverCache.getNode().getImmediateChild(g),m);l=yy(e,l,new Et(g),C,i,s,o,a)}}),d.children.inorderTraversal((g,m)=>{const v=!t.serverCache.isCompleteForChild(g)&&null===m.value;if(!f.hasChild(g)&&!v){const y=YF(0,t.serverCache.getNode().getImmediateChild(g),m);l=yy(e,l,new Et(g),y,i,s,o,a)}}),l}class H7{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new $b(r.getIndex()),s=function n7(e){return e.loadsAllData()?new $b(e.getIndex()):e.hasLimit()?new t7(e):new sg(e)}(r);this.processor_=function O7(e){return{filter:e}}(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode($e.EMPTY_NODE,o.getNode(),null),d=s.updateFullNode($e.EMPTY_NODE,a.getNode(),null),f=new al(l,o.isFullyInitialized(),i.filtersNodes()),g=new al(d,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=py(g,f),this.eventGenerator_=new f7(this.query_)}get query(){return this.query_}}function z7(e,t){const n=Du(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Xe(t)&&!n.getImmediateChild(Ze(t)).isEmpty())?n.getChild(t):null}function QF(e){return 0===e.eventRegistrations_.length}function ZF(e,t,n){const r=[];if(n){(0,I.vA)(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}else i.push(o)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function XF(e,t,n,r){t.type===Co.MERGE&&null!==t.source.queryId&&((0,I.vA)(Du(e.viewCache_),"We should always have a full cache before handling merges"),(0,I.vA)(gy(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=function F7(e,t,n,r,i){const s=new x7;let o,a;if(n.type===Co.OVERWRITE){const d=n;d.source.fromUser?o=iD(e,t,d.path,d.snap,r,i,s):((0,I.vA)(d.source.fromServer,"Unknown source."),a=d.source.tagged||t.serverCache.isFiltered()&&!Xe(d.path),o=yy(e,t,d.path,d.snap,r,i,a,s))}else if(n.type===Co.MERGE){const d=n;d.source.fromUser?o=function V7(e,t,n,r,i,s,o){let a=t;return r.foreach((l,d)=>{const f=rn(n,l);KF(t,Ze(f))&&(a=iD(e,a,f,d,i,s,o))}),r.foreach((l,d)=>{const f=rn(n,l);KF(t,Ze(f))||(a=iD(e,a,f,d,i,s,o))}),a}(e,t,d.path,d.children,r,i,s):((0,I.vA)(d.source.fromServer,"Unknown source."),a=d.source.tagged||t.serverCache.isFiltered(),o=sD(e,t,d.path,d.children,r,i,a,s))}else if(n.type===Co.ACK_USER_WRITE){const d=n;o=d.revert?function j7(e,t,n,r,i,s){let o;if(null!=vy(r,n))return t;{const a=new rD(r,t,i),l=t.eventCache.getNode();let d;if(Xe(n)||".priority"===Ze(n)){let f;if(t.serverCache.isFullyInitialized())f=_y(r,Du(t));else{const g=t.serverCache.getNode();(0,I.vA)(g instanceof $e,"serverChildren would be complete if leaf node"),f=tD(r,g)}d=e.filter.updateFullNode(l,f,s)}else{const f=Ze(n);let g=nD(r,f,t.serverCache);null==g&&t.serverCache.isCompleteForChild(f)&&(g=l.getImmediateChild(f)),d=null!=g?e.filter.updateChild(l,f,g,Ot(n),a,s):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,$e.EMPTY_NODE,Ot(n),a,s):l,d.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=_y(r,Du(t)),o.isLeafNode()&&(d=e.filter.updateFullNode(d,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=vy(r,gt()),lg(t,d,o,e.filter.filtersNodes())}}(e,t,d.path,r,i,s):function U7(e,t,n,r,i,s,o){if(null!=vy(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Xe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return yy(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Xe(n)){let d=new $t(null);return l.getNode().forEachChild(yo,(f,g)=>{d=d.set(new Et(f),g)}),sD(e,t,n,d,i,s,a,o)}return t}{let d=new $t(null);return r.foreach((f,g)=>{const m=rn(n,f);l.isCompleteForPath(m)&&(d=d.set(f,l.getNode().getChild(m)))}),sD(e,t,n,d,i,s,a,o)}}(e,t,d.path,d.affectedTree,r,i,s)}else{if(n.type!==Co.LISTEN_COMPLETE)throw(0,I.Hk)("Unknown operation type: "+n.type);o=function B7(e,t,n,r,i){const s=t.serverCache;return qF(e,LF(t,s.getNode(),s.isFullyInitialized()||Xe(n),s.isFiltered()),n,r,GF,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function L7(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=gy(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(PF(gy(t)))}}(t,o,l),{viewCache:o,changes:l}}(e.processor_,i,t,n,r);return function k7(e,t){(0,I.vA)(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,I.vA)(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,s.viewCache),(0,I.vA)(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,JF(e,s.changes,s.viewCache.eventCache.getNode(),null)}function JF(e,t,n,r){return function p7(e,t,n,r){const i=[],s=[];return t.forEach(o=>{"child_changed"===o.type&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function e7(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(o.childName,o.snapshotNode))}),ag(e,i,"child_removed",t,r,n),ag(e,i,"child_added",t,r,n),ag(e,i,"child_moved",s,r,n),ag(e,i,"child_changed",t,r,n),ag(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let Cy,Ey;class eL{constructor(){this.views=new Map}}function oD(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return(0,I.vA)(null!=s,"SyncTree gave us an op for an invalid query."),XF(s,t,n,r)}{let s=[];for(const o of e.views.values())s=s.concat(XF(o,t,n,r));return s}}function tL(e,t,n,r,i){const o=e.views.get(t._queryIdentifier);if(!o){let a=_y(n,i?r:null),l=!1;a?l=!0:r instanceof $e?(a=tD(n,r),l=!1):(a=$e.EMPTY_NODE,l=!1);const d=py(new al(a,l,!1),new al(r,i,!1));return new H7(t,d)}return o}function nL(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ul(e,t){let n=null;for(const r of e.views.values())n=n||z7(r,t);return n}function rL(e,t){return t._queryParams.loadsAllData()?wy(e):e.views.get(t._queryIdentifier)}function iL(e,t){return null!=rL(e,t)}function cl(e){return null!=wy(e)}function wy(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let tQ=1;class sL{constructor(t){this.listenProvider_=t,this.syncPointTree_=new $t(null),this.pendingWriteTree_=function N7(){return{visibleWrites:Ss.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aD(e,t,n,r,i){return function v7(e,t,n,r,i){(0,I.vA)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ug(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Zd(e,new bu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function dl(e,t,n=!1){const r=function C7(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function w7(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);(0,I.vA)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&E7(a,r.path)?i=!1:ts(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function I7(e){e.visibleWrites=jF(e.allWrites,b7,gt()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=VF(e.visibleWrites,r.path):nr(r.children,l=>{e.visibleWrites=VF(e.visibleWrites,rn(r.path,l))}),!0))}(e.pendingWriteTree_,t)){let s=new $t(null);return null!=r.snap?s=s.set(gt(),!0):nr(r.children,o=>{s=s.set(new Et(o),!0)}),Zd(e,new fy(r.path,s,n))}return[]}function cg(e,t,n){return Zd(e,new bu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Iy(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||iL(o,t))){const l=function X7(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=cl(e);if("default"===i)for(const[l,d]of e.views.entries())o=o.concat(ZF(d,n,r)),QF(d)&&(e.views.delete(l),d.query._queryParams.loadsAllData()||s.push(d.query));else{const l=e.views.get(i);l&&(o=o.concat(ZF(l,n,r)),QF(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!cl(e)&&s.push(new(function Y7(){return(0,I.vA)(Cy,"Reference.ts has not been loaded"),Cy}())(t._repo,t._path)),{removed:s,events:o}}(o,t,n,r);(function Q7(e){return 0===e.views.size})(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const d=l.removed;if(a=l.events,!i){const f=-1!==d.findIndex(m=>m._queryParams.loadsAllData()),g=e.syncPointTree_.findOnPath(s,(m,v)=>cl(v));if(f&&!g){const m=e.syncPointTree_.subtree(s);if(!m.isEmpty()){const v=function lQ(e){return e.fold((t,n,r)=>{if(n&&cl(n))return[wy(n)];{let i=[];return n&&(i=nL(n)),nr(r,(s,o)=>{i=i.concat(o)}),i}})}(m);for(let C=0;C<v.length;++C){const y=v[C],E=y.query,M=uL(e,y);e.listenProvider_.startListening(hg(E),dg(e,E),M.hashFn,M.onComplete)}}}!g&&d.length>0&&!r&&(f?e.listenProvider_.stopListening(hg(t),null):d.forEach(m=>{const v=e.queryToTagMap.get(Dy(m));e.listenProvider_.stopListening(hg(m),v)}))}!function uQ(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Dy(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}(e,d)}return a}function oL(e,t,n,r){const i=uD(e,r);if(null!=i){const s=cD(i),o=s.path,a=s.queryId,l=Kr(o,t);return dD(e,o,new bu(Qb(a),l,n))}return[]}function lD(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(m,v)=>{const C=Kr(m,i);s=s||ul(v,C),o=o||cl(v)});let l,a=e.syncPointTree_.get(i);a?(o=o||cl(a),s=s||ul(a,gt())):(a=new eL,e.syncPointTree_=e.syncPointTree_.set(i,a)),null!=s?l=!0:(l=!1,s=$e.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((v,C)=>{const y=ul(C,gt());y&&(s=s.updateImmediateChild(v,y))}));const d=iL(a,t);if(!d&&!t._queryParams.loadsAllData()){const m=Dy(t);(0,I.vA)(!e.queryToTagMap.has(m),"View does not exist, but we have a tag");const v=function cQ(){return tQ++}();e.queryToTagMap.set(m,v),e.tagToQueryMap.set(v,m)}let g=function Z7(e,t,n,r,i,s){const o=tL(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function G7(e,t){e.eventRegistrations_.push(t)}(o,n),function q7(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ht,(s,o)=>{r.push(qd(s,o))}),n.isFullyInitialized()&&r.push(PF(n.getNode())),JF(e,r,n.getNode(),t)}(o,n)}(a,t,n,my(e.pendingWriteTree_,i),s,l);if(!d&&!o&&!r){const m=rL(a,t);g=g.concat(function dQ(e,t,n){const r=t._path,i=dg(e,t),s=uL(e,n),o=e.listenProvider_.startListening(hg(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)(0,I.vA)(!cl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((d,f,g)=>{if(!Xe(d)&&f&&cl(f))return[wy(f).query];{let m=[];return f&&(m=m.concat(nL(f).map(v=>v.query))),nr(g,(v,C)=>{m=m.concat(C)}),m}});for(let d=0;d<l.length;++d){const f=l[d];e.listenProvider_.stopListening(hg(f),dg(e,f))}}return o}(e,t,m))}return g}function by(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const d=ul(a,Kr(o,t));if(d)return d});return HF(i,t,s,n,!0)}function Zd(e,t){return aL(t,e.syncPointTree_,null,my(e.pendingWriteTree_,gt()))}function aL(e,t,n,r){if(Xe(e.path))return lL(e,t,n,r);{const i=t.get(gt());null==n&&null!=i&&(n=ul(i,gt()));let s=[];const o=Ze(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const d=n?n.getImmediateChild(o):null,f=WF(r,o);s=s.concat(aL(a,l,d,f))}return i&&(s=s.concat(oD(i,e,r,n))),s}}function lL(e,t,n,r){const i=t.get(gt());null==n&&null!=i&&(n=ul(i,gt()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,d=WF(r,o),f=e.operationForChild(o);f&&(s=s.concat(lL(f,a,l,d)))}),i&&(s=s.concat(oD(i,e,r,n))),s}function uL(e,t){const n=t.query,r=dg(e,n);return{hashFn:()=>(function $7(e){return e.viewCache_.serverCache.getNode()}(t)||$e.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function sQ(e,t,n){const r=uD(e,n);if(r){const i=cD(r),s=i.path,o=i.queryId,a=Kr(s,t);return dD(e,s,new og(Qb(o),a))}return[]}(e,n._path,r):function iQ(e,t){return Zd(e,new og({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const s=function rY(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(i,n);return Iy(e,n,null,s)}}}}function dg(e,t){const n=Dy(t);return e.queryToTagMap.get(n)}function Dy(e){return e._path.toString()+"$"+e._queryIdentifier}function uD(e,t){return e.tagToQueryMap.get(t)}function cD(e){const t=e.indexOf("$");return(0,I.vA)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Et(e.substr(0,t))}}function dD(e,t,n){const r=e.syncPointTree_.get(t);return(0,I.vA)(r,"Missing sync point for query tag that we're tracking"),oD(r,n,my(e.pendingWriteTree_,t),null)}function hg(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function eQ(){return(0,I.vA)(Ey,"Reference.ts has not been loaded"),Ey}())(e._repo,e._path):e}class hD{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new hD(n)}node(){return this.node_}}class fD{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=rn(this.path_,t);return new fD(this.syncTree_,n)}node(){return by(this.syncTree_,this.path_)}}const hQ=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},cL=function(e,t,n){return e&&"object"==typeof e?((0,I.vA)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?fQ(e[".sv"],t,n):"object"==typeof e[".sv"]?pQ(e[".sv"],t):void(0,I.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},fQ=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,I.vA)(!1,"Unexpected server value: "+e)},pQ=function(e,t,n){e.hasOwnProperty("increment")||(0,I.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&(0,I.vA)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,I.vA)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},dL=function(e,t,n,r){return gD(t,new fD(n,e),r)},pD=function(e,t,n){return gD(e,new hD(t),n)};function gD(e,t,n){const r=e.getPriority().val(),i=cL(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=cL(o.getValue(),t,n);return a!==o.getValue()||i!==o.getPriority().val()?new zd(a,dn(i)):e}{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new zd(i))),o.forEachChild(Ht,(a,l)=>{const d=gD(l,t.getImmediateChild(a),n);d!==l&&(s=s.updateImmediateChild(a,d))}),s}}class mD{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Sy(e,t){let n=t instanceof Et?t:new Et(t),r=e,i=Ze(n);for(;null!==i;){const s=(0,I.yw)(r.node.children,i)||{children:{},childCount:0};r=new mD(i,r,s),n=Ot(n),i=Ze(n)}return r}function Au(e){return e.node.value}function _D(e,t){e.node.value=t,vD(e)}function hL(e){return e.node.childCount>0}function Ay(e,t){nr(e.node.children,(n,r)=>{t(new mD(n,e,r))})}function fL(e,t,n,r){n&&!r&&t(e),Ay(e,i=>{fL(i,t,!0,r)}),n&&r&&t(e)}function fg(e){return new Et(null===e.parent?e.name:fg(e.parent)+"/"+e.name)}function vD(e){null!==e.parent&&function _Q(e,t,n){const r=function gQ(e){return void 0===Au(e)&&!hL(e)}(n),i=(0,I.gR)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,vD(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,vD(e))}(e.parent,e.name,e)}const vQ=/[\[\].#$\/\u0000-\u001F\u007F]/,yQ=/[\[\].#$\u0000-\u001F\u007F]/,yD=10485760,Ty=function(e){return"string"==typeof e&&0!==e.length&&!vQ.test(e)},pL=function(e){return"string"==typeof e&&0!==e.length&&!yQ.test(e)},pg=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!ty(e)||e&&"object"==typeof e&&(0,I.gR)(e,".sv")},wo=function(e,t,n,r){r&&void 0===t||gg((0,I.dI)(e,"value"),t,n)},gg=function(e,t,n){const r=n instanceof Et?new FY(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Eu(r));if("function"==typeof t)throw new Error(e+"contains a function "+Eu(r)+" with contents = "+t.toString());if(ty(t))throw new Error(e+"contains "+t.toString()+" "+Eu(r));if("string"==typeof t&&t.length>yD/3&&(0,I.OE)(t)>yD)throw new Error(e+"contains a string greater than "+yD+" utf8 bytes "+Eu(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,s=!1;if(nr(t,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Ty(o)))throw new Error(e+" contains an invalid key ("+o+") "+Eu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function LY(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,I.OE)(t),bF(e)})(r,o),gg(e,a,r),function VY(e){const t=e.parts_.pop();e.byteLength_-=(0,I.OE)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&s)throw new Error(e+' contains ".value" child '+Eu(r)+" in addition to actual children.")}},gL=function(e,t,n,r){if(r&&void 0===t)return;const i=(0,I.dI)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];nr(t,(o,a)=>{const l=new Et(o);if(gg(i,a,rn(n,l)),".priority"===kb(l)&&!pg(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=Jp(r);for(let o=0;o<s.length;o++)if((".priority"!==s[o]||o!==s.length-1)&&!Ty(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(kY);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&ts(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,s)},CD=function(e,t,n){if(!n||void 0!==t){if(ty(t))throw new Error((0,I.dI)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!pg(t))throw new Error((0,I.dI)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},mg=function(e,t,n,r){if(!(r&&void 0===n||Ty(n)))throw new Error((0,I.dI)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_g=function(e,t,n,r){if(!(r&&void 0===n||pL(n)))throw new Error((0,I.dI)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},EQ=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_g(e,t,n,r)},ns=function(e,t){if(".info"===Ze(t))throw new Error(e+" failed = Can't modify data under /.info/")},mL=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ty(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),pL(e)}(n))throw new Error((0,I.dI)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class IQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function My(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null!==n&&!Fb(s,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function _L(e,t,n){My(e,n),vL(e,r=>Fb(r,t))}function Pi(e,t,n){My(e,n),vL(e,r=>ts(r,t)||ts(t,r))}function vL(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(bQ(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function bQ(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Cu&&tr("event: "+n.toString()),$d(r)}}}const yL="repo_interrupt",DQ=25;class SQ{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new IQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hy(),this.transactionQueueTree_=new mD,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CL(e){const n=e.infoData_.getNode(new Et(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function vg(e){return hQ({timestamp:CL(e)})}function wL(e,t,n,r,i){e.dataUpdateCount++;const s=new Et(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const l=(0,I.kH)(n,d=>dn(d));o=function oQ(e,t,n,r){const i=uD(e,r);if(i){const s=cD(i),o=s.path,a=s.queryId,l=Kr(o,t),d=$t.fromObject(n);return dD(e,o,new Yd(Qb(a),l,d))}return[]}(e.serverSyncTree_,s,l,i)}else{const l=dn(n);o=oL(e.serverSyncTree_,s,l,i)}else if(r){const l=(0,I.kH)(n,d=>dn(d));o=function rQ(e,t,n){const r=$t.fromObject(n);return Zd(e,new Yd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,l)}else{const l=dn(n);o=cg(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Jd(e,s)),Pi(e.eventQueue_,a,o)}function EL(e,t){wD(e,"connected",t),!1===t&&function RQ(e){Xd(e,"onDisconnectEvents");const t=vg(e),n=hy();qb(e.onDisconnect_,gt(),(i,s)=>{const o=dL(i,s,e.serverSyncTree_,t);Kd(n,i,o)});let r=[];qb(n,gt(),(i,s)=>{r=r.concat(cg(e.serverSyncTree_,i,s));const o=DD(e,i);Jd(e,o)}),e.onDisconnect_=hy(),Pi(e.eventQueue_,gt(),r)}(e)}function wD(e,t,n){const r=new Et("/.info/"+t),i=dn(n);e.infoData_.updateSnapshot(r,i);const s=cg(e.infoSyncTree_,r,i);Pi(e.eventQueue_,r,s)}function Ny(e){return e.nextWriteId_++}function ED(e,t,n,r,i){Xd(e,"set",{path:t.toString(),value:n,priority:r});const s=vg(e),o=dn(n,r),a=by(e.serverSyncTree_,t),l=pD(o,a,s),d=Ny(e),f=aD(e.serverSyncTree_,t,l,d,!0);My(e.eventQueue_,f),e.server_.put(t.toString(),o.val(!0),(m,v)=>{const C="ok"===m;C||Mr("set at "+t+" failed: "+m);const y=dl(e.serverSyncTree_,d,!C);Pi(e.eventQueue_,t,y),hl(0,i,m,v)});const g=DD(e,t);Jd(e,g),Pi(e.eventQueue_,g,[])}function xQ(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&Gb(e.onDisconnect_,t),hl(0,n,r,i)})}function IL(e,t,n,r){const i=dn(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(s,o)=>{"ok"===s&&Kd(e.onDisconnect_,t,i),hl(0,r,s,o)})}function ID(e,t,n){let r;r=".info"===Ze(t._path)?Iy(e.infoSyncTree_,t,n):Iy(e.serverSyncTree_,t,n),_L(e.eventQueue_,t._path,r)}function bL(e){e.persistentConnection_&&e.persistentConnection_.interrupt(yL)}function Xd(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),tr(n,...t)}function hl(e,t,n,r){t&&$d(()=>{if("ok"===n)t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function bD(e,t,n){return by(e.serverSyncTree_,t,n)||$e.EMPTY_NODE}function Ry(e,t=e.transactionQueueTree_){if(t||xy(e,t),Au(t)){const n=SL(e,t);(0,I.vA)(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function VQ(e,t,n){const r=n.map(d=>d.currentWriteId),i=bD(e,t,r);let s=i;const o=i.hash();for(let d=0;d<n.length;d++){const f=n[d];(0,I.vA)(0===f.status,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const g=Kr(t,f.path);s=s.updateChild(g,f.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,d=>{Xd(e,"transaction put response",{path:l.toString(),status:d});let f=[];if("ok"===d){const g=[];for(let m=0;m<n.length;m++)n[m].status=2,f=f.concat(dl(e.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&g.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();xy(e,Sy(e.transactionQueueTree_,t)),Ry(e,e.transactionQueueTree_),Pi(e.eventQueue_,t,f);for(let m=0;m<g.length;m++)$d(g[m])}else{if("datastale"===d)for(let g=0;g<n.length;g++)n[g].status=3===n[g].status?4:0;else{Mr("transaction at "+l.toString()+" failed: "+d);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=d}Jd(e,t)}},o)}(e,fg(t),n)}else hL(t)&&Ay(t,n=>{Ry(e,n)})}function Jd(e,t){const n=DL(e,t),r=fg(n);return function UQ(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],d=Kr(n,l.path);let g,f=!1;if((0,I.vA)(null!==d,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,g=l.abortReason,i=i.concat(dl(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=DQ)f=!0,g="maxretry",i=i.concat(dl(e.serverSyncTree_,l.currentWriteId,!0));else{const m=bD(e,l.path,o);l.currentInputSnapshot=m;const v=t[a].update(m.val());if(void 0!==v){gg("transaction failed: Data returned ",v,l.path);let C=dn(v);"object"==typeof v&&null!=v&&(0,I.gR)(v,".priority")||(C=C.updatePriority(m.getPriority()));const E=l.currentWriteId,M=vg(e),A=pD(C,m,M);l.currentOutputSnapshotRaw=C,l.currentOutputSnapshotResolved=A,l.currentWriteId=Ny(e),o.splice(o.indexOf(E),1),i=i.concat(aD(e.serverSyncTree_,l.path,A,l.currentWriteId,l.applyLocally)),i=i.concat(dl(e.serverSyncTree_,E,!0))}else f=!0,g="nodata",i=i.concat(dl(e.serverSyncTree_,l.currentWriteId,!0))}Pi(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,function(m){setTimeout(m,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&r.push("nodata"===g?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(g),!1,null)))}xy(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)$d(r[a]);Ry(e,e.transactionQueueTree_)}(e,SL(e,n),r),r}function DL(e,t){let n,r=e.transactionQueueTree_;for(n=Ze(t);null!==n&&void 0===Au(r);)r=Sy(r,n),n=Ze(t=Ot(t));return r}function SL(e,t){const n=[];return AL(e,t,n),n.sort((r,i)=>r.order-i.order),n}function AL(e,t,n){const r=Au(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ay(t,i=>{AL(e,i,n)})}function xy(e,t){const n=Au(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,_D(t,n.length>0?n:void 0)}Ay(t,r=>{xy(e,r)})}function DD(e,t){const n=fg(DL(e,t)),r=Sy(e.transactionQueueTree_,t);return function mQ(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{SD(e,i)}),SD(e,r),fL(r,i=>{SD(e,i)}),n}function SD(e,t){const n=Au(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?((0,I.vA)(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):((0,I.vA)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(dl(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?_D(t,void 0):n.length=s+1,Pi(e.eventQueue_,fg(t),i);for(let o=0;o<r.length;o++)$d(r[o])}}const AD=function(e,t){const n=HQ(e),r=n.namespace;return"firebase.com"===n.domain&&vo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&vo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Mb(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new Et(n.pathString)}},HQ=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof e){let d=e.indexOf("//");d>=0&&(a=e.substring(0,d-1),e=e.substring(d+2));let f=e.indexOf("/");-1===f&&(f=e.length);let g=e.indexOf("?");-1===g&&(g=e.length),t=e.substring(0,Math.min(f,g)),f<g&&(i=function BQ(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(f,g)));const m=function jQ(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Mr(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,g)));d=t.indexOf(":"),d>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(d+1),10)):d=t.length;const v=t.slice(0,d);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{const C=t.indexOf(".");r=t.substring(0,C).toLowerCase(),n=t.substring(C+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},TL="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$Q=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=TL.charAt(n%64),n=Math.floor(n/64);(0,I.vA)(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=TL.charAt(t[i]);return(0,I.vA)(20===o.length,"nextPushId: Length should be 20."),o}}();class ML{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,I.As)(this.snapshot.exportVal())}}class NL{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class TD{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return(0,I.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class RL{constructor(t,n){this._repo=t,this._path=n}cancel(){const t=new I.cY;return xQ(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ns("OnDisconnect.remove",this._path);const t=new I.cY;return IL(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ns("OnDisconnect.set",this._path),wo("OnDisconnect.set",t,this._path,!1);const n=new I.cY;return IL(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){ns("OnDisconnect.setWithPriority",this._path),wo("OnDisconnect.setWithPriority",t,this._path,!1),CD("OnDisconnect.setWithPriority",n,!1);const r=new I.cY;return function PQ(e,t,n,r,i){const s=dn(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),(o,a)=>{"ok"===o&&Kd(e.onDisconnect_,t,s),hl(0,i,o,a)})}(this._repo,this._path,t,n,r.wrapCallback(()=>{})),r.promise}update(t){ns("OnDisconnect.update",this._path),gL("OnDisconnect.update",t,this._path,!1);const n=new I.cY;return function OQ(e,t,n,r){if((0,I.Im)(n))return tr("onDisconnect().update() called with empty data.  Don't do anything."),void hl(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,s)=>{"ok"===i&&nr(n,(o,a)=>{const l=dn(a);Kd(e.onDisconnect_,rn(t,o),l)}),hl(0,r,i,s)})}(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}}class fi{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Xe(this._path)?null:kb(this._path)}get ref(){return new rs(this._repo,this._path)}get _queryIdentifier(){const t=kF(this._queryParams),n=Ab(t);return"{}"===n?"default":n}get _queryObject(){return kF(this._queryParams)}isEqual(t){if(!((t=(0,I.Ku)(t))instanceof fi))return!1;const n=this._repo===t._repo,r=Fb(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function OY(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function Py(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function fl(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===yo){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==il)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==da)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ht){if(null!=t&&!pg(t)||null!=n&&!pg(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,I.vA)(e.getIndex()instanceof jb||e.getIndex()===Hb,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Oy(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class rs extends fi{constructor(t,n){super(t,n,new uy,!1)}get parent(){const t=IF(this._path);return null===t?null:new rs(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Tu{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new Et(t),r=Mu(this.ref,t);return new Tu(this._node.getChild(n),r,Ht)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new Tu(i,Mu(this.ref,r),Ht)))}hasChild(t){const n=new Et(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xL(e,t){return(e=(0,I.Ku)(e))._checkNotDeleted("ref"),void 0!==t?Mu(e._root,t):e._root}function PL(e,t){(e=(0,I.Ku)(e))._checkNotDeleted("refFromURL");const n=AD(t,e._repo.repoInfo_.nodeAdmin);mL("refFromURL",n);const r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&vo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),xL(e,n.path.toString())}function Mu(e,t){return null===Ze((e=(0,I.Ku)(e))._path)?EQ("child","path",t,!1):_g("child","path",t,!1),new rs(e._repo,rn(e._path,t))}function MD(e,t){e=(0,I.Ku)(e),ns("set",e._path),wo("set",t,e._path,!1);const n=new I.cY;return ED(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function KQ(e,t){gL("update",t,e._path,!1);const n=new I.cY;return function NQ(e,t,n,r){Xd(e,"update",{path:t.toString(),value:n});let i=!0;const s=vg(e),o={};if(nr(n,(a,l)=>{i=!1,o[a]=dL(rn(t,a),dn(l),e.serverSyncTree_,s)}),i)tr("update() called with empty data.  Don't do anything."),hl(0,r,"ok",void 0);else{const a=Ny(e),l=function nQ(e,t,n,r){!function y7(e,t,n,r){(0,I.vA)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Xb(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=$t.fromObject(n);return Zd(e,new Yd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,o,a);My(e.eventQueue_,l),e.server_.merge(t.toString(),n,(d,f)=>{const g="ok"===d;g||Mr("update at "+t+" failed: "+d);const m=dl(e.serverSyncTree_,a,!g),v=m.length>0?Jd(e,t):t;Pi(e.eventQueue_,v,m),hl(0,r,d,f)}),nr(n,d=>{const f=DD(e,rn(t,d));Jd(e,f)}),Pi(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function YQ(e){e=(0,I.Ku)(e);const t=new TD(()=>{}),n=new yg(t);return function MQ(e,t,n){const r=function aQ(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(d,f)=>{const g=Kr(d,n);r=r||ul(f,g)});let i=e.syncPointTree_.get(n);i?r=r||ul(i,gt()):(i=new eL,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,o=s?new al(r,!0,!1):null;return function W7(e){return gy(e.viewCache_)}(tL(i,t,my(e.pendingWriteTree_,t._path),s?o.getNode():$e.EMPTY_NODE,s))}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(i=>{const s=dn(i).withIndex(t._queryParams.getIndex());let o;if(lD(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=cg(e.serverSyncTree_,t._path,s);else{const a=dg(e.serverSyncTree_,t);o=oL(e.serverSyncTree_,t._path,s,a)}return Pi(e.eventQueue_,t._path,o),Iy(e.serverSyncTree_,t,n,null,!0),s},i=>(Xd(e,"get for query "+(0,I.As)(t)+" failed: "+i),Promise.reject(new Error(i))))}(e._repo,e,n).then(r=>new Tu(r,new rs(e._repo,e._path),e._queryParams.getIndex()))}class yg{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const r=n._queryParams.getIndex();return new ML("value",this,new Tu(t.snapshotNode,new rs(n._repo,n._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new NL(this,t,n):null}matches(t){return t instanceof yg&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ky{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n="children_added"===t?"child_added":t;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new NL(this,t,n):null}createEvent(t,n){(0,I.vA)(null!=t.childName,"Child events should have a childName.");const r=Mu(new rs(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new ML(t.type,this,new Tu(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ky&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Cg(e,t,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const l=n,d=(f,g)=>{ID(e._repo,e,a),l(f,g)};d.userCallback=n.userCallback,d.context=n.context,n=d}const o=new TD(n,s||void 0),a="value"===t?new yg(o):new ky(t,o);return function kQ(e,t,n){let r;r=".info"===Ze(t._path)?lD(e.infoSyncTree_,t,n):lD(e.serverSyncTree_,t,n),_L(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>ID(e._repo,e,a)}function ND(e,t,n,r){return Cg(e,"value",t,n,r)}function OL(e,t,n,r){return Cg(e,"child_added",t,n,r)}function kL(e,t,n,r){return Cg(e,"child_changed",t,n,r)}function FL(e,t,n,r){return Cg(e,"child_moved",t,n,r)}function LL(e,t,n,r){return Cg(e,"child_removed",t,n,r)}function VL(e,t,n){let r=null;const i=n?new TD(n):null;"value"===t?r=new yg(i):t&&(r=new ky(t,i)),ID(e._repo,e,r)}class As{}class UL extends As{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){wo("endAt",this._value,t._path,!0);const n=zb(t._queryParams,this._value,this._key);if(Oy(n),fl(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fi(t._repo,t._path,n,t._orderByCalled)}}class ZQ extends As{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){wo("endBefore",this._value,t._path,!1);const n=function o7(e,t,n){let r;return r=zb(e,t,e.index_===yo||n?n:il),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(Oy(n),fl(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new fi(t._repo,t._path,n,t._orderByCalled)}}class BL extends As{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){wo("startAt",this._value,t._path,!0);const n=Wb(t._queryParams,this._value,this._key);if(Oy(n),fl(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new fi(t._repo,t._path,n,t._orderByCalled)}}class eZ extends As{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){wo("startAfter",this._value,t._path,!1);const n=function s7(e,t,n){let r;return r=Wb(e,t,e.index_===yo||n?n:da),r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(Oy(n),fl(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new fi(t._repo,t._path,n,t._orderByCalled)}}class nZ extends As{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new fi(t._repo,t._path,function r7(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(t._queryParams,this._limit),t._orderByCalled)}}class iZ extends As{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new fi(t._repo,t._path,function i7(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(t._queryParams,this._limit),t._orderByCalled)}}class oZ extends As{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){Py(t,"orderByChild");const n=new Et(this._path);if(Xe(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new jb(n),i=cy(t._queryParams,r);return fl(i),new fi(t._repo,t._path,i,!0)}}class lZ extends As{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){Py(t,"orderByKey");const n=cy(t._queryParams,yo);return fl(n),new fi(t._repo,t._path,n,!0)}}class cZ extends As{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){Py(t,"orderByPriority");const n=cy(t._queryParams,Ht);return fl(n),new fi(t._repo,t._path,n,!0)}}class hZ extends As{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){Py(t,"orderByValue");const n=cy(t._queryParams,Hb);return fl(n),new fi(t._repo,t._path,n,!0)}}class pZ extends As{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(wo("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new UL(this._value,this._key)._apply(new BL(this._value,this._key)._apply(t))}}function Ts(e,...t){let n=(0,I.Ku)(e);for(const r of t)n=r._apply(n);return n}(function K7(e){(0,I.vA)(!Cy,"__referenceConstructor has already been defined"),Cy=e})(rs),function J7(e){(0,I.vA)(!Ey,"__referenceConstructor has already been defined"),Ey=e}(rs);const RD={};function xD(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||vo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tr("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let l,d,o=AD(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(d=process.env.FIREBASE_DATABASE_EMULATOR_HOST),d?(l=!0,s=`http://${d}?ns=${a.namespace}`,o=AD(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const f=i&&l?new Xp(Xp.OWNER):new uY(e.name,e.options,t);mL("Invalid Firebase Database URL",o),Xe(o.path)||vo("Database URL must point to the root of a Firebase Database (not including a child path).");const g=function yZ(e,t,n,r){let i=RD[t.name];i||(i={},RD[t.name]=i);let s=i[e.toURLString()];return s&&vo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new SQ(e,false,n,r),i[e.toURLString()]=s,s}(a,e,f,new lY(e.name,n));return new wZ(g,e)}class wZ{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function AQ(e,t,n){if(e.stats_=xb(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new dy(e.repoInfo_,(r,i,s,o)=>{wL(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>EL(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,I.As)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Iu(e.repoInfo_,t,(r,i,s,o)=>{wL(e,r,i,s,o)},r=>{EL(e,r)},r=>{!function TQ(e,t){nr(t,(n,r)=>{wD(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function hY(e,t){const n=e.toString();return Rb[n]||(Rb[n]=t()),Rb[n]}(e.repoInfo_,()=>new h7(e.stats_,e.server_)),e.infoData_=new a7,e.infoSyncTree_=new sL({startListening:(r,i,s,o)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=cg(e.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),wD(e,"connected",!1),e.serverSyncTree_=new sL({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(a,l)=>{const d=o(a,l);Pi(e.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rs(this._repo,gt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function vZ(e,t){const n=RD[t];(!n||n[e.key]!==e)&&vo(`Database ${t}(${e.repoInfo_}) has already been deleted.`),bL(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&vo("Cannot call "+t+" on a deleted database.")}}function HL(){dF.IS_TRANSPORT_INITIALIZED&&Mr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function EZ(){HL(),sl.forceDisallow()}function IZ(){HL(),Wd.forceDisallow(),sl.forceAllow()}function SZ(e,t){z1(e,t)}const TZ={".sv":"timestamp"};class RZ{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Iu.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Iu.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function AZ(e){bb(Ud.SDK_VERSION),(0,Ud._registerComponent)(new vu.uA("database",(t,{instanceIdentifier:n})=>xD(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Ud.registerVersion)(U1,"1.0.4",e),(0,Ud.registerVersion)(U1,"1.0.4","esm2017")}();const kZ=new Eb.Vy("@firebase/database-compat"),WL=function(e){kZ.warn("FIREBASE WARNING: "+e)};class VZ{constructor(t){this._delegate=t}cancel(t){(0,I.od)("OnDisconnect.cancel",0,1,arguments.length),(0,I.oD)("OnDisconnect.cancel","onComplete",t,!0);const n=this._delegate.cancel();return t&&n.then(()=>t(null),r=>t(r)),n}remove(t){(0,I.od)("OnDisconnect.remove",0,1,arguments.length),(0,I.oD)("OnDisconnect.remove","onComplete",t,!0);const n=this._delegate.remove();return t&&n.then(()=>t(null),r=>t(r)),n}set(t,n){(0,I.od)("OnDisconnect.set",1,2,arguments.length),(0,I.oD)("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){(0,I.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,I.oD)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(t,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(t,n){if((0,I.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let s=0;s<t.length;++s)i[""+s]=t[s];t=i,WL("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,I.oD)("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(t);return n&&r.then(()=>n(null),i=>n(i)),r}}class UZ{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return(0,I.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class pl{constructor(t,n){this._database=t,this._delegate=n}val(){return(0,I.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,I.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,I.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,I.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,I.od)("DataSnapshot.child",0,1,arguments.length),t=String(t),_g("DataSnapshot.child","path",t,!1),new pl(this._database,this._delegate.child(t))}hasChild(t){return(0,I.od)("DataSnapshot.hasChild",1,1,arguments.length),_g("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,I.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,I.od)("DataSnapshot.forEach",1,1,arguments.length),(0,I.oD)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new pl(this._database,n)))}hasChildren(){return(0,I.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,I.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,I.od)("DataSnapshot.ref",0,0,arguments.length),new Oi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class hr{constructor(t,n){this.database=t,this._delegate=n}on(t,n,r,i){var s;(0,I.od)("Query.on",2,4,arguments.length),(0,I.oD)("Query.on","callback",n,!1);const o=hr.getCancelAndContextArgs_("Query.on",r,i),a=(d,f)=>{n.call(o.context,new pl(this.database,d),f)};a.userCallback=n,a.context=o.context;const l=null===(s=o.cancel)||void 0===s?void 0:s.bind(o.context);switch(t){case"value":return ND(this._delegate,a,l),n;case"child_added":return OL(this._delegate,a,l),n;case"child_removed":return LL(this._delegate,a,l),n;case"child_changed":return kL(this._delegate,a,l),n;case"child_moved":return FL(this._delegate,a,l),n;default:throw new Error((0,I.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,r){if((0,I.od)("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,I.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,I.oD)("Query.off","callback",n,!0),(0,I.HN)("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,VL(this._delegate,t,i)}else VL(this._delegate,t)}get(){return YQ(this._delegate).then(t=>new pl(this.database,t))}once(t,n,r,i){(0,I.od)("Query.once",1,4,arguments.length),(0,I.oD)("Query.once","callback",n,!0);const s=hr.getCancelAndContextArgs_("Query.once",r,i),o=new I.cY,a=(d,f)=>{const g=new pl(this.database,d);n&&n.call(s.context,g,f),o.resolve(g)};a.userCallback=n,a.context=s.context;const l=d=>{s.cancel&&s.cancel.call(s.context,d),o.reject(d)};switch(t){case"value":ND(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":OL(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":LL(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":kL(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":FL(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,I.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(t){return(0,I.od)("Query.limitToFirst",1,1,arguments.length),new hr(this.database,Ts(this._delegate,function rZ(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new nZ(e)}(t)))}limitToLast(t){return(0,I.od)("Query.limitToLast",1,1,arguments.length),new hr(this.database,Ts(this._delegate,function sZ(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new iZ(e)}(t)))}orderByChild(t){return(0,I.od)("Query.orderByChild",1,1,arguments.length),new hr(this.database,Ts(this._delegate,function aZ(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _g("orderByChild","path",e,!1),new oZ(e)}(t)))}orderByKey(){return(0,I.od)("Query.orderByKey",0,0,arguments.length),new hr(this.database,Ts(this._delegate,function uZ(){return new lZ}()))}orderByPriority(){return(0,I.od)("Query.orderByPriority",0,0,arguments.length),new hr(this.database,Ts(this._delegate,function dZ(){return new cZ}()))}orderByValue(){return(0,I.od)("Query.orderByValue",0,0,arguments.length),new hr(this.database,Ts(this._delegate,function fZ(){return new hZ}()))}startAt(t=null,n){return(0,I.od)("Query.startAt",0,2,arguments.length),new hr(this.database,Ts(this._delegate,function JQ(e=null,t){return mg("startAt","key",t,!0),new BL(e,t)}(t,n)))}startAfter(t=null,n){return(0,I.od)("Query.startAfter",0,2,arguments.length),new hr(this.database,Ts(this._delegate,function tZ(e,t){return mg("startAfter","key",t,!0),new eZ(e,t)}(t,n)))}endAt(t=null,n){return(0,I.od)("Query.endAt",0,2,arguments.length),new hr(this.database,Ts(this._delegate,function QQ(e,t){return mg("endAt","key",t,!0),new UL(e,t)}(t,n)))}endBefore(t=null,n){return(0,I.od)("Query.endBefore",0,2,arguments.length),new hr(this.database,Ts(this._delegate,function XQ(e,t){return mg("endBefore","key",t,!0),new ZQ(e,t)}(t,n)))}equalTo(t,n){return(0,I.od)("Query.equalTo",1,2,arguments.length),new hr(this.database,Ts(this._delegate,function gZ(e,t){return mg("equalTo","key",t,!0),new pZ(e,t)}(t,n)))}toString(){return(0,I.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,I.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,I.od)("Query.isEqual",1,1,arguments.length),!(t instanceof hr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,(0,I.oD)(t,"cancel",i.cancel,!0),i.context=r,(0,I.HN)(t,"context",i.context,!0);else if(n)if("object"==typeof n&&null!==n)i.context=n;else{if("function"!=typeof n)throw new Error((0,I.dI)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=n}return i}get ref(){return new Oi(this.database,new rs(this._delegate._repo,this._delegate._path))}}class Oi extends hr{constructor(t,n){super(t,new fi(n._repo,n._path,new uy,!1)),this.database=t,this._delegate=n}getKey(){return(0,I.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,I.od)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Oi(this.database,Mu(this._delegate,t))}getParent(){(0,I.od)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Oi(this.database,t):null}getRoot(){return(0,I.od)("Reference.root",0,0,arguments.length),new Oi(this.database,this._delegate.root)}set(t,n){(0,I.od)("Reference.set",1,2,arguments.length),(0,I.oD)("Reference.set","onComplete",n,!0);const r=MD(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}update(t,n){if((0,I.od)("Reference.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let s=0;s<t.length;++s)i[""+s]=t[s];t=i,WL("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ns("Reference.update",this._delegate._path),(0,I.oD)("Reference.update","onComplete",n,!0);const r=KQ(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){(0,I.od)("Reference.setWithPriority",2,3,arguments.length),(0,I.oD)("Reference.setWithPriority","onComplete",r,!0);const i=function qQ(e,t,n){if(ns("setWithPriority",e._path),wo("setWithPriority",t,e._path,!1),CD("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new I.cY;return ED(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(t){(0,I.od)("Reference.remove",0,1,arguments.length),(0,I.oD)("Reference.remove","onComplete",t,!0);const n=function zQ(e){return ns("remove",e._path),MD(e,null)}(this._delegate);return t&&n.then(()=>t(null),r=>t(r)),n}transaction(t,n,r){(0,I.od)("Reference.transaction",1,3,arguments.length),(0,I.oD)("Reference.transaction","transactionUpdate",t,!1),(0,I.oD)("Reference.transaction","onComplete",n,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,I.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function xZ(e,t,n){var r;if(e=(0,I.Ku)(e),ns("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=n?.applyLocally)||void 0===r||r,s=new I.cY,a=ND(e,()=>{});return function LQ(e,t,n,r,i,s){Xd(e,"transaction on "+t);const o={path:t,update:n,onComplete:r,status:null,order:H1(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=bD(e,t,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(void 0===l)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{gg("transaction failed: Data returned ",l,o.path),o.status=0;const d=Sy(e.transactionQueueTree_,t),f=Au(d)||[];let g;f.push(o),_D(d,f),"object"==typeof l&&null!==l&&(0,I.gR)(l,".priority")?(g=(0,I.yw)(l,".priority"),(0,I.vA)(pg(g),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):g=(by(e.serverSyncTree_,t)||$e.EMPTY_NODE).getPriority().val();const m=vg(e),v=dn(l,g),C=pD(v,a,m);o.currentOutputSnapshotRaw=v,o.currentOutputSnapshotResolved=C,o.currentWriteId=Ny(e);const y=aD(e.serverSyncTree_,t,C,o.currentWriteId,o.applyLocally);Pi(e.eventQueue_,t,y),Ry(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(l,d,f)=>{let g=null;l?s.reject(l):(g=new Tu(f,new rs(e._repo,e._path),Ht),s.resolve(new RZ(d,g)))},a,i),s.promise}(this._delegate,t,{applyLocally:r}).then(s=>new UZ(s.committed,new pl(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(t,n){(0,I.od)("Reference.setPriority",1,2,arguments.length),(0,I.oD)("Reference.setPriority","onComplete",n,!0);const r=function GQ(e,t){e=(0,I.Ku)(e),ns("setPriority",e._path),CD("setPriority",t,!1);const n=new I.cY;return ED(e._repo,rn(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}push(t,n){(0,I.od)("Reference.push",0,2,arguments.length),(0,I.oD)("Reference.push","onComplete",n,!0);const r=function WQ(e,t){e=(0,I.Ku)(e),ns("push",e._path),wo("push",t,e._path,!0);const n=CL(e._repo),r=$Q(n),i=Mu(e,r),s=Mu(e,r);let o;return o=null!=t?MD(s,t).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}(this._delegate,t),i=r.then(o=>new Oi(this.database,o));n&&i.then(()=>n(null),o=>n(o));const s=new Oi(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return ns("Reference.onDisconnect",this._delegate._path),new VZ(new RL(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class wg{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:EZ,forceLongPolling:IZ}}useEmulator(t,n,r={}){!function $L(e,t,n,r={}){(e=(0,I.Ku)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&vo("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&vo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Xp(Xp.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:(0,I.Fy)(r.mockUserToken,e.app.options.projectId);s=new Xp(o)}!function _Z(e,t,n,r){e.repoInfo_=new Mb(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(this._delegate,t,n,r)}ref(t){if((0,I.od)("database.ref",0,1,arguments.length),t instanceof Oi){const n=PL(this._delegate,t.toString());return new Oi(this,n)}{const n=xL(this._delegate,t);return new Oi(this,n)}}refFromURL(t){(0,I.od)("database.refFromURL",1,1,arguments.length);const r=PL(this._delegate,t);return new Oi(this,r)}goOffline(){return(0,I.od)("database.goOffline",0,0,arguments.length),function bZ(e){(e=(0,I.Ku)(e))._checkNotDeleted("goOffline"),bL(e._repo)}(this._delegate)}goOnline(){return(0,I.od)("database.goOnline",0,0,arguments.length),function DZ(e){(e=(0,I.Ku)(e))._checkNotDeleted("goOnline"),function FQ(e){e.persistentConnection_&&e.persistentConnection_.resume(yL)}(e._repo)}(this._delegate)}}wg.ServerValue={TIMESTAMP:function MZ(){return TZ}(),increment:e=>function NZ(e){return{".sv":{increment:e}}}(e)};var jZ=Object.freeze({__proto__:null,initStandalone:function BZ({app:e,url:t,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:s,nodeAdmin:o=!1}){bb(n);const a=new vu.h1("database-standalone"),l=new vu.Kq("auth-internal",a);let d;return l.setComponent(new vu.uA("auth-internal",()=>r,"PRIVATE")),i&&(d=new vu.Kq("app-check-internal",a),d.setComponent(new vu.uA("app-check-internal",()=>i,"PRIVATE"))),{instance:new wg(xD(e,l,d,t,o),e),namespace:s}}});const HZ=wg.ServerValue;function Eg(e,t,n="on",r=w1){return new At(i=>{let s=null;return s=e[n](t,(o,a)=>{r.schedule(()=>{i.next({snapshot:o,prevKey:a})}),"once"===n&&r.schedule(()=>i.complete())},o=>{r.schedule(()=>i.error(o))}),"on"===n?{unsubscribe(){null!=s&&e.off(t,s)}}:{unsubscribe(){}}}).pipe(we(i=>{const{snapshot:s,prevKey:o}=i;let a=null;return s.exists()&&(a=s.key),{type:t,payload:s,prevKey:o,key:a}}),T1())}function zL(e){return null==e}function GL(e){return"function"==typeof e.set}function qL(e,t){return GL(t)?t:e.ref(t)}function KL(e,t){if(function WZ(e){return"string"==typeof e}(e))return t.stringCase();if(GL(e))return t.firebaseCase();if(function zZ(e){return"function"==typeof e.exportVal}(e))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function YL(e){return(zL(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function QL(e,t,n){const r=(t=YL(t)).map(i=>Eg(e,i,"on",n));return Cb(...r)}function ZL(e,t){return function(r,i){return KL(r,{stringCase:()=>e.child(r)[t](i),firebaseCase:()=>r[t](i),snapshotCase:()=>r.ref[t](i)})}}function YZ(e){return function(n){return n?KL(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function XL(e,t){const n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function XZ(e,t){const{payload:n,prevKey:r,key:i}=t,s=XL(e,i),o=function ZZ(e,t){if(zL(t))return 0;{const n=XL(e,t);return-1===n?e.length:n+1}}(e,r);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{const d={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,d],!1})}return e;case"child_added":if(s>-1)(e[s-1]?.key||null)!==r&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(o,0,t));else{if(null==r)return[t,...e];(e=e.slice()).splice(o,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===i?t:a);case"child_moved":if(s>-1){const a=e.splice(s,1)[0];return(e=e.slice()).splice(o,0,a),e}return e;default:return e}}function JL(e,t,n){return function QZ(e,t,n){return Eg(e,"value","once",n).pipe(zn(r=>{const i=[Me(r)];return t.forEach(s=>i.push(Eg(e,s,"on",n))),Cb(...i).pipe(JI(XZ,[]))}),function KK(e,t=Tn){return e=e??YK,fe((n,r)=>{let i,s=!0;n.subscribe(Ne(r,o=>{const a=t(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}())}(e,t=YL(t),n)}function eV(e,t){return function(){return Eg(e,"value","on",t)}}!function $Z(e){e.INTERNAL.registerComponent(new vu.uA("database-compat",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:n});return new wg(i,r)},"PUBLIC").setServiceProps({Reference:Oi,Query:hr,Database:wg,DataSnapshot:pl,enableLogging:SZ,INTERNAL:jZ,ServerValue:HZ}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","1.0.4")}(rl.A);const tX=new ue("angularfire2.realtimeDatabaseURL"),nX=new ue("angularfire2.database.use-emulator");let tV=(()=>{class e{schedulers;database;constructor(n,r,i,s,o,a,l,d,f,g,m,v,C,y,E){this.schedulers=a;const M=l,A=yb(n,o,r);d&&L1(A,o,f,m,v,C,g,y),this.database=S1(`${A.name}.database.${i}`,"AngularFireDatabase",A.name,()=>{const O=o.runOutsideAngular(()=>A.database(i||void 0));return M&&O.useEmulator(...M),O},[M])}list(n,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>qL(this.database,n));let s=i;return r&&(s=r(i)),function JZ(e,t){const n=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:ZL(r,"update"),set:ZL(r,"set"),push:i=>r.push(i),remove:YZ(r),snapshotChanges:i=>JL(e,i,n).pipe(nl),stateChanges:i=>QL(e,i,n).pipe(nl),auditTrail:i=>function GZ(e,t,n){const r=QL(e,t).pipe(JI((i,s)=>[...i,s],[]));return function KZ(e,t,n){return function qZ(e,t){return Eg(e,"value","on",t).pipe(we(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}(e,n).pipe(function GK(...e){const t=YI(e);return fe((n,r)=>{const i=e.length,s=new Array(i);let o=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)oi(e[l]).subscribe(Ne(r,d=>{s[l]=d,!a&&!o[l]&&(o[l]=!0,(a=o.every(Tn))&&(o=null))},Qr));n.subscribe(Ne(r,l=>{if(a){const d=[l,...s];r.next(t?t(...d):d)}}))})}(t),we(([i,s])=>{const o=i.lastKeyToLoad,a=s.map(l=>l.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),function qK(e){return fe((t,n)=>{let r=!1,i=0;t.subscribe(Ne(n,s=>(r||(r=!e(s,i++)))&&n.next(s)))})}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),we(i=>i.actions))}(e,r,n)}(e,i,n).pipe(nl),valueChanges:(i,s)=>JL(e,i,n).pipe(we(a=>a.map(l=>s&&s.idField?{...l.payload.val(),[s.idField]:l.key}:l.payload.val())),nl)}}(s,this)}object(n){return function eX(e,t){return{query:e,snapshotChanges:()=>eV(e,t.schedulers.outsideAngular)().pipe(nl),update:n=>e.ref.update(n),set:n=>e.ref.set(n),remove:()=>e.ref.remove(),valueChanges:()=>eV(e,t.schedulers.outsideAngular)().pipe(nl,we(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>qL(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||e)(le(Jv),le(ey,8),le(tX,8),le(Js),le(ut),le(b1),le(nX,8),le(V1,8),le(R1,8),le(x1,8),le(P1,8),le(O1,8),le(k1,8),le(F1,8),le(E1,8))};static \u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),rX=(()=>{class e{constructor(){rl.A.registerVersion("angularfire",vb.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||e)};static \u0275mod=mi({type:e});static \u0275inj=vr({providers:[tV]})}return e})(),iX=(()=>{class e{constructor(n){this.db=n,this.notesRef=this.db.list("notes")}addNote(n){return this.notesRef.push(n)}getNotes(){return this.notesRef.snapshotChanges().pipe(we(n=>n.map(r=>({id:r.key,...r.payload.val()}))))}updateNote(n,r){return this.notesRef.update(n,r)}getNoteAtIndex(n){return this.getNotes().pipe(we(r=>r[n]))}static#e=this.\u0275fac=function(r){return new(r||e)(le(tV))};static#t=this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nV=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||e)(J(to),J(Ii))};static#t=this.\u0275dir=Re({type:e})}return e})(),Nu=(()=>{class e extends nV{static#e=this.\u0275fac=(()=>{let n;return function(i){return(n||(n=xn(e)))(i||e)}})();static#t=this.\u0275dir=Re({type:e,features:[Dt]})}return e})();const Eo=new ue(""),aX={provide:Eo,useExisting:ft(()=>Fy),multi:!0},uX=new ue("");let Fy=(()=>{class e extends nV{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lX(){const e=Wa()?Wa().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||e)(J(to),J(Ii),J(uX,8))};static#t=this.\u0275dir=Re({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Cn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[tn([aX]),Dt]})}return e})();const Nr=new ue(""),ml=new ue("");function fV(e){return null!=e}function pV(e){return sp(e)?wn(e):e}function gV(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function mV(e,t){return t.map(n=>n(e))}function _V(e){return e.map(t=>function dX(e){return!e.validate}(t)?t:n=>t.validate(n))}function PD(e){return null!=e?function vV(e){if(!e)return null;const t=e.filter(fV);return 0==t.length?null:function(n){return gV(mV(n,t))}}(_V(e)):null}function OD(e){return null!=e?function yV(e){if(!e)return null;const t=e.filter(fV);return 0==t.length?null:function(n){return function sX(...e){const t=YI(e),{args:n,keys:r}=BP(e),i=new At(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,d=o;for(let f=0;f<o;f++){let g=!1;oi(n[f]).subscribe(Ne(s,m=>{g||(g=!0,d--),a[f]=m},()=>l--,void 0,()=>{(!l||!g)&&(d||s.next(r?HP(r,a):a),s.complete())}))}});return t?i.pipe(jP(t)):i}(mV(n,t).map(pV)).pipe(we(gV))}}(_V(e)):null}function CV(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function kD(e){return e?Array.isArray(e)?e:[e]:[]}function Vy(e,t){return Array.isArray(e)?e.includes(t):e===t}function IV(e,t){const n=kD(t);return kD(e).forEach(i=>{Vy(n,i)||n.push(i)}),n}function bV(e,t){return kD(t).filter(n=>!Vy(e,n))}class DV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=PD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=OD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Yr extends DV{get formDirective(){return null}get path(){return null}}class _l extends DV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class SV{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let AV=(()=>{class e extends SV{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||e)(J(_l,2))};static#t=this.\u0275dir=Re({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&O_("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Dt]})}return e})();const Ig="VALID",By="INVALID",eh="PENDING",bg="DISABLED";function jy(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class BD{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ig}get invalid(){return this.status===By}get pending(){return this.status==eh}get disabled(){return this.status===bg}get enabled(){return this.status!==bg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(IV(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(IV(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(bV(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(bV(t,this._rawAsyncValidators))}hasValidator(t){return Vy(this._rawValidators,t)}hasAsyncValidator(t){return Vy(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=eh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=bg,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Ig,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ig||this.status===eh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bg:Ig}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=eh,this._hasOwnPendingAsyncValidator=!0;const n=pV(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new pn,this.statusChanges=new pn}_calculateStatus(){return this._allControlsDisabled()?bg:this.errors?By:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eh)?eh:this._anyControlsHaveStatus(By)?By:Ig}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){jy(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function mX(e){return Array.isArray(e)?PD(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function _X(e){return Array.isArray(e)?OD(e):e||null}(this._rawAsyncValidators)}}const th=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>Hy}),Hy="always";function Dg(e,t,n=Hy){(function HD(e,t){const n=function wV(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(CV(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function EV(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(CV(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();zy(t._rawValidators,i),zy(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function CX(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&RV(e,t)})}(e,t),function EX(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function wX(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&RV(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function yX(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function zy(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function RV(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function OV(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function kV(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const FV=class extends BD{constructor(t=null,n,r){super(function VD(e){return(jy(e)?e.validators:e)||null}(n),function UD(e,t){return(jy(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jy(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=kV(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){OV(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){OV(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){kV(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},NX={provide:_l,useExisting:ft(()=>qD)},UV=Promise.resolve();let qD=(()=>{class e extends _l{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new FV,this._registered=!1,this.name="",this.update=new pn,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function zD(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===Fy?n=s:function DX(e){return Object.getPrototypeOf(e.constructor)===Nu}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function WD(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){UV.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function ld(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);UV.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function $y(e,t){return[...t.path,e]}(n,this._parent):[n]}static#e=this.\u0275fac=function(r){return new(r||e)(J(Yr,9),J(Nr,10),J(ml,10),J(Eo,10),J(op,8),J(th,8))};static#t=this.\u0275dir=Re({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Rt.None,"disabled","isDisabled"],model:[Rt.None,"ngModel","model"],options:[Rt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[tn([NX]),Dt,wr]})}return e})(),tJ=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=mi({type:e});static#n=this.\u0275inj=vr({})}return e})(),rJ=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:th,useValue:n.callSetDisabledState??Hy}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=mi({type:e});static#n=this.\u0275inj=vr({imports:[tJ]})}return e})();const iJ=["board"],sJ=e=>({"background-color":e});function oJ(e,t){if(1&e){const n=V_();F_(0),rt(1,"textarea",5),ZE("ngModelChange",function(i){const s=_i(n).$implicit;return function dR(e,t){const n=HT(e);return n&&e.set(t),n}(s.text,i)||(s.text=i),vi(i)}),Cn("dragend",function(i){const s=_i(n).$implicit;return vi($_().onDragEnd(i,s))})("dragstart",function(i){const s=_i(n).$implicit;return vi($_().onDragStart(i,s))})("focusout",function(){const i=_i(n),s=i.$implicit,o=i.index;return vi($_().onNoteEditDone(s,o))}),Pn(2,"      "),St(),L_()}if(2&e){const n=t.$implicit;Bw(),VE("top",n.y+"px")("left",n.x+"px"),P_("ngStyle",function gR(e,t,n,r){return mR(j(),cr(),e,t,n,r)}(6,sJ,n.color)),QE("ngModel",n.text)}}let aJ=(()=>{class e{constructor(n){this.noteService=n,this.dragStartOffsetX=0,this.dragStartOffsetY=0,this.notes$=this.noteService.getNotes()}ngOnDestroy(){this.notesSubscription.unsubscribe()}addNote(){const n=["#ffadad","#ffd6a5","#fdffb6","#caffbf","#9bf6ff","#a0c4ff","#bdb2ff","#ffc6ff"],r=n[Math.floor(Math.random()*n.length)],i=this.boardElementRef.nativeElement.getBoundingClientRect(),a=i.width-100,l=i.height-100,d=Math.random()*a,f=Math.random()*l;this.noteService.addNote({x:d,y:f,text:"",color:r})}onDragStart(n,r){this.dragStartOffsetX=n.clientX-r.x,this.dragStartOffsetY=n.clientY-r.y}onDragEnd(n,r){const i=n.clientX-this.dragStartOffsetX,s=n.clientY-this.dragStartOffsetY,o=this.boardElementRef.nativeElement.getBoundingClientRect();i>=0&&i+150<=o.width&&s>=0&&s+150<=o.height&&(r.x=i,r.y=s),this.dragStartOffsetX=0,this.dragStartOffsetY=0}onNoteEditDone(n,r){this.noteService.getNoteAtIndex(r).subscribe(i=>{i.text!==n.text&&(console.log(`Saving note at index ${r} with text: ${n.text}`),this.noteService.updateNote(i.id,n))})}static#e=this.\u0275fac=function(r){return new(r||e)(J(iX))};static#t=this.\u0275cmp=Fo({type:e,selectors:[["app-post-it-board"]],viewQuery:function(r,i){if(1&r&&KE(iJ,7),2&r){let s;W_(s=z_())&&(i.boardElementRef=s.first)}},decls:6,vars:3,consts:[["board",""],[1,"post-it-board"],[4,"ngFor","ngForOf"],[1,"post-it-options",3,"click"],["id","","src","././assets/svgs/add-note.svg","alt","Add"],["draggable","true",1,"sticky-note",3,"ngModelChange","dragend","dragstart","focusout","ngStyle","ngModel"]],template:function(r,i){if(1&r){const s=V_();rt(0,"div",1,0),Uc(2,oJ,3,8,"ng-container",2),function wR(e,t){const n=Qe();let r;const i=e+ke;n.firstCreatePass?(r=function pz(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=js(r.type)),a=Mn(J);try{const l=yc(!1),d=s();return yc(l),function UW(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,j(),i,d),d}finally{Mn(a)}}(3,"async"),rt(4,"div",3),Cn("click",function(){return _i(s),vi(i.addNote())}),dr(5,"img",4),St()()}2&r&&(Bw(2),P_("ngForOf",ER(3,1,i.notes$)))},dependencies:[Zx,tP,Fy,AV,qD,nP],styles:[".post-it-board[_ngcontent-%COMP%]{background:url(postitboard.73c65c4126e6b640.jpeg) no-repeat center center;background-size:cover;width:100%;height:550px;border:20px solid #E3A86D;border-radius:4px;box-sizing:border-box;position:relative}.sticky-note[_ngcontent-%COMP%]{position:absolute;width:100px;height:100px;resize:none;padding:10px;cursor:pointer;border:none}.post-it-options[_ngcontent-%COMP%]{cursor:pointer;border-radius:7.144px;border:.4px solid #000;background:#fff;box-shadow:0 3.572px 3.572px #00000040;width:2em;height:3em;margin-left:10px;margin-top:calc(275px - 3em);padding:2px;display:flex;justify-content:center;align-items:center;text-align:center}#addNoteImg[_ngcontent-%COMP%]{height:auto;width:1.5em}"]})}return e})(),lJ=(()=>{class e{openTab(n,r){var i,s,o;for(s=document.getElementsByClassName("tab-content"),i=0;i<s.length;i++)s[i].style.display="none";for(o=document.getElementsByClassName("tab-button"),i=0;i<o.length;i++)o[i].className=o[i].className.replace(" active","");document.getElementById(r).style.display="block",n.currentTarget.className+=" active"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Fo({type:e,selectors:[["app-projects"]],decls:26,vars:0,consts:[[1,"projects-title"],[1,"projects-container"],[1,"project-rectangle","project-ea"],["src","././assets/svgs/ea-logo.svg","alt","EA",1,"logo-ea"],[1,"project-rectangle","project-brainbloom"],[1,"project-rectangle","project-aba"],["src","././assets/images/aba-logo.png","alt","ABA Compass Logo",1,"logo-aba"],[1,"project-rectangle","project-milestones"],["src","././assets/images/milestones-logo.png","alt","Milestones",1,"logo-milestones"],[1,"testimonials-container"],[1,"tabs"],[1,"tab-buttons"],[1,"tab-button","active",3,"click"],[1,"tab-button",3,"click"],["id","testimonials",1,"tab-content","active"],["id","work-outcomes",1,"tab-content"]],template:function(r,i){1&r&&(rt(0,"span",0),Pn(1,"PROJECTS"),St(),rt(2,"div",1)(3,"div",2),dr(4,"img",3),St(),rt(5,"div",4),Pn(6,"BRAINBLOOM BOX."),St(),rt(7,"div",5),dr(8,"img",6),St(),rt(9,"div",7),dr(10,"img",8),St()(),rt(11,"span",0),Pn(12,"TESTOMONIALS"),St(),rt(13,"div",9)(14,"div",10)(15,"div",11)(16,"button",12),Cn("click",function(o){return i.openTab(o,"testimonials")}),Pn(17,"Colleague and Client Testimonials"),St(),rt(18,"button",13),Cn("click",function(o){return i.openTab(o,"work-outcomes")}),Pn(19,"My Work Outcomes"),St()(),rt(20,"div",14)(21,"p"),Pn(22,"Testimonials will go here..."),St()(),rt(23,"div",15)(24,"p"),Pn(25,"Work outcomes will go here..."),St()()()())},styles:[".projects-title[_ngcontent-%COMP%]{color:#ecc444;text-shadow:-2px -2px 0 #000,2px -2px 0 #000,-2px 2px 0 #000,2px 2px 0 #000;font-family:Share;font-size:6em;font-style:normal;font-weight:700;line-height:normal;margin-left:.5em}.projects-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:30px;padding-top:1em;padding-bottom:1em}.testimonials-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.project-rectangle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:2em;border-radius:12px;border:5px solid #000;box-shadow:0 4px 4px #00000080;width:90%}.project-ea[_ngcontent-%COMP%]{background-color:#1c1735;color:#fff;padding-top:1em;padding-bottom:1em}.project-brainbloom[_ngcontent-%COMP%]{background-color:#61bc6b;color:#fff;font-family:Road Rage;font-style:normal;font-weight:400;line-height:normal;font-size:15em}.project-aba[_ngcontent-%COMP%]{background-color:#fff;color:#000}.logo-aba[_ngcontent-%COMP%]{height:8em}.logo-ea[_ngcontent-%COMP%], .logo-milestones[_ngcontent-%COMP%]{height:6em}.project-milestones[_ngcontent-%COMP%]{background-color:#5195fe;color:#fff;padding-top:1em;padding-bottom:1em}@media (max-width: 1599px){.project-brainbloom[_ngcontent-%COMP%]{font-size:12em;padding-top:.1em;padding-bottom:.1em}}.tabs[_ngcontent-%COMP%]{width:75%;border-radius:10px;margin-bottom:2em;margin-top:2em}.tab-buttons[_ngcontent-%COMP%]{display:flex;background-color:#fdc648;border-radius:10px 10px 0 0;overflow:hidden;width:25%;box-shadow:none!important;border:1px solid black}.tab-button[_ngcontent-%COMP%]{flex-grow:1;text-align:center;padding:10px 20px;cursor:pointer;background-color:#eeb604;border:none;border-right:1px solid #e6b800;transition:background-color .3s;font-family:Inter}.tab-button[_ngcontent-%COMP%]:hover{background-color:#e1d095}.tab-button.active[_ngcontent-%COMP%]{background-color:#f8e4a4;font-weight:700;border-right:1px solid black}.tab-button.active[_ngcontent-%COMP%]:hover{background-color:#f8e4a4}.tab-button[_ngcontent-%COMP%]:first-child{border-top-left-radius:10px}.tab-content[_ngcontent-%COMP%]{display:none;background-color:#f8e4a4;padding:20px;border-radius:0 10px 10px;border:1px solid black}.tab-content.active[_ngcontent-%COMP%]{display:block}.tab-button[_ngcontent-%COMP%]:last-child.active{border-right:none}.tab-button[_ngcontent-%COMP%]:last-child{border-right:none}"]})}return e})();const uJ=["mainContent"];let cJ=(()=>{class e{constructor(n){this.renderer=n,mb.registerPlugin(Gp)}ngAfterViewInit(){this.doResize(),this.addListener()}doResize(){const n=this.mainContent.nativeElement.querySelectorAll(".content-section"),r=document.querySelectorAll(".nav-item");n.forEach(i=>{const o=i.offsetTop-this.mainContent.nativeElement.scrollTop,a=o+i.offsetHeight,l=this.mainContent.nativeElement.clientHeight;let f=(Math.min(l,a)-Math.max(0,o))/l*100;const g=Array.from(r).find(m=>m.getAttribute("data-target")===i.getAttribute("id"));this.renderer.setStyle(g,"flex-grow",f>=50?"4":a<=0?"0.1":"1")})}scrollToSection(n){const r=this.mainContent.nativeElement.querySelector(`#${n}`);r&&mb.to(this.mainContent.nativeElement,{scrollTo:{y:r.offsetTop-24,autoKill:!1},duration:1.5})}addListener(){this.listenerRemovalFunction=this.renderer.listen(this.mainContent.nativeElement,"scroll",()=>{this.doResize()})}static#e=this.\u0275fac=function(r){return new(r||e)(J(to))};static#t=this.\u0275cmp=Fo({type:e,selectors:[["app-root"]],viewQuery:function(r,i){if(1&r&&KE(uJ,5),2&r){let s;W_(s=z_())&&(i.mainContent=s.first)}},decls:46,vars:0,consts:[["mainContent",""],[1,"container"],[1,"left-side-nav"],[1,"inner-nav"],["data-target","section1",1,"nav-item","about-nav-item",3,"click"],["data-target","section2",1,"nav-item","approach-nav-item",3,"click"],["data-target","section3",1,"nav-item","projects-nav-item",3,"click"],["data-target","section4",1,"nav-item","inclusive-insights-nav-item",3,"click"],["data-target","section5",1,"nav-item","contact-nav-item",3,"click"],[1,"main-content"],["id","section1",1,"content-section"],[1,"about-title"],[1,"name-tag-container"],["id","nameTag","src","assets/svgs/name_tag.svg","alt","Name Tag"],[1,"text-bubble","bubble-top"],["src","assets/gifs/text-bubble-5.gif","alt","",1,"img-bubble-top"],[1,"bubble-text"],[1,"text-bubble","bubble-right"],["src","assets/gifs/text-bubble-5.gif","alt","",1,"img-bubble-right"],[1,"text-bubble","bubble-bottom-right"],["src","assets/gifs/text-bubble-5.gif","alt","",1,"img-bubble-bottom-right"],[1,"text-bubble","bubble-bottom-left"],["src","assets/gifs/text-bubble-5.gif","alt","",1,"img-bubble-bottom-left"],[1,"text-bubble","bubble-left"],["src","assets/gifs/text-bubble-5.gif","alt","",1,"img-bubble-left"],["id","section2",1,"content-section"],["id","section3",1,"content-section"],["id","section4",1,"content-section"],["id","section5",1,"content-section"]],template:function(r,i){if(1&r){const s=V_();rt(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),Cn("click",function(){return _i(s),vi(i.scrollToSection("section1"))}),Pn(4,"About"),St(),rt(5,"div",5),Cn("click",function(){return _i(s),vi(i.scrollToSection("section2"))}),Pn(6,"Approach"),St(),rt(7,"div",6),Cn("click",function(){return _i(s),vi(i.scrollToSection("section3"))}),Pn(8,"Projects"),St(),rt(9,"div",7),Cn("click",function(){return _i(s),vi(i.scrollToSection("section4"))}),Pn(10,"Inclusive Insights"),St(),rt(11,"div",8),Cn("click",function(){return _i(s),vi(i.scrollToSection("section5"))}),Pn(12,"Contact"),St()()(),rt(13,"div",9,0)(15,"section",10)(16,"span",11),Pn(17,"Introduction"),St(),rt(18,"div",12),dr(19,"img",13),rt(20,"div",14),dr(21,"img",15),rt(22,"span",16),Pn(23,"Driving Innovative Change"),St()(),rt(24,"div",17),dr(25,"img",18),rt(26,"span",16),Pn(27,"Belief In Equal Acess"),St()(),rt(28,"div",19),dr(29,"img",20),rt(30,"span",16),Pn(31,"Passion for Web Accessibility"),St()(),rt(32,"div",21),dr(33,"img",22),rt(34,"span",16),Pn(35,"Drawing from Life"),St()(),rt(36,"div",23),dr(37,"img",24),rt(38,"span",16),Pn(39,"Advocate for Inclusivity"),St()()()(),dr(40,"section",25),rt(41,"section",26),dr(42,"app-projects"),St(),rt(43,"section",27),dr(44,"app-post-it-board"),St(),dr(45,"section",28),St()()}},dependencies:[aJ,lJ],styles:[".top-btn[_ngcontent-%COMP%]{position:absolute;z-index:100;top:25px;right:42px}.container[_ngcontent-%COMP%]{background-color:#fff;width:100%;display:flex;flex-direction:row;height:auto;height:100vh}.left-side-nav[_ngcontent-%COMP%]{background-color:#f8f7ff;overflow-y:auto;width:13%;z-index:1200;flex:0 0 13%;height:100vh}.inner-nav[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;gap:12px;justify-content:flex-start;margin-bottom:12px;margin-top:24px;width:100%;height:calc(100% - 36px);padding:0 16px;box-sizing:border-box}.nav-item[_ngcontent-%COMP%]{border-radius:12px;cursor:pointer;flex-grow:1;flex-shrink:0;padding:12px;pointer-events:all;width:100%;box-sizing:border-box;color:#fff;text-shadow:-2px -2px 0 #000,2px -2px 0 #000,-2px 2px 0 #000,2px 2px 0 #000;font-family:Sniglet;font-size:40px;font-style:normal;font-weight:400;line-height:normal}.about-nav-item[_ngcontent-%COMP%]{background-color:#d9d9d9}.approach-nav-item[_ngcontent-%COMP%]{background-color:#929089}.projects-nav-item[_ngcontent-%COMP%]{background-color:#ecc444}.inclusive-insights-nav-item[_ngcontent-%COMP%]{background-color:#cc3879}.contact-nav-item[_ngcontent-%COMP%]{background-color:#3e3b56}.main-content[_ngcontent-%COMP%]{align-items:flex-start;flex-grow:1;flex-direction:column;height:auto;justify-content:flex-start;width:100%;background-color:#f8f7ff;overflow-y:auto;box-sizing:border-box}@media (max-width: 1599px){.left-side-nav[_ngcontent-%COMP%]{flex:0 0 17%}}.content-section[_ngcontent-%COMP%]{display:flex;height:auto;border-radius:12px;box-sizing:border-box;margin-bottom:1em}#nameTag[_ngcontent-%COMP%]{width:436px;height:313px;position:relative;z-index:10}.name-tag-container[_ngcontent-%COMP%]{position:relative}.text-bubble[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;width:22vw;height:20vw}.text-bubble[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.bubble-text[_ngcontent-%COMP%]{position:absolute;color:#000;font-family:Signika Negative;font-weight:700;font-size:2em;text-align:center;width:70%;transform:rotate(0)!important}.bubble-top[_ngcontent-%COMP%]{top:-105%}.img-bubble-top[_ngcontent-%COMP%]{transform:scaleX(-1)}.bubble-right[_ngcontent-%COMP%]{top:-40%;right:-90%}.bubble-bottom-right[_ngcontent-%COMP%]{bottom:-100%;left:60%}.img-bubble-bottom-right[_ngcontent-%COMP%]{transform:rotate(180deg) scaleX(-1)}.bubble-bottom-left[_ngcontent-%COMP%]{bottom:-100%;left:-80%}.img-bubble-bottom-left[_ngcontent-%COMP%]{transform:rotate(180deg)}.bubble-left[_ngcontent-%COMP%]{top:-50%;left:-100%}.img-bubble-left[_ngcontent-%COMP%]{transform:scaleX(-1)}@media (max-width: 1599px){#nameTag[_ngcontent-%COMP%]{width:366px;height:243px;position:relative;z-index:10}.bubble-text[_ngcontent-%COMP%]{font-size:1.5em}.bubble-top[_ngcontent-%COMP%]{top:-115%}.bubble-right[_ngcontent-%COMP%]{top:-40%;right:-90%}.bubble-bottom-right[_ngcontent-%COMP%]{bottom:-100%;left:80%}.bubble-bottom-left[_ngcontent-%COMP%]{bottom:-100%;left:-70%}.bubble-left[_ngcontent-%COMP%]{top:-50%;left:-100%}}app-post-it-board[_ngcontent-%COMP%], app-projects[_ngcontent-%COMP%]{flex-grow:1}.about-title[_ngcontent-%COMP%]{color:#000;font-family:Share;font-size:6em;font-style:normal;font-weight:700;line-height:normal;position:absolute;top:0;left:.5em}#section1[_ngcontent-%COMP%]{width:100%;height:110%;background-color:#f3efef;position:relative;justify-content:center;align-items:center;text-align:center;border:6px solid #ded3d3}@media (max-width: 1599px){#section1[_ngcontent-%COMP%]{height:150%}}@media (max-width: 1450px){#section1[_ngcontent-%COMP%]{height:120%}}#section2[_ngcontent-%COMP%]{width:100%;height:1000px;background-color:#d9d9d9}#section3[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#faefcd;border:6px solid #ECC444}#section4[_ngcontent-%COMP%]{background-color:#fafafa;border-radius:15px;border:6px solid #CC3879;padding:55px}#section5[_ngcontent-%COMP%]{width:100%;height:1000px;background-color:#d9d9d9}"]})}return e})();const iU_firebaseConfig={apiKey:"AIzaSyBSBfZuCFaV57E4FBSGXtAEeJatGeS3z4I",authDomain:"lily-portfolio-1dbc3.firebaseapp.com",projectId:"lily-portfolio-1dbc3",storageBucket:"lily-portfolio-1dbc3.appspot.com",messagingSenderId:"363612306046",appId:"1:363612306046:web:3eee8bbd5b21a929d9762f",measurementId:"G-RC9JJX2PJ3",databaseURL:"https://lily-portfolio-1dbc3-default-rtdb.firebaseio.com/"};let dJ=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=mi({type:e,bootstrap:[cJ]});static#n=this.\u0275inj=vr({imports:[eq,s9,rJ,jK.initializeApp(iU_firebaseConfig),rX]})}return e})();X8().bootstrapModule(dJ).catch(e=>console.error(e))},345:(is,Vn,Fe)=>{Fe.d(Vn,{A:()=>In});var b=Fe(76),Pe=Fe(362),re=Fe(852),V=Fe(41);class Gt{constructor(je,qe){this._delegate=je,this.firebase=qe,(0,re._addComponent)(je,new Pe.uA("app-compat",()=>this,"PUBLIC")),this.container=je.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(je){this._delegate.automaticDataCollectionEnabled=je}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(je=>{this._delegate.checkDestroyed(),je()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,re.deleteApp)(this._delegate)))}_getService(je,qe=re._DEFAULT_ENTRY_NAME){var bn;this._delegate.checkDestroyed();const Bn=this._delegate.container.getProvider(je);return!Bn.isInitialized()&&"EXPLICIT"===(null===(bn=Bn.getComponent())||void 0===bn?void 0:bn.instantiationMode)&&Bn.initialize(),Bn.getImmediate({identifier:qe})}_removeServiceInstance(je,qe=re._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(je).clearInstance(qe)}_addComponent(je){(0,re._addComponent)(this._delegate,je)}_addOrOverwriteComponent(je){(0,re._addOrOverwriteComponent)(this._delegate,je)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new b.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function ot(){const dt=function Un(dt){const je={},qe={__esModule:!0,initializeApp:function Nt(Ee,Xt={}){const qt=re.initializeApp(Ee,Xt);if((0,b.gR)(je,qt.name))return je[qt.name];const Q=new dt(qt,qe);return je[qt.name]=Q,Q},app:Bn,registerVersion:re.registerVersion,setLogLevel:re.setLogLevel,onLog:re.onLog,apps:null,SDK_VERSION:re.SDK_VERSION,INTERNAL:{registerComponent:function at(Ee){const Xt=Ee.name,qt=Xt.replace("-compat","");if(re._registerComponent(Ee)&&"PUBLIC"===Ee.type){const Q=(hn=Bn())=>{if("function"!=typeof hn[qt])throw ye.create("invalid-app-argument",{appName:Xt});return hn[qt]()};void 0!==Ee.serviceProps&&(0,b.zw)(Q,Ee.serviceProps),qe[qt]=Q,dt.prototype[qt]=function(...hn){return this._getService.bind(this,Xt).apply(this,Ee.multipleInstances?hn:[])}}return"PUBLIC"===Ee.type?qe[qt]:null},removeApp:function bn(Ee){delete je[Ee]},useAsService:function sr(Ee,Xt){return"serverAuth"===Xt?null:Xt},modularAPIs:re}};function Bn(Ee){if(!(0,b.gR)(je,Ee=Ee||re._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:Ee});return je[Ee]}return qe.default=qe,Object.defineProperty(qe,"apps",{get:function ht(){return Object.keys(je).map(Ee=>je[Ee])}}),Bn.App=dt,qe}(Gt);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:ot,extendNamespace:function je(qe){(0,b.zw)(dt,qe)},createSubscribe:b.tD,ErrorFactory:b.FA,deepExtend:b.zw}),dt}(),Z=new V.Vy("@firebase/app-compat");if((0,b.Bd)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const In=Y;!function nt(dt){(0,re.registerVersion)("@firebase/app-compat","0.2.31",dt)}()},852:(is,Vn,Fe)=>{Fe.r(Vn),Fe.d(Vn,{FirebaseError:()=>V.g,SDK_VERSION:()=>as,_DEFAULT_ENTRY_NAME:()=>Qr,_addComponent:()=>mr,_addOrOverwriteComponent:()=>Jr,_apps:()=>Zr,_clearComponents:()=>Li,_components:()=>Pr,_getProvider:()=>Ps,_isFirebaseApp:()=>os,_isFirebaseServerApp:()=>Os,_registerComponent:()=>ss,_removeServiceInstance:()=>Fi,_serverApps:()=>Xr,deleteApp:()=>To,getApp:()=>Cl,getApps:()=>At,initializeApp:()=>Tn,initializeServerApp:()=>Ao,onLog:()=>S,registerVersion:()=>T,setLogLevel:()=>N});var b=Fe(467),Pe=Fe(362),re=Fe(41),V=Fe(76);const Gt=(k,x)=>x.some(W=>k instanceof W);let mt,ye;const Y=new WeakMap,Z=new WeakMap,ve=new WeakMap,Ge=new WeakMap,nt=new WeakMap;let je={get(k,x,W){if(k instanceof IDBTransaction){if("done"===x)return Z.get(k);if("objectStoreNames"===x)return k.objectStoreNames||ve.get(k);if("store"===x)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Nt(k[x])},set:(k,x,W)=>(k[x]=W,!0),has:(k,x)=>k instanceof IDBTransaction&&("done"===x||"store"===x)||x in k};function Bn(k){return"function"==typeof k?function bn(k){return k!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ot(){return ye||(ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(k)?function(...x){return k.apply(ht(this),x),Nt(Y.get(this))}:function(...x){return Nt(k.apply(ht(this),x))}:function(x,...W){const ce=k.call(ht(this),x,...W);return ve.set(ce,x.sort?x.sort():[x]),Nt(ce)}}(k):(k instanceof IDBTransaction&&function dt(k){if(Z.has(k))return;const x=new Promise((W,ce)=>{const De=()=>{k.removeEventListener("complete",Le),k.removeEventListener("error",ge),k.removeEventListener("abort",ge)},Le=()=>{W(),De()},ge=()=>{ce(k.error||new DOMException("AbortError","AbortError")),De()};k.addEventListener("complete",Le),k.addEventListener("error",ge),k.addEventListener("abort",ge)});Z.set(k,x)}(k),Gt(k,function Un(){return mt||(mt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(k,je):k)}function Nt(k){if(k instanceof IDBRequest)return function In(k){const x=new Promise((W,ce)=>{const De=()=>{k.removeEventListener("success",Le),k.removeEventListener("error",ge)},Le=()=>{W(Nt(k.result)),De()},ge=()=>{ce(k.error),De()};k.addEventListener("success",Le),k.addEventListener("error",ge)});return x.then(W=>{W instanceof IDBCursor&&Y.set(W,k)}).catch(()=>{}),nt.set(x,k),x}(k);if(Ge.has(k))return Ge.get(k);const x=Bn(k);return x!==k&&(Ge.set(k,x),nt.set(x,k)),x}const ht=k=>nt.get(k),Ee=["get","getKey","getAll","getAllKeys","count"],Xt=["put","add","delete","clear"],qt=new Map;function Q(k,x){if(!(k instanceof IDBDatabase)||x in k||"string"!=typeof x)return;if(qt.get(x))return qt.get(x);const W=x.replace(/FromIndex$/,""),ce=x!==W,De=Xt.includes(W);if(!(W in(ce?IDBIndex:IDBObjectStore).prototype)||!De&&!Ee.includes(W))return;const Le=function(){var ge=(0,b.A)(function*(Kt,...Yt){const Ve=this.transaction(Kt,De?"readwrite":"readonly");let Mo=Ve.store;return ce&&(Mo=Mo.index(Yt.shift())),(yield Promise.all([Mo[W](...Yt),De&&Ve.done]))[0]});return function(Yt){return ge.apply(this,arguments)}}();return qt.set(x,Le),Le}!function qe(k){je=k(je)}(k=>({...k,get:(x,W,ce)=>Q(x,W)||k.get(x,W,ce),has:(x,W)=>!!Q(x,W)||k.has(x,W)}));class hn{constructor(x){this.container=x}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function Dn(k){const x=k.getComponent();return"VERSION"===x?.type}(W)){const ce=W.getImmediate();return`${ce.library}/${ce.version}`}return null}).filter(W=>W).join(" ")}}const Rr="@firebase/app",ki="0.10.1",pr=new re.Vy("@firebase/app"),Qr="[DEFAULT]",Do={[Rr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zr=new Map,Xr=new Map,Pr=new Map;function mr(k,x){try{k.container.addComponent(x)}catch(W){pr.debug(`Component ${x.name} failed to register with FirebaseApp ${k.name}`,W)}}function Jr(k,x){k.container.addOrOverwriteComponent(x)}function ss(k){const x=k.name;if(Pr.has(x))return pr.debug(`There were multiple attempts to register component ${x}.`),!1;Pr.set(x,k);for(const W of Zr.values())mr(W,k);for(const W of Xr.values())mr(W,k);return!0}function Ps(k,x){const W=k.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),k.container.getProvider(x)}function Fi(k,x,W=Qr){Ps(k,x).clearInstance(W)}function os(k){return void 0!==k.options}function Os(k){return void 0!==k.settings}function Li(){Pr.clear()}const An=new V.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class So{constructor(x,W,ce){this._isDeleted=!1,this._options=Object.assign({},x),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=ce,this.container.addComponent(new Pe.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(x){this.checkDestroyed(),this._automaticDataCollectionEnabled=x}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(x){this._isDeleted=x}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}class yl extends So{constructor(x,W,ce,De){const Le=void 0!==W.automaticDataCollectionEnabled&&W.automaticDataCollectionEnabled,ge={name:ce,automaticDataCollectionEnabled:Le};super(void 0!==x.apiKey?x:x.options,ge,De),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Le},W),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,W.releaseOnDeref=void 0,T(Rr,ki,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(x){this.isDeleted||(this._refCount++,void 0!==x&&this._finalizationRegistry.register(x,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){To(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw An.create("server-app-deleted")}}const as="10.11.0";function Tn(k,x={}){let W=k;"object"!=typeof x&&(x={name:x});const ce=Object.assign({name:Qr,automaticDataCollectionEnabled:!1},x),De=ce.name;if("string"!=typeof De||!De)throw An.create("bad-app-name",{appName:String(De)});if(W||(W=(0,V.T9)()),!W)throw An.create("no-options");const Le=Zr.get(De);if(Le){if((0,V.bD)(W,Le.options)&&(0,V.bD)(ce,Le.config))return Le;throw An.create("duplicate-app",{appName:De})}const ge=new Pe.h1(De);for(const Yt of Pr.values())ge.addComponent(Yt);const Kt=new So(W,ce,ge);return Zr.set(De,Kt),Kt}function Ao(k,x){if((0,V.Bd)())throw An.create("invalid-server-app-environment");let W;void 0===x.automaticDataCollectionEnabled&&(x.automaticDataCollectionEnabled=!1),W=os(k)?k.options:k;const ce=Object.assign(Object.assign({},x),W);if(void 0!==ce.releaseOnDeref&&delete ce.releaseOnDeref,void 0!==x.releaseOnDeref&&typeof FinalizationRegistry>"u")throw An.create("finalization-registry-not-supported",{});const Le=""+(Ve=JSON.stringify(ce),[...Ve].reduce((Mo,an)=>Math.imul(31,Mo)+an.charCodeAt(0)|0,0)),ge=Xr.get(Le);var Ve;if(ge)return ge.incRefCount(x.releaseOnDeref),ge;const Kt=new Pe.h1(Le);for(const Ve of Pr.values())Kt.addComponent(Ve);const Yt=new yl(W,x,Le,Kt);return Xr.set(Le,Yt),Yt}function Cl(k=Qr){const x=Zr.get(k);if(!x&&k===Qr&&(0,V.T9)())return Tn();if(!x)throw An.create("no-app",{appName:k});return x}function At(){return Array.from(Zr.values())}function To(k){return ks.apply(this,arguments)}function ks(){return(ks=(0,b.A)(function*(k){let x=!1;const W=k.name;Zr.has(W)?(x=!0,Zr.delete(W)):Xr.has(W)&&k.decRefCount()<=0&&(Xr.delete(W),x=!0),x&&(yield Promise.all(k.container.getProviders().map(ce=>ce.delete())),k.isDeleted=!0)})).apply(this,arguments)}function T(k,x,W){var ce;let De=null!==(ce=Do[k])&&void 0!==ce?ce:k;W&&(De+=`-${W}`);const Le=De.match(/\s|\//),ge=x.match(/\s|\//);if(Le||ge){const Kt=[`Unable to register library "${De}" with version "${x}":`];return Le&&Kt.push(`library name "${De}" contains illegal characters (whitespace or "/")`),Le&&ge&&Kt.push("and"),ge&&Kt.push(`version name "${x}" contains illegal characters (whitespace or "/")`),void pr.warn(Kt.join(" "))}ss(new Pe.uA(`${De}-version`,()=>({library:De,version:x}),"VERSION"))}function S(k,x){if(null!==k&&"function"!=typeof k)throw An.create("invalid-log-argument");(0,re.Ey)(k,x)}function N(k){(0,re.He)(k)}const q="firebase-heartbeat-database",P=1,he="firebase-heartbeat-store";let fe=null;function Ne(){return fe||(fe=function at(k,x,{blocked:W,upgrade:ce,blocking:De,terminated:Le}={}){const ge=indexedDB.open(k,x),Kt=Nt(ge);return ce&&ge.addEventListener("upgradeneeded",Yt=>{ce(Nt(ge.result),Yt.oldVersion,Yt.newVersion,Nt(ge.transaction),Yt)}),W&&ge.addEventListener("blocked",Yt=>W(Yt.oldVersion,Yt.newVersion,Yt)),Kt.then(Yt=>{Le&&Yt.addEventListener("close",()=>Le()),De&&Yt.addEventListener("versionchange",Ve=>De(Ve.oldVersion,Ve.newVersion,Ve))}).catch(()=>{}),Kt}(q,P,{upgrade:(k,x)=>{if(0===x)try{k.createObjectStore(he)}catch(W){console.warn(W)}}}).catch(k=>{throw An.create("idb-open",{originalErrorMessage:k.message})})),fe}function we(){return(we=(0,b.A)(function*(k){try{const W=(yield Ne()).transaction(he),ce=yield W.objectStore(he).get($(k));return yield W.done,ce}catch(x){if(x instanceof V.g)pr.warn(x.message);else{const W=An.create("idb-get",{originalErrorMessage:x?.message});pr.warn(W.message)}}})).apply(this,arguments)}function jn(k,x){return He.apply(this,arguments)}function He(){return(He=(0,b.A)(function*(k,x){try{const ce=(yield Ne()).transaction(he,"readwrite");yield ce.objectStore(he).put(x,$(k)),yield ce.done}catch(W){if(W instanceof V.g)pr.warn(W.message);else{const ce=An.create("idb-set",{originalErrorMessage:W?.message});pr.warn(ce.message)}}})).apply(this,arguments)}function $(k){return`${k.name}!${k.options.appId}`}class pa{constructor(x){this.container=x,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new Fs(W),this._heartbeatsCachePromise=this._storage.read().then(ce=>(this._heartbeatsCache=ce,ce))}triggerHeartbeat(){var x=this;return(0,b.A)(function*(){var W,ce;const Le=x.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ge=Ou();if((null!=(null===(W=x._heartbeatsCache)||void 0===W?void 0:W.heartbeats)||(x._heartbeatsCache=yield x._heartbeatsCachePromise,null!=(null===(ce=x._heartbeatsCache)||void 0===ce?void 0:ce.heartbeats)))&&x._heartbeatsCache.lastSentHeartbeatDate!==ge&&!x._heartbeatsCache.heartbeats.some(Kt=>Kt.date===ge))return x._heartbeatsCache.heartbeats.push({date:ge,agent:Le}),x._heartbeatsCache.heartbeats=x._heartbeatsCache.heartbeats.filter(Kt=>{const Yt=new Date(Kt.date).valueOf();return Date.now()-Yt<=2592e6}),x._storage.overwrite(x._heartbeatsCache)})()}getHeartbeatsHeader(){var x=this;return(0,b.A)(function*(){var W;if(null===x._heartbeatsCache&&(yield x._heartbeatsCachePromise),null==(null===(W=x._heartbeatsCache)||void 0===W?void 0:W.heartbeats)||0===x._heartbeatsCache.heartbeats.length)return"";const ce=Ou(),{heartbeatsToSend:De,unsentEntries:Le}=function nh(k,x=1024){const W=[];let ce=k.slice();for(const De of k){const Le=W.find(ge=>ge.agent===De.agent);if(Le){if(Le.dates.push(De.date),Or(W)>x){Le.dates.pop();break}}else if(W.push({agent:De.agent,dates:[De.date]}),Or(W)>x){W.pop();break}ce=ce.slice(1)}return{heartbeatsToSend:W,unsentEntries:ce}}(x._heartbeatsCache.heartbeats),ge=(0,V.Uj)(JSON.stringify({version:2,heartbeats:De}));return x._heartbeatsCache.lastSentHeartbeatDate=ce,Le.length>0?(x._heartbeatsCache.heartbeats=Le,yield x._storage.overwrite(x._heartbeatsCache)):(x._heartbeatsCache.heartbeats=[],x._storage.overwrite(x._heartbeatsCache)),ge})()}}function Ou(){return(new Date).toISOString().substring(0,10)}class Fs{constructor(x){this.app=x,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.A)(function*(){return!!(0,V.zW)()&&(0,V.eX)().then(()=>!0).catch(()=>!1)})()}read(){var x=this;return(0,b.A)(function*(){if(yield x._canUseIndexedDBPromise){const ce=yield function It(k){return we.apply(this,arguments)}(x.app);return ce?.heartbeats?ce:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(x){var W=this;return(0,b.A)(function*(){var ce;if(yield W._canUseIndexedDBPromise){const Le=yield W.read();return jn(W.app,{lastSentHeartbeatDate:null!==(ce=x.lastSentHeartbeatDate)&&void 0!==ce?ce:Le.lastSentHeartbeatDate,heartbeats:x.heartbeats})}})()}add(x){var W=this;return(0,b.A)(function*(){var ce;if(yield W._canUseIndexedDBPromise){const Le=yield W.read();return jn(W.app,{lastSentHeartbeatDate:null!==(ce=x.lastSentHeartbeatDate)&&void 0!==ce?ce:Le.lastSentHeartbeatDate,heartbeats:[...Le.heartbeats,...x.heartbeats]})}})()}}function Or(k){return(0,V.Uj)(JSON.stringify({version:2,heartbeats:k})).length}!function us(k){ss(new Pe.uA("platform-logger",x=>new hn(x),"PRIVATE")),ss(new Pe.uA("heartbeat",x=>new pa(x),"PRIVATE")),T(Rr,ki,k),T(Rr,ki,"esm2017"),T("fire-js","")}("")},362:(is,Vn,Fe)=>{Fe.d(Vn,{Kq:()=>Gt,h1:()=>Un,uA:()=>re});var b=Fe(467),Pe=Fe(76);class re{constructor(Y,Z,ve){this.name=Y,this.instanceFactory=Z,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const V="[DEFAULT]";class Gt{constructor(Y,Z){this.name=Y,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const Z=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(Z)){const ve=new Pe.cY;if(this.instancesDeferred.set(Z,ve),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:Z});Ge&&ve.resolve(Ge)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(Y){var Z;const ve=this.normalizeInstanceIdentifier(Y?.identifier),Ge=null!==(Z=Y?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(nt){if(Ge)return null;throw nt}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function ye(ot){return"EAGER"===ot.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:V})}catch{}for(const[Z,ve]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(Z);try{const nt=this.getOrInitializeService({instanceIdentifier:Ge});ve.resolve(nt)}catch{}}}}clearInstance(Y=V){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,b.A)(function*(){const Z=Array.from(Y.instances.values());yield Promise.all([...Z.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...Z.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=V){return this.instances.has(Y)}getOptions(Y=V){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:Z={}}=Y,ve=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ve,options:Z});for(const[nt,In]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(nt)&&In.resolve(Ge);return Ge}onInit(Y,Z){var ve;const Ge=this.normalizeInstanceIdentifier(Z),nt=null!==(ve=this.onInitCallbacks.get(Ge))&&void 0!==ve?ve:new Set;nt.add(Y),this.onInitCallbacks.set(Ge,nt);const In=this.instances.get(Ge);return In&&Y(In,Ge),()=>{nt.delete(Y)}}invokeOnInitCallbacks(Y,Z){const ve=this.onInitCallbacks.get(Z);if(ve)for(const Ge of ve)try{Ge(Y,Z)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:Z={}}){let ve=this.instances.get(Y);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(ot=Y,ot===V?void 0:ot),options:Z}),this.instances.set(Y,ve),this.instancesOptions.set(Y,Z),this.invokeOnInitCallbacks(ve,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,ve)}catch{}var ot;return ve||null}normalizeInstanceIdentifier(Y=V){return this.component?this.component.multipleInstances?Y:V:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Un{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const Z=this.getProvider(Y.name);if(Z.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);Z.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const Z=new Gt(Y,this);return this.providers.set(Y,Z),Z}getProviders(){return Array.from(this.providers.values())}}},41:(is,Vn,Fe)=>{Fe.d(Vn,{$b:()=>Pe,Ey:()=>ot,He:()=>Un,Vy:()=>ye});const b=[];var Pe=function(Y){return Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y}(Pe||{});const re={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},V=Pe.INFO,Gt={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},mt=(Y,Z,...ve)=>{if(Z<Y.logLevel)return;const Ge=(new Date).toISOString(),nt=Gt[Z];if(!nt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[nt](`[${Ge}]  ${Y.name}:`,...ve)};class ye{constructor(Z){this.name=Z,this._logLevel=V,this._logHandler=mt,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in Pe))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?re[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...Z),this._logHandler(this,Pe.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...Z),this._logHandler(this,Pe.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...Z),this._logHandler(this,Pe.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...Z),this._logHandler(this,Pe.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...Z),this._logHandler(this,Pe.ERROR,...Z)}}function Un(Y){b.forEach(Z=>{Z.setLogLevel(Y)})}function ot(Y,Z){for(const ve of b){let Ge=null;Z&&Z.level&&(Ge=re[Z.level]),ve.userLogHandler=null===Y?null:(nt,In,...dt)=>{const je=dt.map(qe=>{if(null==qe)return null;if("string"==typeof qe)return qe;if("number"==typeof qe||"boolean"==typeof qe)return qe.toString();if(qe instanceof Error)return qe.message;try{return JSON.stringify(qe)}catch{return null}}).filter(qe=>qe).join(" ");In>=(Ge??nt.logLevel)&&Y({level:Pe[In].toLowerCase(),message:je,args:dt,type:nt.name})}}}},509:(is,Vn,Fe)=>{Fe.r(Vn);var b=Fe(467),Pe=Fe(345),re=Fe(852),V=Fe(76),Gt=Fe(41),mt=Fe(635),ye=Fe(362);const ot={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const In=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},dt=function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},je=new V.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bn=new Gt.Vy("@firebase/auth");function Nt(h,...u){bn.logLevel<=Gt.$b.ERROR&&bn.error(`Auth (${re.SDK_VERSION}): ${h}`,...u)}function ht(h,...u){throw qt(h,...u)}function at(h,...u){return qt(h,...u)}function sr(h,u,c){const p=Object.assign(Object.assign({},dt()),{[u]:c});return new V.FA("auth","Firebase",p).create(u,{appName:h.name})}function Ee(h){return sr(h,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xt(h,u,c){if(!(u instanceof c))throw c.name!==u.constructor.name&&ht(h,"argument-error"),sr(h,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qt(h,...u){if("string"!=typeof h){const c=u[0],p=[...u.slice(1)];return p[0]&&(p[0].appName=h.name),h._errorFactory.create(c,...p)}return je.create(h,...u)}function Q(h,u,...c){if(!h)throw qt(u,...c)}function hn(h){const u="INTERNAL ASSERTION FAILED: "+h;throw Nt(u),new Error(u)}function Dn(h,u){h||hn(u)}function Rr(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.href)||""}function ki(){return"http:"===pr()||"https:"===pr()}function pr(){var h;return typeof self<"u"&&(null===(h=self.location)||void 0===h?void 0:h.protocol)||null}class F{constructor(u,c){this.shortDelay=u,this.longDelay=c,Dn(c>u,"Short delay should be less than long delay!"),this.isMobile=(0,V.jZ)()||(0,V.lV)()}get(){return function Ns(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ki()||(0,V.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function L(h,u){Dn(h.emulator,"Emulator should always be set here");const{url:c}=h.emulator;return u?`${c}${u.startsWith("/")?u.slice(1):u}`:c}class G{static initialize(u,c,p){this.fetchImpl=u,c&&(this.headersImpl=c),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ne=new F(3e4,6e4);function K(h,u){return h.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:h.tenantId}):u}function de(h,u,c,p){return Je.apply(this,arguments)}function Je(){return(Je=(0,b.A)(function*(h,u,c,p,_={}){return fn(h,_,(0,b.A)(function*(){let w={},D={};p&&("GET"===u?D=p:w={body:JSON.stringify(p)});const R=(0,V.Am)(Object.assign({key:h.config.apiKey},D)).slice(1),H=yield h._getAdditionalHeaders();return H["Content-Type"]="application/json",h.languageCode&&(H["X-Firebase-Locale"]=h.languageCode),G.fetch()(Se(h,h.config.apiHost,c,R),Object.assign({method:u,headers:H,referrerPolicy:"no-referrer"},w))}))})).apply(this,arguments)}function fn(h,u,c){return be.apply(this,arguments)}function be(){return(be=(0,b.A)(function*(h,u,c){h._canInitEmulator=!1;const p=Object.assign(Object.assign({},z),u);try{const _=new Gn(h),w=yield Promise.race([c(),_.promise]);_.clearNetworkTimeout();const D=yield w.json();if("needConfirmation"in D)throw on(h,"account-exists-with-different-credential",D);if(w.ok&&!("errorMessage"in D))return D;{const R=w.ok?D.errorMessage:D.error.message,[H,ae]=R.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===H)throw on(h,"credential-already-in-use",D);if("EMAIL_EXISTS"===H)throw on(h,"email-already-in-use",D);if("USER_DISABLED"===H)throw on(h,"user-disabled",D);const se=p[H]||H.toLowerCase().replace(/[_\s]+/g,"-");if(ae)throw sr(h,se,ae);ht(h,se)}}catch(_){if(_ instanceof V.g)throw _;ht(h,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Ke(h,u,c,p){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,b.A)(function*(h,u,c,p,_={}){const w=yield de(h,u,c,p,_);return"mfaPendingCredential"in w&&ht(h,"multi-factor-auth-required",{_serverResponse:w}),w})).apply(this,arguments)}function Se(h,u,c,p){const _=`${u}${c}?${p}`;return h.config.emulator?L(h.config,_):`${h.config.apiScheme}://${_}`}function Sn(h){switch(h){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gn{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((c,p)=>{this.timer=setTimeout(()=>p(at(this.auth,"network-request-failed")),ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function on(h,u,c){const p={appName:h.name};c.email&&(p.email=c.email),c.phoneNumber&&(p.phoneNumber=c.phoneNumber);const _=at(h,u,p);return _.customData._tokenResponse=c,_}function Ct(h){return void 0!==h&&void 0!==h.getResponse}function xr(h){return void 0!==h&&void 0!==h.enterprise}class Io{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const c of this.recaptchaEnforcementState)if(c.provider&&c.provider===u)return Sn(c.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function gr(){return(gr=(0,b.A)(function*(h){return(yield de(h,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rs(h,u){return xs.apply(this,arguments)}function xs(){return(xs=(0,b.A)(function*(h,u){return de(h,"GET","/v2/recaptchaConfig",K(h,u))})).apply(this,arguments)}function Do(){return(Do=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Xr(){return(Xr=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Pr(h,u){return mr.apply(this,arguments)}function mr(){return(mr=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Jr(h){if(h)try{const u=new Date(Number(h));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Fi(){return(Fi=(0,b.A)(function*(h,u=!1){const c=(0,V.Ku)(h),p=yield c.getIdToken(u),_=Os(p);Q(_&&_.exp&&_.auth_time&&_.iat,c.auth,"internal-error");const w="object"==typeof _.firebase?_.firebase:void 0,D=w?.sign_in_provider;return{claims:_,token:p,authTime:Jr(os(_.auth_time)),issuedAtTime:Jr(os(_.iat)),expirationTime:Jr(os(_.exp)),signInProvider:D||null,signInSecondFactor:w?.sign_in_second_factor||null}})).apply(this,arguments)}function os(h){return 1e3*Number(h)}function Os(h){const[u,c,p]=h.split(".");if(void 0===u||void 0===c||void 0===p)return Nt("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,V.u)(c);return _?JSON.parse(_):(Nt("Failed to decode base64 JWT payload"),null)}catch(_){return Nt("Caught error parsing JWT payload as JSON",_?.toString()),null}}function Li(h){const u=Os(h);return Q(u,"internal-error"),Q(typeof u.exp<"u","internal-error"),Q(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function qn(h,u){return An.apply(this,arguments)}function An(){return(An=(0,b.A)(function*(h,u,c=!1){if(c)return u;try{return yield u}catch(p){throw p instanceof V.g&&function So({code:h}){return"auth/user-disabled"===h||"auth/user-token-expired"===h}(p)&&h.auth.currentUser===h&&(yield h.auth.signOut()),p}})).apply(this,arguments)}class yl{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var c;if(u){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(c=this.user.stsTokenManager.expirationTime)&&void 0!==c?c:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(u=!1){var c=this;if(!this.isRunning)return;const p=this.getInterval(u);this.timerId=setTimeout((0,b.A)(function*(){yield c.iteration()}),p)}iteration(){var u=this;return(0,b.A)(function*(){try{yield u.user.getIdToken(!0)}catch(c){return void("auth/network-request-failed"===c?.code&&u.schedule(!0))}u.schedule()})()}}class as{constructor(u,c){this.createdAt=u,this.lastLoginAt=c,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jr(this.lastLoginAt),this.creationTime=Jr(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tn(h){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,b.A)(function*(h){var u;const c=h.auth,p=yield h.getIdToken(),_=yield qn(h,Pr(c,{idToken:p}));Q(_?.users.length,c,"internal-error");const w=_.users[0];h._notifyReloadListener(w);const D=null!==(u=w.providerUserInfo)&&void 0!==u&&u.length?ks(w.providerUserInfo):[],R=function To(h,u){return[...h.filter(p=>!u.some(_=>_.providerId===p.providerId)),...u]}(h.providerData,D),se=!!h.isAnonymous&&!(h.email&&w.passwordHash||R?.length),_e={uid:w.localId,displayName:w.displayName||null,photoURL:w.photoUrl||null,email:w.email||null,emailVerified:w.emailVerified||!1,phoneNumber:w.phoneNumber||null,tenantId:w.tenantId||null,providerData:R,metadata:new as(w.createdAt,w.lastLoginAt),isAnonymous:se};Object.assign(h,_e)})).apply(this,arguments)}function At(){return(At=(0,b.A)(function*(h){const u=(0,V.Ku)(h);yield Tn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function ks(h){return h.map(u=>{var{providerId:c}=u,p=(0,mt.Tt)(u,["providerId"]);return{providerId:c,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}function S(){return(S=(0,b.A)(function*(h,u){const c=yield fn(h,{},(0,b.A)(function*(){const p=(0,V.Am)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:_,apiKey:w}=h.config,D=Se(h,_,"/v1/token",`key=${w}`),R=yield h._getAdditionalHeaders();return R["Content-Type"]="application/x-www-form-urlencoded",G.fetch()(D,{method:"POST",headers:R,body:p})}));return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}})).apply(this,arguments)}function q(){return(q=(0,b.A)(function*(h,u){return de(h,"POST","/v2/accounts:revokeToken",K(h,u))})).apply(this,arguments)}class P{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){Q(u.idToken,"internal-error"),Q(typeof u.idToken<"u","internal-error"),Q(typeof u.refreshToken<"u","internal-error");const c="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):Li(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,c)}updateFromIdToken(u){Q(0!==u.length,"internal-error");const c=Li(u);this.updateTokensAndExpiration(u,null,c)}getToken(u,c=!1){var p=this;return(0,b.A)(function*(){return c||!p.accessToken||p.isExpired?(Q(p.refreshToken,u,"user-token-expired"),p.refreshToken?(yield p.refresh(u,p.refreshToken),p.accessToken):null):p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,c){var p=this;return(0,b.A)(function*(){const{accessToken:_,refreshToken:w,expiresIn:D}=yield function T(h,u){return S.apply(this,arguments)}(u,c);p.updateTokensAndExpiration(_,w,Number(D))})()}updateTokensAndExpiration(u,c,p){this.refreshToken=c||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(u,c){const{refreshToken:p,accessToken:_,expirationTime:w}=c,D=new P;return p&&(Q("string"==typeof p,"internal-error",{appName:u}),D.refreshToken=p),_&&(Q("string"==typeof _,"internal-error",{appName:u}),D.accessToken=_),w&&(Q("number"==typeof w,"internal-error",{appName:u}),D.expirationTime=w),D}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new P,this.toJSON())}_performRefresh(){return hn("not implemented")}}function he(h,u){Q("string"==typeof h||typeof h>"u","internal-error",{appName:u})}class fe{constructor(u){var{uid:c,auth:p,stsTokenManager:_}=u,w=(0,mt.Tt)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=c,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=w.displayName||null,this.email=w.email||null,this.emailVerified=w.emailVerified||!1,this.phoneNumber=w.phoneNumber||null,this.photoURL=w.photoURL||null,this.isAnonymous=w.isAnonymous||!1,this.tenantId=w.tenantId||null,this.providerData=w.providerData?[...w.providerData]:[],this.metadata=new as(w.createdAt||void 0,w.lastLoginAt||void 0)}getIdToken(u){var c=this;return(0,b.A)(function*(){const p=yield qn(c,c.stsTokenManager.getToken(c.auth,u));return Q(p,c.auth,"internal-error"),c.accessToken!==p&&(c.accessToken=p,yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)),p})()}getIdTokenResult(u){return function Ps(h){return Fi.apply(this,arguments)}(this,u)}reload(){return function Cl(h){return At.apply(this,arguments)}(this)}_assign(u){this!==u&&(Q(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(c=>Object.assign({},c)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const c=new fe(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return c.metadata._copy(this.metadata),c}_onReload(u){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,c=!1){var p=this;return(0,b.A)(function*(){let _=!1;u.idToken&&u.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(u),_=!0),c&&(yield Tn(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var u=this;return(0,b.A)(function*(){if((0,re._isFirebaseServerApp)(u.auth.app))return Promise.reject(Ee(u.auth));const c=yield u.getIdToken();return yield qn(u,function Qr(h,u){return Do.apply(this,arguments)}(u.auth,{idToken:c})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,c){var p,_,w,D,R,H,ae,se;const _e=null!==(p=c.displayName)&&void 0!==p?p:void 0,Lt=null!==(_=c.email)&&void 0!==_?_:void 0,Gi=null!==(w=c.phoneNumber)&&void 0!==w?w:void 0,Pa=null!==(D=c.photoURL)&&void 0!==D?D:void 0,Ei=null!==(R=c.tenantId)&&void 0!==R?R:void 0,Sc=null!==(H=c._redirectEventId)&&void 0!==H?H:void 0,Yo=null!==(ae=c.createdAt)&&void 0!==ae?ae:void 0,Um=null!==(se=c.lastLoginAt)&&void 0!==se?se:void 0,{uid:pf,emailVerified:gf,isAnonymous:nw,providerData:Bm,stsTokenManager:rw}=c;Q(pf&&rw,u,"internal-error");const bS=P.fromJSON(this.name,rw);Q("string"==typeof pf,u,"internal-error"),he(_e,u.name),he(Lt,u.name),Q("boolean"==typeof gf,u,"internal-error"),Q("boolean"==typeof nw,u,"internal-error"),he(Gi,u.name),he(Pa,u.name),he(Ei,u.name),he(Sc,u.name),he(Yo,u.name),he(Um,u.name);const jm=new fe({uid:pf,auth:u,email:Lt,emailVerified:gf,displayName:_e,isAnonymous:nw,photoURL:Pa,phoneNumber:Gi,tenantId:Ei,stsTokenManager:bS,createdAt:Yo,lastLoginAt:Um});return Bm&&Array.isArray(Bm)&&(jm.providerData=Bm.map(iw=>Object.assign({},iw))),Sc&&(jm._redirectEventId=Sc),jm}static _fromIdTokenResponse(u,c,p=!1){return(0,b.A)(function*(){const _=new P;_.updateFromServerResponse(c);const w=new fe({uid:c.localId,auth:u,stsTokenManager:_,isAnonymous:p});return yield Tn(w),w})()}static _fromGetAccountInfoResponse(u,c,p){return(0,b.A)(function*(){const _=c.users[0];Q(void 0!==_.localId,"internal-error");const w=void 0!==_.providerUserInfo?ks(_.providerUserInfo):[],D=!(_.email&&_.passwordHash||w?.length),R=new P;R.updateFromIdToken(p);const H=new fe({uid:_.localId,auth:u,stsTokenManager:R,isAnonymous:D}),ae={uid:_.localId,displayName:_.displayName||null,photoURL:_.photoUrl||null,email:_.email||null,emailVerified:_.emailVerified||!1,phoneNumber:_.phoneNumber||null,tenantId:_.tenantId||null,providerData:w,metadata:new as(_.createdAt,_.lastLoginAt),isAnonymous:!(_.email&&_.passwordHash||w?.length)};return Object.assign(H,ae),H})()}}const Ne=new Map;function It(h){Dn(h instanceof Function,"Expected a class definition");let u=Ne.get(h);return u?(Dn(u instanceof h,"Instance stored in cache mismatched with class"),u):(u=new h,Ne.set(h,u),u)}const jn=(()=>{class h{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.A)(function*(){return!0})()}_set(c,p){var _=this;return(0,b.A)(function*(){_.storage[c]=p})()}_get(c){var p=this;return(0,b.A)(function*(){const _=p.storage[c];return void 0===_?null:_})()}_remove(c){var p=this;return(0,b.A)(function*(){delete p.storage[c]})()}_addListener(c,p){}_removeListener(c,p){}}return h.type="NONE",h})();function He(h,u,c){return`firebase:${h}:${u}:${c}`}class ${constructor(u,c,p){this.persistence=u,this.auth=c,this.userKey=p;const{config:_,name:w}=this.auth;this.fullUserKey=He(this.userKey,_.apiKey,w),this.fullPersistenceKey=He("persistence",_.apiKey,w),this.boundEventHandler=c._onStorageEvent.bind(c),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,b.A)(function*(){const c=yield u.persistence._get(u.fullUserKey);return c?fe._fromJSON(u.auth,c):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var c=this;return(0,b.A)(function*(){if(c.persistence===u)return;const p=yield c.getCurrentUser();return yield c.removeCurrentUser(),c.persistence=u,p?c.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,c,p="authUser"){return(0,b.A)(function*(){if(!c.length)return new $(It(jn),u,p);const _=(yield Promise.all(c.map(function(){var ae=(0,b.A)(function*(se){if(yield se._isAvailable())return se});return function(se){return ae.apply(this,arguments)}}()))).filter(ae=>ae);let w=_[0]||It(jn);const D=He(p,u.config.apiKey,u.name);let R=null;for(const ae of c)try{const se=yield ae._get(D);if(se){const _e=fe._fromJSON(u,se);ae!==w&&(R=_e),w=ae;break}}catch{}const H=_.filter(ae=>ae._shouldAllowMigration);return w._shouldAllowMigration&&H.length?(w=H[0],R&&(yield w._set(D,R.toJSON())),yield Promise.all(c.map(function(){var ae=(0,b.A)(function*(se){if(se!==w)try{yield se._remove(D)}catch{}});return function(se){return ae.apply(this,arguments)}}())),new $(w,u,p)):new $(w,u,p)})()}}function _r(h){const u=h.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(nh(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(ls(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(Or(u))return"Blackberry";if(us(u))return"Webos";if(pa(u))return"Safari";if((u.includes("chrome/")||Ou(u))&&!u.includes("edge/"))return"Chrome";if(Fs(u))return"Android";{const p=h.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function ls(h=(0,V.ZQ)()){return/firefox\//i.test(h)}function pa(h=(0,V.ZQ)()){const u=h.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function Ou(h=(0,V.ZQ)()){return/crios\//i.test(h)}function nh(h=(0,V.ZQ)()){return/iemobile/i.test(h)}function Fs(h=(0,V.ZQ)()){return/android/i.test(h)}function Or(h=(0,V.ZQ)()){return/blackberry/i.test(h)}function us(h=(0,V.ZQ)()){return/webos/i.test(h)}function k(h=(0,V.ZQ)()){return/iphone|ipad|ipod/i.test(h)||/macintosh/i.test(h)&&/mobile/i.test(h)}function De(h=(0,V.ZQ)()){return k(h)||Fs(h)||us(h)||Or(h)||/windows phone/i.test(h)||nh(h)}function ge(h,u=[]){let c;switch(h){case"Browser":c=_r((0,V.ZQ)());break;case"Worker":c=`${_r((0,V.ZQ)())}-${h}`;break;default:c=h}const p=u.length?u.join(","):"FirebaseCore-web";return`${c}/JsCore/${re.SDK_VERSION}/${p}`}class Kt{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,c){const p=w=>new Promise((D,R)=>{try{D(u(w))}catch(H){R(H)}});p.onAbort=c,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(u){var c=this;return(0,b.A)(function*(){if(c.auth.currentUser===u)return;const p=[];try{for(const _ of c.queue)yield _(u),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const w of p)try{w()}catch{}throw c.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Ve(){return(Ve=(0,b.A)(function*(h,u={}){return de(h,"GET","/v2/passwordPolicy",K(h,u))})).apply(this,arguments)}class an{constructor(u){var c,p,_,w;const D=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(c=D.minPasswordLength)&&void 0!==c?c:6,D.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=D.maxPasswordLength),void 0!==D.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=D.containsLowercaseCharacter),void 0!==D.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=D.containsUppercaseCharacter),void 0!==D.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=D.containsNumericCharacter),void 0!==D.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=D.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=u.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(w=u.forceUpgradeOnSignin)&&void 0!==w&&w,this.schemaVersion=u.schemaVersion}validatePassword(u){var c,p,_,w,D,R;const H={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,H),this.validatePasswordCharacterOptions(u,H),H.isValid&&(H.isValid=null===(c=H.meetsMinPasswordLength)||void 0===c||c),H.isValid&&(H.isValid=null===(p=H.meetsMaxPasswordLength)||void 0===p||p),H.isValid&&(H.isValid=null===(_=H.containsLowercaseLetter)||void 0===_||_),H.isValid&&(H.isValid=null===(w=H.containsUppercaseLetter)||void 0===w||w),H.isValid&&(H.isValid=null===(D=H.containsNumericCharacter)||void 0===D||D),H.isValid&&(H.isValid=null===(R=H.containsNonAlphanumericCharacter)||void 0===R||R),H}validatePasswordLengthOptions(u,c){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(c.meetsMinPasswordLength=u.length>=p),_&&(c.meetsMaxPasswordLength=u.length<=_)}validatePasswordCharacterOptions(u,c){let p;this.updatePasswordCharacterOptionsStatuses(c,!1,!1,!1,!1);for(let _=0;_<u.length;_++)p=u.charAt(_),this.updatePasswordCharacterOptionsStatuses(c,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(u,c,p,_,w){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=c)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=w))}}class rh{constructor(u,c,p,_){this.app=u,this.heartbeatServiceProvider=c,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mg(this),this.idTokenSubscription=new Mg(this),this.beforeStateQueue=new Kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=je,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(u,c){var p=this;return c&&(this._popupRedirectResolver=It(c)),this._initializationPromise=this.queue((0,b.A)(function*(){var _,w;if(!p._deleted&&(p.persistenceManager=yield $.create(p,u),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(c),p.lastNotifiedUid=(null===(w=p.currentUser)||void 0===w?void 0:w.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,b.A)(function*(){if(u._deleted)return;const c=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||c){if(u.currentUser&&c&&u.currentUser.uid===c.uid)return u._currentUser._assign(c),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(c,!0)}})()}initializeCurrentUserFromIdToken(u){var c=this;return(0,b.A)(function*(){try{const p=yield Pr(c,{idToken:u}),_=yield fe._fromGetAccountInfoResponse(c,p,u);yield c.directlySetCurrentUser(_)}catch(p){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",p),yield c.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var c=this;return(0,b.A)(function*(){var p;if((0,re._isFirebaseServerApp)(c.app)){const R=c.app.settings.authIdToken;return R?new Promise(H=>{setTimeout(()=>c.initializeCurrentUserFromIdToken(R).then(H,H))}):c.directlySetCurrentUser(null)}const _=yield c.assertedPersistence.getCurrentUser();let w=_,D=!1;if(u&&c.config.authDomain){yield c.getOrInitRedirectPersistenceManager();const R=null===(p=c.redirectUser)||void 0===p?void 0:p._redirectEventId,H=w?._redirectEventId,ae=yield c.tryRedirectSignIn(u);(!R||R===H)&&ae?.user&&(w=ae.user,D=!0)}if(!w)return c.directlySetCurrentUser(null);if(!w._redirectEventId){if(D)try{yield c.beforeStateQueue.runMiddleware(w)}catch(R){w=_,c._popupRedirectResolver._overrideRedirectResult(c,()=>Promise.reject(R))}return w?c.reloadAndSetCurrentUserOrClear(w):c.directlySetCurrentUser(null)}return Q(c._popupRedirectResolver,c,"argument-error"),yield c.getOrInitRedirectPersistenceManager(),c.redirectUser&&c.redirectUser._redirectEventId===w._redirectEventId?c.directlySetCurrentUser(w):c.reloadAndSetCurrentUserOrClear(w)})()}tryRedirectSignIn(u){var c=this;return(0,b.A)(function*(){let p=null;try{p=yield c._popupRedirectResolver._completeRedirectFn(c,u,!0)}catch{yield c._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(u){var c=this;return(0,b.A)(function*(){try{yield Tn(u)}catch(p){if("auth/network-request-failed"!==p?.code)return c.directlySetCurrentUser(null)}return c.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function vl(){if(typeof navigator>"u")return null;const h=navigator;return h.languages&&h.languages[0]||h.language||null}()}_delete(){var u=this;return(0,b.A)(function*(){u._deleted=!0})()}updateCurrentUser(u){var c=this;return(0,b.A)(function*(){if((0,re._isFirebaseServerApp)(c.app))return Promise.reject(Ee(c));const p=u?(0,V.Ku)(u):null;return p&&Q(p.auth.config.apiKey===c.config.apiKey,c,"invalid-user-token"),c._updateCurrentUser(p&&p._clone(c))})()}_updateCurrentUser(u,c=!1){var p=this;return(0,b.A)(function*(){if(!p._deleted)return u&&Q(p.tenantId===u.tenantId,p,"tenant-id-mismatch"),c||(yield p.beforeStateQueue.runMiddleware(u)),p.queue((0,b.A)(function*(){yield p.directlySetCurrentUser(u),p.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,b.A)(function*(){return(0,re._isFirebaseServerApp)(u.app)?Promise.reject(Ee(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var c=this;return(0,re._isFirebaseServerApp)(this.app)?Promise.reject(Ee(this)):this.queue((0,b.A)(function*(){yield c.assertedPersistence.setPersistence(It(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var c=this;return(0,b.A)(function*(){c._getPasswordPolicyInternal()||(yield c._updatePasswordPolicy());const p=c._getPasswordPolicyInternal();return p.schemaVersion!==c.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(c._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,b.A)(function*(){const c=yield function Yt(h){return Ve.apply(this,arguments)}(u),p=new an(c);null===u.tenantId?u._projectPasswordPolicy=p:u._tenantPasswordPolicies[u.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new V.FA("auth","Firebase",u())}onAuthStateChanged(u,c,p){return this.registerStateListener(this.authStateSubscription,u,c,p)}beforeAuthStateChanged(u,c){return this.beforeStateQueue.pushCallback(u,c)}onIdTokenChanged(u,c,p){return this.registerStateListener(this.idTokenSubscription,u,c,p)}authStateReady(){return new Promise((u,c)=>{if(this.currentUser)u();else{const p=this.onAuthStateChanged(()=>{p(),u()},c)}})}revokeAccessToken(u){var c=this;return(0,b.A)(function*(){if(c.currentUser){const p=yield c.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:p};null!=c.tenantId&&(_.tenantId=c.tenantId),yield function N(h,u){return q.apply(this,arguments)}(c,_)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,c){var p=this;return(0,b.A)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(c);return null===u?_.removeCurrentUser():_.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var c=this;return(0,b.A)(function*(){if(!c.redirectPersistenceManager){const p=u&&It(u)||c._popupRedirectResolver;Q(p,c,"argument-error"),c.redirectPersistenceManager=yield $.create(c,[It(p._redirectPersistence)],"redirectUser"),c.redirectUser=yield c.redirectPersistenceManager.getCurrentUser()}return c.redirectPersistenceManager})()}_redirectUserForId(u){var c=this;return(0,b.A)(function*(){var p,_;return c._isInitialized&&(yield c.queue((0,b.A)(function*(){}))),(null===(p=c._currentUser)||void 0===p?void 0:p._redirectEventId)===u?c._currentUser:(null===(_=c.redirectUser)||void 0===_?void 0:_._redirectEventId)===u?c.redirectUser:null})()}_persistUserIfCurrent(u){var c=this;return(0,b.A)(function*(){if(u===c.currentUser)return c.queue((0,b.A)(function*(){return c.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,c;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(c=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==c?c:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,c,p,_){if(this._deleted)return()=>{};const w="function"==typeof c?c:c.next.bind(c);let D=!1;const R=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(R,this,"internal-error"),R.then(()=>{D||w(this.currentUser)}),"function"==typeof c){const H=u.addObserver(c,p,_);return()=>{D=!0,H()}}{const H=u.addObserver(c);return()=>{D=!0,H()}}}directlySetCurrentUser(u){var c=this;return(0,b.A)(function*(){c.currentUser&&c.currentUser!==u&&c._currentUser._stopProactiveRefresh(),u&&c.isProactiveRefreshEnabled&&u._startProactiveRefresh(),c.currentUser=u,u?yield c.assertedPersistence.setCurrentUser(u):yield c.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=ge(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,b.A)(function*(){var c;const p={"X-Client-Version":u.clientVersion};u.app.options.appId&&(p["X-Firebase-gmpid"]=u.app.options.appId);const _=yield null===(c=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const w=yield u._getAppCheckToken();return w&&(p["X-Firebase-AppCheck"]=w),p})()}_getAppCheckToken(){var u=this;return(0,b.A)(function*(){var c;const p=yield null===(c=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===c?void 0:c.getToken();return p?.error&&function Bn(h,...u){bn.logLevel<=Gt.$b.WARN&&bn.warn(`Auth (${re.SDK_VERSION}): ${h}`,...u)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function kt(h){return(0,V.Ku)(h)}class Mg{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,V.tD)(c=>this.observer=c)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ft={loadJS:()=>(0,b.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ga(h){return ft.loadJS(h)}function Yy(h){return`__${h}${Math.floor(1e6*Math.random())}`}class Qy{constructor(u){this.type="recaptcha-enterprise",this.auth=kt(u)}verify(u="verify",c=!1){var p=this;return(0,b.A)(function*(){function w(){return w=(0,b.A)(function*(R){if(!c){if(null==R.tenantId&&null!=R._agentRecaptchaConfig)return R._agentRecaptchaConfig.siteKey;if(null!=R.tenantId&&void 0!==R._tenantRecaptchaConfigs[R.tenantId])return R._tenantRecaptchaConfigs[R.tenantId].siteKey}return new Promise(function(){var H=(0,b.A)(function*(ae,se){Rs(R,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_e=>{if(void 0!==_e.recaptchaKey){const Lt=new Io(_e);return null==R.tenantId?R._agentRecaptchaConfig=Lt:R._tenantRecaptchaConfigs[R.tenantId]=Lt,ae(Lt.siteKey)}se(new Error("recaptcha Enterprise site key undefined"))}).catch(_e=>{se(_e)})});return function(ae,se){return H.apply(this,arguments)}}())}),w.apply(this,arguments)}function D(R,H,ae){const se=window.grecaptcha;xr(se)?se.enterprise.ready(()=>{se.enterprise.execute(R,{action:u}).then(_e=>{H(_e)}).catch(()=>{H("NO_RECAPTCHA")})}):ae(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((R,H)=>{(function _(R){return w.apply(this,arguments)})(p.auth).then(ae=>{if(!c&&xr(window.grecaptcha))D(ae,R,H);else{if(typeof window>"u")return void H(new Error("RecaptchaVerifier is only supported in browser"));let se=function eS(){return ft.recaptchaEnterpriseScript}();0!==se.length&&(se+=ae),ga(se).then(()=>{D(ae,R,H)}).catch(_e=>{H(_e)})}}).catch(ae=>{H(ae)})})})()}}function Zy(h,u,c){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,b.A)(function*(h,u,c,p=!1){const _=new Qy(h);let w;try{w=yield _.verify(c)}catch{w=yield _.verify(c,!0)}const D=Object.assign({},u);return Object.assign(D,p?{captchaResp:w}:{captchaResponse:w}),Object.assign(D,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(D,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),D})).apply(this,arguments)}function wl(h,u,c,p){return Rg.apply(this,arguments)}function Rg(){return Rg=(0,b.A)(function*(h,u,c,p){var _;if(null!==(_=h._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const w=yield Zy(h,u,c,"getOobCode"===c);return p(h,w)}return p(h,u).catch(function(){var w=(0,b.A)(function*(D){if("auth/missing-recaptcha-token"===D.code){console.log(`${c} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const R=yield Zy(h,u,c,"getOobCode"===c);return p(h,R)}return Promise.reject(D)});return function(D){return w.apply(this,arguments)}}())}),Rg.apply(this,arguments)}function eC(h){const u=h.indexOf(":");return u<0?"":h.substr(0,u+1)}function tC(h){if(!h)return null;const u=Number(h);return isNaN(u)?null:u}class me{constructor(u,c){this.providerId=u,this.signInMethod=c}toJSON(){return hn("not implemented")}_getIdTokenResponse(u){return hn("not implemented")}_linkToIdToken(u,c){return hn("not implemented")}_getReauthenticationResolver(u){return hn("not implemented")}}function nC(h,u){return vr.apply(this,arguments)}function vr(){return(vr=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:resetPassword",K(h,u))})).apply(this,arguments)}function ih(){return(ih=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Pg(h,u){return sh.apply(this,arguments)}function sh(){return(sh=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function ma(){return(ma=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:update",K(h,u))})).apply(this,arguments)}function oh(h,u){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,b.A)(function*(h,u){return Ke(h,"POST","/v1/accounts:signInWithPassword",K(h,u))})).apply(this,arguments)}function Vu(h,u){return ue.apply(this,arguments)}function ue(){return(ue=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:sendOobCode",K(h,u))})).apply(this,arguments)}function El(){return(El=(0,b.A)(function*(h,u){return Vu(h,u)})).apply(this,arguments)}function Og(h,u){return Il.apply(this,arguments)}function Il(){return(Il=(0,b.A)(function*(h,u){return Vu(h,u)})).apply(this,arguments)}function rC(h,u){return bl.apply(this,arguments)}function bl(){return(bl=(0,b.A)(function*(h,u){return Vu(h,u)})).apply(this,arguments)}function kg(){return(kg=(0,b.A)(function*(h,u){return Vu(h,u)})).apply(this,arguments)}function Fg(){return(Fg=(0,b.A)(function*(h,u){return Ke(h,"POST","/v1/accounts:signInWithEmailLink",K(h,u))})).apply(this,arguments)}function No(){return(No=(0,b.A)(function*(h,u){return Ke(h,"POST","/v1/accounts:signInWithEmailLink",K(h,u))})).apply(this,arguments)}class Ro extends me{constructor(u,c,p,_=null){super("password",p),this._email=u,this._password=c,this._tenantId=_}static _fromEmailAndPassword(u,c){return new Ro(u,c,"password")}static _fromEmailAndCode(u,c,p=null){return new Ro(u,c,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u;if(c?.email&&c?.password){if("password"===c.signInMethod)return this._fromEmailAndPassword(c.email,c.password);if("emailLink"===c.signInMethod)return this._fromEmailAndCode(c.email,c.password,c.tenantId)}return null}_getIdTokenResponse(u){var c=this;return(0,b.A)(function*(){switch(c.signInMethod){case"password":return wl(u,{returnSecureToken:!0,email:c._email,password:c._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",oh);case"emailLink":return function sS(h,u){return Fg.apply(this,arguments)}(u,{email:c._email,oobCode:c._password});default:ht(u,"internal-error")}})()}_linkToIdToken(u,c){var p=this;return(0,b.A)(function*(){switch(p.signInMethod){case"password":return wl(u,{idToken:c,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pg);case"emailLink":return function lh(h,u){return No.apply(this,arguments)}(u,{idToken:c,email:p._email,oobCode:p._password});default:ht(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function pi(h,u){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,b.A)(function*(h,u){return Ke(h,"POST","/v1/accounts:signInWithIdp",K(h,u))})).apply(this,arguments)}class yr extends me{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const c=new yr(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(c.idToken=u.idToken),u.accessToken&&(c.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(c.nonce=u.nonce),u.pendingToken&&(c.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(c.accessToken=u.oauthToken,c.secret=u.oauthTokenSecret):ht("argument-error"),c}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u,{providerId:p,signInMethod:_}=c,w=(0,mt.Tt)(c,["providerId","signInMethod"]);if(!p||!_)return null;const D=new yr(p,_);return D.idToken=w.idToken||void 0,D.accessToken=w.accessToken||void 0,D.secret=w.secret,D.nonce=w.nonce,D.pendingToken=w.pendingToken||null,D}_getIdTokenResponse(u){return pi(u,this.buildRequest())}_linkToIdToken(u,c){const p=this.buildRequest();return p.idToken=c,pi(u,p)}_getReauthenticationResolver(u){const c=this.buildRequest();return c.autoCreate=!1,pi(u,c)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const c={};this.idToken&&(c.id_token=this.idToken),this.accessToken&&(c.access_token=this.accessToken),this.secret&&(c.oauth_token_secret=this.secret),c.providerId=this.providerId,this.nonce&&!this.pendingToken&&(c.nonce=this.nonce),u.postBody=(0,V.Am)(c)}return u}}function Oe(){return(Oe=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:sendVerificationCode",K(h,u))})).apply(this,arguments)}function Vg(){return(Vg=(0,b.A)(function*(h,u){return Ke(h,"POST","/v1/accounts:signInWithPhoneNumber",K(h,u))})).apply(this,arguments)}function uh(){return(uh=(0,b.A)(function*(h,u){const c=yield Ke(h,"POST","/v1/accounts:signInWithPhoneNumber",K(h,u));if(c.temporaryProof)throw on(h,"account-exists-with-different-credential",c);return c})).apply(this,arguments)}const oS={USER_NOT_FOUND:"user-not-found"};function Dl(){return(Dl=(0,b.A)(function*(h,u){return Ke(h,"POST","/v1/accounts:signInWithPhoneNumber",K(h,Object.assign(Object.assign({},u),{operation:"REAUTH"})),oS)})).apply(this,arguments)}class Ue extends me{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,c){return new Ue({verificationId:u,verificationCode:c})}static _fromTokenResponse(u,c){return new Ue({phoneNumber:u,temporaryProof:c})}_getIdTokenResponse(u){return function lt(h,u){return Vg.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,c){return function iC(h,u){return uh.apply(this,arguments)}(u,Object.assign({idToken:c},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function sC(h,u){return Dl.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:c,verificationId:p,verificationCode:_}=this.params;return u&&c?{temporaryProof:u,phoneNumber:c}:{sessionInfo:p,code:_}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:c,verificationCode:p,phoneNumber:_,temporaryProof:w}=u;return p||c||_||w?new Ue({verificationId:c,verificationCode:p,phoneNumber:_,temporaryProof:w}):null}}class Mn{constructor(u){var c,p,_,w,D,R;const H=(0,V.I9)((0,V.hp)(u)),ae=null!==(c=H.apiKey)&&void 0!==c?c:null,se=null!==(p=H.oobCode)&&void 0!==p?p:null,_e=function ch(h){switch(h){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=H.mode)&&void 0!==_?_:null);Q(ae&&se&&_e,"argument-error"),this.apiKey=ae,this.operation=_e,this.code=se,this.continueUrl=null!==(w=H.continueUrl)&&void 0!==w?w:null,this.languageCode=null!==(D=H.languageCode)&&void 0!==D?D:null,this.tenantId=null!==(R=H.tenantId)&&void 0!==R?R:null}static parseLink(u){const c=function Ug(h){const u=(0,V.I9)((0,V.hp)(h)).link,c=u?(0,V.I9)((0,V.hp)(u)).deep_link_id:null,p=(0,V.I9)((0,V.hp)(h)).deep_link_id;return(p?(0,V.I9)((0,V.hp)(p)).link:null)||p||c||u||h}(u);try{return new Mn(c)}catch{return null}}}let Bg=(()=>{class h{constructor(){this.providerId=h.PROVIDER_ID}static credential(c,p){return Ro._fromEmailAndPassword(c,p)}static credentialWithLink(c,p){const _=Mn.parseLink(p);return Q(_,"argument-error"),Ro._fromEmailAndCode(c,_.code,_.tenantId)}}return h.PROVIDER_ID="password",h.EMAIL_PASSWORD_SIGN_IN_METHOD="password",h.EMAIL_LINK_SIGN_IN_METHOD="emailLink",h})();class Vs{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Vi extends Vs{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Us extends Vi{static credentialFromJSON(u){const c="string"==typeof u?JSON.parse(u):u;return Q("providerId"in c&&"signInMethod"in c,"argument-error"),yr._fromParams(c)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return Q(u.idToken||u.accessToken,"argument-error"),yr._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Us.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Us.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:c,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:w,nonce:D,providerId:R}=u;if(!p&&!_&&!c&&!w||!R)return null;try{return new Us(R)._credential({idToken:c,accessToken:p,nonce:D,pendingToken:w})}catch{return null}}}let Sl=(()=>{class h extends Vi{constructor(){super("facebook.com")}static credential(c){return yr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.FACEBOOK_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return h.credential(c.oauthAccessToken)}catch{return null}}}return h.FACEBOOK_SIGN_IN_METHOD="facebook.com",h.PROVIDER_ID="facebook.com",h})(),jg=(()=>{class h extends Vi{constructor(){super("google.com"),this.addScope("profile")}static credential(c,p){return yr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GOOGLE_SIGN_IN_METHOD,idToken:c,accessToken:p})}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:p,oauthAccessToken:_}=c;if(!p&&!_)return null;try{return h.credential(p,_)}catch{return null}}}return h.GOOGLE_SIGN_IN_METHOD="google.com",h.PROVIDER_ID="google.com",h})(),Hg=(()=>{class h extends Vi{constructor(){super("github.com")}static credential(c){return yr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.GITHUB_SIGN_IN_METHOD,accessToken:c})}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c||!("oauthAccessToken"in c)||!c.oauthAccessToken)return null;try{return h.credential(c.oauthAccessToken)}catch{return null}}}return h.GITHUB_SIGN_IN_METHOD="github.com",h.PROVIDER_ID="github.com",h})();class xo extends me{constructor(u,c){super(u,u),this.pendingToken=c}_getIdTokenResponse(u){return pi(u,this.buildRequest())}_linkToIdToken(u,c){const p=this.buildRequest();return p.idToken=c,pi(u,p)}_getReauthenticationResolver(u){const c=this.buildRequest();return c.autoCreate=!1,pi(u,c)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const c="string"==typeof u?JSON.parse(u):u,{providerId:p,signInMethod:_,pendingToken:w}=c;return p&&_&&w&&p===_?new xo(p,w):null}static _create(u,c){return new xo(u,c)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bu extends Vs{constructor(u){Q(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Bu.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Bu.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const c=xo.fromJSON(u);return Q(c,"argument-error"),c}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:c,providerId:p}=u;if(!c||!p)return null;try{return xo._create(p,c)}catch{return null}}}let ds=(()=>{class h extends Vi{constructor(){super("twitter.com")}static credential(c,p){return yr._fromParams({providerId:h.PROVIDER_ID,signInMethod:h.TWITTER_SIGN_IN_METHOD,oauthToken:c,oauthTokenSecret:p})}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=c;if(!p||!_)return null;try{return h.credential(p,_)}catch{return null}}}return h.TWITTER_SIGN_IN_METHOD="twitter.com",h.PROVIDER_ID="twitter.com",h})();function $g(h,u){return le.apply(this,arguments)}function le(){return(le=(0,b.A)(function*(h,u){return Ke(h,"POST","/v1/accounts:signUp",K(h,u))})).apply(this,arguments)}class Lr{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,c,p,_=!1){return(0,b.A)(function*(){const w=yield fe._fromIdTokenResponse(u,p,_),D=X(p);return new Lr({user:w,providerId:D,_tokenResponse:p,operationType:c})})()}static _forOperation(u,c,p){return(0,b.A)(function*(){yield u._updateTokensIfNecessary(p,!0);const _=X(p);return new Lr({user:u,providerId:_,_tokenResponse:p,operationType:c})})()}}function X(h){return h.providerId?h.providerId:"phoneNumber"in h?"phone":null}function Al(){return(Al=(0,b.A)(function*(h){var u;if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(Ee(h));const c=kt(h);if(yield c._initializationPromise,null!==(u=c.currentUser)&&void 0!==u&&u.isAnonymous)return new Lr({user:c.currentUser,providerId:null,operationType:"signIn"});const p=yield $g(c,{returnSecureToken:!0}),_=yield Lr._fromIdTokenResponse(c,"signIn",p,!0);return yield c._updateCurrentUser(_.user),_})).apply(this,arguments)}class Bs extends V.g{constructor(u,c,p,_){var w;super(c.code,c.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,Bs.prototype),this.customData={appName:u.name,tenantId:null!==(w=u.tenantId)&&void 0!==w?w:void 0,_serverResponse:c.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(u,c,p,_){return new Bs(u,c,p,_)}}function Wg(h,u,c,p){return("reauthenticate"===u?c._getReauthenticationResolver(h):c._getIdTokenResponse(h)).catch(w=>{throw"auth/multi-factor-auth-required"===w.code?Bs._fromErrorAndOperation(h,w,u,p):w})}function zg(h){return new Set(h.map(({providerId:u})=>u).filter(u=>!!u))}function dh(){return dh=(0,b.A)(function*(h,u){const c=(0,V.Ku)(h);yield Oo(!0,c,u);const{providerUserInfo:p}=yield function Zr(h,u){return Xr.apply(this,arguments)}(c.auth,{idToken:yield c.getIdToken(),deleteProvider:[u]}),_=zg(p||[]);return c.providerData=c.providerData.filter(w=>_.has(w.providerId)),_.has("phone")||(c.phoneNumber=null),yield c.auth._persistUserIfCurrent(c),c}),dh.apply(this,arguments)}function Po(h,u){return hh.apply(this,arguments)}function hh(){return(hh=(0,b.A)(function*(h,u,c=!1){const p=yield qn(h,u._linkToIdToken(h.auth,yield h.getIdToken()),c);return Lr._forOperation(h,"link",p)})).apply(this,arguments)}function Oo(h,u,c){return fh.apply(this,arguments)}function fh(){return(fh=(0,b.A)(function*(h,u,c){yield Tn(u);const _=!1===h?"provider-already-linked":"no-such-provider";Q(zg(u.providerData).has(c)===h,u.auth,_)})).apply(this,arguments)}function js(h,u){return ph.apply(this,arguments)}function ph(){return(ph=(0,b.A)(function*(h,u,c=!1){const{auth:p}=h;if((0,re._isFirebaseServerApp)(p.app))return Promise.reject(Ee(p));const _="reauthenticate";try{const w=yield qn(h,Wg(p,_,u,h),c);Q(w.idToken,p,"internal-error");const D=Os(w.idToken);Q(D,p,"internal-error");const{sub:R}=D;return Q(h.uid===R,p,"user-mismatch"),Lr._forOperation(h,_,w)}catch(w){throw"auth/user-not-found"===w?.code&&ht(p,"user-mismatch"),w}})).apply(this,arguments)}function or(h,u){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,b.A)(function*(h,u,c=!1){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(Ee(h));const p="signIn",_=yield Wg(h,p,u),w=yield Lr._fromIdTokenResponse(h,p,_);return c||(yield h._updateCurrentUser(w.user)),w})).apply(this,arguments)}function Tl(h,u){return va.apply(this,arguments)}function va(){return(va=(0,b.A)(function*(h,u){return or(kt(h),u)})).apply(this,arguments)}function Ml(h,u){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,b.A)(function*(h,u){const c=(0,V.Ku)(h);return yield Oo(!1,c,u.providerId),Po(c,u)})).apply(this,arguments)}function uC(h,u){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,b.A)(function*(h,u){return js((0,V.Ku)(h),u)})).apply(this,arguments)}function ar(){return(ar=(0,b.A)(function*(h,u){return Ke(h,"POST","/v1/accounts:signInWithCustomToken",K(h,u))})).apply(this,arguments)}function $s(){return $s=(0,b.A)(function*(h,u){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(Ee(h));const c=kt(h),p=yield function aS(h,u){return ar.apply(this,arguments)}(c,{token:u,returnSecureToken:!0}),_=yield Lr._fromIdTokenResponse(c,"signIn",p);return yield c._updateCurrentUser(_.user),_}),$s.apply(this,arguments)}class $u{constructor(u,c){this.factorId=u,this.uid=c.mfaEnrollmentId,this.enrollmentTime=new Date(c.enrolledAt).toUTCString(),this.displayName=c.displayName}static _fromServerResponse(u,c){return"phoneInfo"in c?Wu._fromServerResponse(u,c):"totpInfo"in c?ei._fromServerResponse(u,c):ht(u,"internal-error")}}class Wu extends $u{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,c){return new Wu(c)}}class ei extends $u{constructor(u){super("totp",u)}static _fromServerResponse(u,c){return new ei(c)}}function et(h,u,c){var p;Q((null===(p=c.url)||void 0===p?void 0:p.length)>0,h,"invalid-continue-uri"),Q(typeof c.dynamicLinkDomain>"u"||c.dynamicLinkDomain.length>0,h,"invalid-dynamic-link-domain"),u.continueUrl=c.url,u.dynamicLinkDomain=c.dynamicLinkDomain,u.canHandleCodeInApp=c.handleCodeInApp,c.iOS&&(Q(c.iOS.bundleId.length>0,h,"missing-ios-bundle-id"),u.iOSBundleId=c.iOS.bundleId),c.android&&(Q(c.android.packageName.length>0,h,"missing-android-pkg-name"),u.androidInstallApp=c.android.installApp,u.androidMinimumVersionCode=c.android.minimumVersion,u.androidPackageName=c.android.packageName)}function hs(h){return zu.apply(this,arguments)}function zu(){return(zu=(0,b.A)(function*(h){const u=kt(h);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function ya(){return(ya=(0,b.A)(function*(h,u,c){const p=kt(h),_={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};c&&et(p,_,c),yield wl(p,_,"getOobCode",Og)})).apply(this,arguments)}function Vr(){return Vr=(0,b.A)(function*(h,u,c){yield nC((0,V.Ku)(h),{oobCode:u,newPassword:c}).catch(function(){var p=(0,b.A)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&hs(h),_});return function(_){return p.apply(this,arguments)}}())}),Vr.apply(this,arguments)}function _h(){return _h=(0,b.A)(function*(h,u){yield function Fu(h,u){return ma.apply(this,arguments)}((0,V.Ku)(h),{oobCode:u})}),_h.apply(this,arguments)}function qu(h,u){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,b.A)(function*(h,u){const c=(0,V.Ku)(h),p=yield nC(c,{oobCode:u}),_=p.requestType;switch(Q(_,c,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(p.newEmail,c,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(p.mfaInfo,c,"internal-error");default:Q(p.email,c,"internal-error")}let w=null;return p.mfaInfo&&(w=$u._fromServerResponse(kt(c),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:w},operation:_}})).apply(this,arguments)}function ko(){return(ko=(0,b.A)(function*(h,u){const{data:c}=yield qu((0,V.Ku)(h),u);return c.email})).apply(this,arguments)}function Yu(){return(Yu=(0,b.A)(function*(h,u,c){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(Ee(h));const p=kt(h),D=yield wl(p,{returnSecureToken:!0,email:u,password:c,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$g).catch(H=>{throw"auth/password-does-not-meet-requirements"===H.code&&hs(h),H}),R=yield Lr._fromIdTokenResponse(p,"signIn",D);return yield p._updateCurrentUser(R.user),R})).apply(this,arguments)}function yh(){return(yh=(0,b.A)(function*(h,u,c){const p=kt(h),_={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function w(D,R){Q(R.handleCodeInApp,p,"argument-error"),R&&et(p,D,R)})(_,c),yield wl(p,_,"getOobCode",rC)})).apply(this,arguments)}function Ch(){return(Ch=(0,b.A)(function*(h,u,c){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(Ee(h));const p=(0,V.Ku)(h),_=Bg.credentialWithLink(u,c||Rr());return Q(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),Tl(p,_)})).apply(this,arguments)}function wh(){return(wh=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:createAuthUri",K(h,u))})).apply(this,arguments)}function Eh(){return Eh=(0,b.A)(function*(h,u){const p={identifier:u,continueUri:ki()?Rr():"http://localhost"},{signinMethods:_}=yield function Kg(h,u){return wh.apply(this,arguments)}((0,V.Ku)(h),p);return _||[]}),Eh.apply(this,arguments)}function Qu(){return Qu=(0,b.A)(function*(h,u){const c=(0,V.Ku)(h),_={requestType:"VERIFY_EMAIL",idToken:yield h.getIdToken()};u&&et(c.auth,_,u);const{email:w}=yield function ah(h,u){return El.apply(this,arguments)}(c.auth,_);w!==h.email&&(yield h.reload())}),Qu.apply(this,arguments)}function Ih(){return Ih=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h),w={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield h.getIdToken(),newEmail:u};c&&et(p.auth,w,c);const{email:D}=yield function iS(h,u){return kg.apply(this,arguments)}(p.auth,w);D!==h.email&&(yield h.reload())}),Ih.apply(this,arguments)}function Fo(){return(Fo=(0,b.A)(function*(h,u){return de(h,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function bh(){return bh=(0,b.A)(function*(h,{displayName:u,photoURL:c}){if(void 0===u&&void 0===c)return;const p=(0,V.Ku)(h),w={idToken:yield p.getIdToken(),displayName:u,photoUrl:c,returnSecureToken:!0},D=yield qn(p,function gC(h,u){return Fo.apply(this,arguments)}(p.auth,w));p.displayName=D.displayName||null,p.photoURL=D.photoUrl||null;const R=p.providerData.find(({providerId:H})=>"password"===H);R&&(R.displayName=p.displayName,R.photoURL=p.photoURL),yield p._updateTokensIfNecessary(D)}),bh.apply(this,arguments)}function Re(h,u,c){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,b.A)(function*(h,u,c){const{auth:p}=h,w={idToken:yield h.getIdToken(),returnSecureToken:!0};u&&(w.email=u),c&&(w.password=c);const D=yield qn(h,function ku(h,u){return ih.apply(this,arguments)}(p,w));yield h._updateTokensIfNecessary(D,!0)}),Kn.apply(this,arguments)}class Ft{constructor(u,c,p={}){this.isNewUser=u,this.providerId=c,this.profile=p}}class Nn extends Ft{constructor(u,c,p,_){super(u,c,p),this.username=_}}class Ws extends Ft{constructor(u,c){super(u,"facebook.com",c)}}class Yn extends Nn{constructor(u,c){super(u,"github.com",c,"string"==typeof c?.login?c?.login:null)}}class Qg extends Ft{constructor(u,c){super(u,"google.com",c)}}class Zg extends Nn{constructor(u,c,p){super(u,"twitter.com",c,p)}}function Zu(h){const{user:u,_tokenResponse:c}=h;return u.isAnonymous&&!c?{providerId:null,isNewUser:!1,profile:null}:function We(h){var u,c;if(!h)return null;const{providerId:p}=h,_=h.rawUserInfo?JSON.parse(h.rawUserInfo):{},w=h.isNewUser||"identitytoolkit#SignupNewUserResponse"===h.kind;if(!p&&h?.idToken){const D=null===(c=null===(u=Os(h.idToken))||void 0===u?void 0:u.firebase)||void 0===c?void 0:c.sign_in_provider;if(D)return new Ft(w,"anonymous"!==D&&"custom"!==D?D:null)}if(!p)return null;switch(p){case"facebook.com":return new Ws(w,_);case"github.com":return new Yn(w,_);case"google.com":return new Qg(w,_);case"twitter.com":return new Zg(w,_,h.screenName||null);case"custom":case"anonymous":return new Ft(w,null);default:return new Ft(w,p,_)}}(c)}class Ur{constructor(u,c,p){this.type=u,this.credential=c,this.user=p}static _fromIdtoken(u,c){return new Ur("enroll",u,c)}static _fromMfaPendingCredential(u){return new Ur("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var c,p;if(u?.multiFactorSession){if(null!==(c=u.multiFactorSession)&&void 0!==c&&c.pendingCredential)return Ur._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(p=u.multiFactorSession)&&void 0!==p&&p.idToken)return Ur._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Mh{constructor(u,c,p){this.session=u,this.hints=c,this.signInResolver=p}static _fromError(u,c){const p=kt(u),_=c.customData._serverResponse,w=(_.mfaInfo||[]).map(R=>$u._fromServerResponse(p,R));Q(_.mfaPendingCredential,p,"internal-error");const D=Ur._fromMfaPendingCredential(_.mfaPendingCredential);return new Mh(D,w,function(){var R=(0,b.A)(function*(H){const ae=yield H._process(p,D);delete _.mfaInfo,delete _.mfaPendingCredential;const se=Object.assign(Object.assign({},_),{idToken:ae.idToken,refreshToken:ae.refreshToken});switch(c.operationType){case"signIn":const _e=yield Lr._fromIdTokenResponse(p,c.operationType,se);return yield p._updateCurrentUser(_e.user),_e;case"reauthenticate":return Q(c.user,p,"internal-error"),Lr._forOperation(c.user,c.operationType,se);default:ht(p,"internal-error")}});return function(H){return R.apply(this,arguments)}}())}resolveSignIn(u){var c=this;return(0,b.A)(function*(){return c.signInResolver(u)})()}}class zs{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(c=>{c.mfaInfo&&(this.enrolledFactors=c.mfaInfo.map(p=>$u._fromServerResponse(u.auth,p)))})}static _fromUser(u){return new zs(u)}getSession(){var u=this;return(0,b.A)(function*(){return Ur._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,c){var p=this;return(0,b.A)(function*(){const _=u,w=yield p.getSession(),D=yield qn(p.user,_._process(p.user.auth,w,c));return yield p.user._updateTokensIfNecessary(D),p.user.reload()})()}unenroll(u){var c=this;return(0,b.A)(function*(){const p="string"==typeof u?u:u.uid,_=yield c.user.getIdToken();try{const w=yield qn(c.user,function Br(h,u){return de(h,"POST","/v2/accounts/mfaEnrollment:withdraw",K(h,u))}(c.user.auth,{idToken:_,mfaEnrollmentId:p}));c.enrolledFactors=c.enrolledFactors.filter(({uid:D})=>D!==p),yield c.user._updateTokensIfNecessary(w),yield c.user.reload()}catch(w){throw w}})()}}const Rl=new WeakMap,tc="__sak";class Rh{constructor(u,c){this.storageRetriever=u,this.type=c}_isAvailable(){try{return this.storage?(this.storage.setItem(tc,"1"),this.storage.removeItem(tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,c){return this.storage.setItem(u,JSON.stringify(c)),Promise.resolve()}_get(u){const c=this.storage.getItem(u);return Promise.resolve(c?JSON.parse(c):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const wa=(()=>{class h extends Rh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(c,p)=>this.onStorageEvent(c,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ca(){const h=(0,V.ZQ)();return pa(h)||k(h)}()&&function Le(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=De(),this._shouldAllowMigration=!0}forAllChangedKeys(c){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),w=this.localCache[p];_!==w&&c(p,w,_)}}onStorageEvent(c,p=!1){if(!c.key)return void this.forAllChangedKeys((R,H,ae)=>{this.notifyListeners(R,ae)});const _=c.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const R=this.storage.getItem(_);if(c.newValue!==R)null!==c.newValue?this.storage.setItem(_,c.newValue):this.storage.removeItem(_);else if(this.localCache[_]===c.newValue&&!p)return}const w=()=>{const R=this.storage.getItem(_);!p&&this.localCache[_]===R||this.notifyListeners(_,R)},D=this.storage.getItem(_);!function ce(){return(0,V.lT)()&&10===document.documentMode}()||D===c.newValue||c.newValue===c.oldValue?w():setTimeout(w,10)}notifyListeners(c,p){this.localCache[c]=p;const _=this.listeners[c];if(_)for(const w of Array.from(_))w(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((c,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:c,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(c,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[c]||(this.listeners[c]=new Set,this.localCache[c]=this.storage.getItem(c)),this.listeners[c].add(p)}_removeListener(c,p){this.listeners[c]&&(this.listeners[c].delete(p),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(c,p){var _=()=>super._set,w=this;return(0,b.A)(function*(){yield _().call(w,c,p),w.localCache[c]=JSON.stringify(p)})()}_get(c){var p=()=>super._get,_=this;return(0,b.A)(function*(){const w=yield p().call(_,c);return _.localCache[c]=JSON.stringify(w),w})()}_remove(c){var p=()=>super._remove,_=this;return(0,b.A)(function*(){yield p().call(_,c),delete _.localCache[c]})()}}return h.type="LOCAL",h})(),fs=(()=>{class h extends Rh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(c,p){}_removeListener(c,p){}}return h.type="SESSION",h})();let Ea=(()=>{class h{constructor(c){this.eventTarget=c,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(c){const p=this.receivers.find(w=>w.isListeningto(c));if(p)return p;const _=new h(c);return this.receivers.push(_),_}isListeningto(c){return this.eventTarget===c}handleEvent(c){var p=this;return(0,b.A)(function*(){const _=c,{eventId:w,eventType:D,data:R}=_.data,H=p.handlersMap[D];if(!H?.size)return;_.ports[0].postMessage({status:"ack",eventId:w,eventType:D});const ae=Array.from(H).map(function(){var _e=(0,b.A)(function*(Lt){return Lt(_.origin,R)});return function(Lt){return _e.apply(this,arguments)}}()),se=yield function nc(h){return Promise.all(h.map(function(){var u=(0,b.A)(function*(c){try{return{fulfilled:!0,value:yield c}}catch(p){return{fulfilled:!1,reason:p}}});return function(c){return u.apply(this,arguments)}}()))}(ae);_.ports[0].postMessage({status:"done",eventId:w,eventType:D,response:se})})()}_subscribe(c,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[c]||(this.handlersMap[c]=new Set),this.handlersMap[c].add(p)}_unsubscribe(c,p){this.handlersMap[c]&&p&&this.handlersMap[c].delete(p),(!p||0===this.handlersMap[c].size)&&delete this.handlersMap[c],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return h.receivers=[],h})();function xl(h="",u=10){let c="";for(let p=0;p<u;p++)c+=Math.floor(10*Math.random());return h+c}class EC{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,c,p=50){var _=this;return(0,b.A)(function*(){const w=typeof MessageChannel<"u"?new MessageChannel:null;if(!w)throw new Error("connection_unavailable");let D,R;return new Promise((H,ae)=>{const se=xl("",20);w.port1.start();const _e=setTimeout(()=>{ae(new Error("unsupported_event"))},p);R={messageChannel:w,onMessage(Lt){const Gi=Lt;if(Gi.data.eventId===se)switch(Gi.data.status){case"ack":clearTimeout(_e),D=setTimeout(()=>{ae(new Error("timeout"))},3e3);break;case"done":clearTimeout(D),H(Gi.data.response);break;default:clearTimeout(_e),clearTimeout(D),ae(new Error("invalid_response"))}}},_.handlers.add(R),w.port1.addEventListener("message",R.onMessage),_.target.postMessage({eventType:u,eventId:se,data:c},[w.port2])}).finally(()=>{R&&_.removeMessageHandler(R)})})()}}function Ye(){return window}function xh(){return typeof Ye().WorkerGlobalScope<"u"&&"function"==typeof Ye().importScripts}function Ph(){return(Ph=(0,b.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rm="firebaseLocalStorageDb",rc="firebaseLocalStorage",ic="fbase_key";class qs{constructor(u){this.request=u}toPromise(){return new Promise((u,c)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{c(this.request.error)})})}}function bt(h,u){return h.transaction([rc],u?"readwrite":"readonly").objectStore(rc)}function Ce(){const h=indexedDB.open(rm,1);return new Promise((u,c)=>{h.addEventListener("error",()=>{c(h.error)}),h.addEventListener("upgradeneeded",()=>{const p=h.result;try{p.createObjectStore(rc,{keyPath:ic})}catch(_){c(_)}}),h.addEventListener("success",(0,b.A)(function*(){const p=h.result;p.objectStoreNames.contains(rc)?u(p):(p.close(),yield function te(){const h=indexedDB.deleteDatabase(rm);return new qs(h).toPromise()}(),u(yield Ce()))}))})}function en(h,u,c){return jr.apply(this,arguments)}function jr(){return(jr=(0,b.A)(function*(h,u,c){const p=bt(h,!0).put({[ic]:u,value:c});return new qs(p).toPromise()})).apply(this,arguments)}function lr(){return(lr=(0,b.A)(function*(h,u){const c=bt(h,!1).get(u),p=yield new qs(c).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function Lo(h,u){const c=bt(h,!0).delete(u);return new qs(c).toPromise()}const Ie=(()=>{class h{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var c=this;return(0,b.A)(function*(){return c.db||(c.db=yield Ce()),c.db})()}_withRetries(c){var p=this;return(0,b.A)(function*(){let _=0;for(;;)try{const w=yield p._openDb();return yield c(w)}catch(w){if(_++>3)throw w;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var c=this;return(0,b.A)(function*(){return xh()?c.initializeReceiver():c.initializeSender()})()}initializeReceiver(){var c=this;return(0,b.A)(function*(){c.receiver=Ea._getInstance(function bC(){return xh()?self:null}()),c.receiver._subscribe("keyChanged",function(){var p=(0,b.A)(function*(_,w){return{keyProcessed:(yield c._poll()).includes(w.key)}});return function(_,w){return p.apply(this,arguments)}}()),c.receiver._subscribe("ping",function(){var p=(0,b.A)(function*(_,w){return["keyChanged"]});return function(_,w){return p.apply(this,arguments)}}())})()}initializeSender(){var c=this;return(0,b.A)(function*(){var p,_;if(c.activeServiceWorker=yield function Pl(){return Ph.apply(this,arguments)}(),!c.activeServiceWorker)return;c.sender=new EC(c.activeServiceWorker);const w=yield c.sender._send("ping",{},800);w&&null!==(p=w[0])&&void 0!==p&&p.fulfilled&&null!==(_=w[0])&&void 0!==_&&_.value.includes("keyChanged")&&(c.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(c){var p=this;return(0,b.A)(function*(){if(p.sender&&p.activeServiceWorker&&function IC(){var h;return(null===(h=navigator?.serviceWorker)||void 0===h?void 0:h.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:c},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.A)(function*(){try{if(!indexedDB)return!1;const c=yield Ce();return yield en(c,tc,"1"),yield Lo(c,tc),!0}catch{}return!1})()}_withPendingWrite(c){var p=this;return(0,b.A)(function*(){p.pendingWrites++;try{yield c()}finally{p.pendingWrites--}})()}_set(c,p){var _=this;return(0,b.A)(function*(){return _._withPendingWrite((0,b.A)(function*(){return yield _._withRetries(w=>en(w,c,p)),_.localCache[c]=p,_.notifyServiceWorker(c)}))})()}_get(c){var p=this;return(0,b.A)(function*(){const _=yield p._withRetries(w=>function Qn(h,u){return lr.apply(this,arguments)}(w,c));return p.localCache[c]=_,_})()}_remove(c){var p=this;return(0,b.A)(function*(){return p._withPendingWrite((0,b.A)(function*(){return yield p._withRetries(_=>Lo(_,c)),delete p.localCache[c],p.notifyServiceWorker(c)}))})()}_poll(){var c=this;return(0,b.A)(function*(){const p=yield c._withRetries(D=>{const R=bt(D,!1).getAll();return new qs(R).toPromise()});if(!p)return[];if(0!==c.pendingWrites)return[];const _=[],w=new Set;if(0!==p.length)for(const{fbase_key:D,value:R}of p)w.add(D),JSON.stringify(c.localCache[D])!==JSON.stringify(R)&&(c.notifyListeners(D,R),_.push(D));for(const D of Object.keys(c.localCache))c.localCache[D]&&!w.has(D)&&(c.notifyListeners(D,null),_.push(D));return _})()}notifyListeners(c,p){this.localCache[c]=p;const _=this.listeners[c];if(_)for(const w of Array.from(_))w(p)}startPolling(){var c=this;this.stopPolling(),this.pollTimer=setInterval((0,b.A)(function*(){return c._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(c,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[c]||(this.listeners[c]=new Set,this._get(c)),this.listeners[c].add(p)}_removeListener(c,p){this.listeners[c]&&(this.listeners[c].delete(p),0===this.listeners[c].size&&delete this.listeners[c]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return h.type="LOCAL",h})(),ps=1e12;class gs{constructor(u){this.auth=u,this.counter=ps,this._widgets=new Map}render(u,c){const p=this.counter;return this._widgets.set(p,new Fl(u,this.auth.name,c||{})),this.counter++,p}reset(u){var c;const p=u||ps;null===(c=this._widgets.get(p))||void 0===c||c.delete(),this._widgets.delete(p)}getResponse(u){var c;return(null===(c=this._widgets.get(u||ps))||void 0===c?void 0:c.getResponse())||""}execute(u){var c=this;return(0,b.A)(function*(){var p;return null===(p=c._widgets.get(u||ps))||void 0===p||p.execute(),""})()}}class Fl{constructor(u,c,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof u?document.getElementById(u):u;Q(_,"argument-error",{appName:c}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function sm(h){const u=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<h;p++)u.push(c.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":c}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,c)try{c()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bi=Yy("rcb"),sc=new F(3e4,6e4);class Vo{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Ye().grecaptcha)||void 0===u||!u.render)}load(u,c=""){return Q(function ke(h){return h.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(h)}(c),u,"argument-error"),this.shouldResolveImmediately(c)&&Ct(Ye().grecaptcha)?Promise.resolve(Ye().grecaptcha):new Promise((p,_)=>{const w=Ye().setTimeout(()=>{_(at(u,"network-request-failed"))},sc.get());Ye()[Bi]=()=>{Ye().clearTimeout(w),delete Ye()[Bi];const R=Ye().grecaptcha;if(!R||!Ct(R))return void _(at(u,"internal-error"));const H=R.render;R.render=(ae,se)=>{const _e=H(ae,se);return this.counter++,_e},this.hostLanguage=c,p(R)},ga(`${function kr(){return ft.recaptchaV2Script}()}?${(0,V.Am)({onload:Bi,render:"explicit",hl:c})}`).catch(()=>{clearTimeout(w),_(at(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var c;return!(null===(c=Ye().grecaptcha)||void 0===c||!c.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Oh{load(u){return(0,b.A)(function*(){return new gs(u)})()}clearedOneInstance(){}}const ba="recaptcha",ji={theme:"light",type:"image"};class oc{constructor(u,c,p=Object.assign({},ji)){this.parameters=p,this.type=ba,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kt(u),this.isInvisible="invisible"===this.parameters.size,Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof c?document.getElementById(c):c;Q(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Oh:new Vo,this.validateStartingState()}verify(){var u=this;return(0,b.A)(function*(){u.assertNotDestroyed();const c=yield u.render(),p=u.getAssertedRecaptcha();return p.getResponse(c)||new Promise(w=>{const D=R=>{R&&(u.tokenChangeListeners.delete(D),w(R))};u.tokenChangeListeners.add(D),u.isInvisible&&p.execute(c)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return c=>{if(this.tokenChangeListeners.forEach(p=>p(c)),"function"==typeof u)u(c);else if("string"==typeof u){const p=Ye()[u];"function"==typeof p&&p(c)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,b.A)(function*(){if(yield u.init(),!u.widgetId){let c=u.container;if(!u.isInvisible){const p=document.createElement("div");c.appendChild(p),c=p}u.widgetId=u.getAssertedRecaptcha().render(c,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,b.A)(function*(){Q(ki()&&!xh(),u.auth,"internal-error"),yield function Da(){let h=null;return new Promise(u=>{"complete"!==document.readyState?(h=()=>u(),window.addEventListener("load",h)):u()}).catch(u=>{throw h&&window.removeEventListener("load",h),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const c=yield function bo(h){return gr.apply(this,arguments)}(u.auth);Q(c,u.auth,"internal-error"),u.parameters.sitekey=c})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zt{constructor(u,c){this.verificationId=u,this.onConfirmation=c}confirm(u){const c=Ue._fromVerification(this.verificationId,u);return this.onConfirmation(c)}}function Rn(){return(Rn=(0,b.A)(function*(h,u,c){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(Ee(h));const p=kt(h),_=yield Cr(p,u,(0,V.Ku)(c));return new Zt(_,w=>Tl(p,w))})).apply(this,arguments)}function Ll(){return(Ll=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h);yield Oo(!1,p,"phone");const _=yield Cr(p.auth,u,(0,V.Ku)(c));return new Zt(_,w=>Ml(p,w))})).apply(this,arguments)}function Sa(){return(Sa=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h);if((0,re._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ee(p.auth));const _=yield Cr(p.auth,u,(0,V.Ku)(c));return new Zt(_,w=>uC(p,w))})).apply(this,arguments)}function Cr(h,u,c){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,b.A)(function*(h,u,c){var p;const _=yield c.verify();try{let w;if(Q("string"==typeof _,h,"argument-error"),Q(c.type===ba,h,"argument-error"),w="string"==typeof u?{phoneNumber:u}:u,"session"in w){const D=w.session;if("phoneNumber"in w)return Q("enroll"===D.type,h,"internal-error"),(yield function Ju(h,u){return de(h,"POST","/v2/accounts/mfaEnrollment:start",K(h,u))}(h,{idToken:D.credential,phoneEnrollmentInfo:{phoneNumber:w.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{Q("signin"===D.type,h,"internal-error");const R=(null===(p=w.multiFactorHint)||void 0===p?void 0:p.uid)||w.multiFactorUid;return Q(R,h,"missing-multi-factor-info"),(yield function Ol(h,u){return de(h,"POST","/v2/accounts/mfaSignIn:start",K(h,u))}(h,{mfaPendingCredential:D.credential,mfaEnrollmentId:R,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:D}=yield function Lg(h,u){return Oe.apply(this,arguments)}(h,{phoneNumber:w.phoneNumber,recaptchaToken:_});return D}}finally{c._reset()}}),Vl.apply(this,arguments)}function Fh(){return(Fh=(0,b.A)(function*(h,u){const c=(0,V.Ku)(h);if((0,re._isFirebaseServerApp)(c.auth.app))return Promise.reject(Ee(c.auth));yield Po(c,u)})).apply(this,arguments)}let Bo=(()=>{class h{constructor(c){this.providerId=h.PROVIDER_ID,this.auth=kt(c)}verifyPhoneNumber(c,p){return Cr(this.auth,c,(0,V.Ku)(p))}static credential(c,p){return Ue._fromVerification(c,p)}static credentialFromResult(c){return h.credentialFromTaggedObject(c)}static credentialFromError(c){return h.credentialFromTaggedObject(c.customData||{})}static credentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{phoneNumber:p,temporaryProof:_}=c;return p&&_?Ue._fromTokenResponse(p,_):null}}return h.PROVIDER_ID="phone",h.PHONE_SIGN_IN_METHOD="phone",h})();function Ks(h,u){return u?It(u):(Q(h._popupRedirectResolver,h,"argument-error"),h._popupRedirectResolver)}class Lh extends me{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return pi(u,this._buildIdpRequest())}_linkToIdToken(u,c){return pi(u,this._buildIdpRequest(c))}_getReauthenticationResolver(u){return pi(u,this._buildIdpRequest())}_buildIdpRequest(u){const c={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(c.idToken=u),c}}function Vh(h){return or(h.auth,new Lh(h),h.bypassAuthState)}function hS(h){const{auth:u,user:c}=h;return Q(c,u,"internal-error"),js(c,new Lh(h),h.bypassAuthState)}function fS(h){return om.apply(this,arguments)}function om(){return(om=(0,b.A)(function*(h){const{auth:u,user:c}=h;return Q(c,u,"internal-error"),Po(c,new Lh(h),h.bypassAuthState)})).apply(this,arguments)}class AC{constructor(u,c,p,_,w=!1){this.auth=u,this.resolver=p,this.user=_,this.bypassAuthState=w,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(c)?c:[c]}execute(){var u=this;return new Promise(function(){var c=(0,b.A)(function*(p,_){u.pendingPromise={resolve:p,reject:_};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(w){u.reject(w)}});return function(p,_){return c.apply(this,arguments)}}())}onAuthEvent(u){var c=this;return(0,b.A)(function*(){const{urlResponse:p,sessionId:_,postBody:w,tenantId:D,error:R,type:H}=u;if(R)return void c.reject(R);const ae={auth:c.auth,requestUri:p,sessionId:_,tenantId:D||void 0,postBody:w||void 0,user:c.user,bypassAuthState:c.bypassAuthState};try{c.resolve(yield c.getIdpTask(H)(ae))}catch(se){c.reject(se)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Vh;case"linkViaPopup":case"linkViaRedirect":return fS;case"reauthViaPopup":case"reauthViaRedirect":return hS;default:ht(this.auth,"internal-error")}}resolve(u){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pS=new F(2e3,1e4);function am(){return(am=(0,b.A)(function*(h,u,c){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(at(h,"operation-not-supported-in-this-environment"));const p=kt(h);Xt(h,u,Vs);const _=Ks(p,c);return new cm(p,"signInViaPopup",u,_).executeNotNull()})).apply(this,arguments)}function lm(){return(lm=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h);if((0,re._isFirebaseServerApp)(p.auth.app))return Promise.reject(at(p.auth,"operation-not-supported-in-this-environment"));Xt(p.auth,u,Vs);const _=Ks(p.auth,c);return new cm(p.auth,"reauthViaPopup",u,_,p).executeNotNull()})).apply(this,arguments)}function um(){return(um=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h);Xt(p.auth,u,Vs);const _=Ks(p.auth,c);return new cm(p.auth,"linkViaPopup",u,_,p).executeNotNull()})).apply(this,arguments)}let cm=(()=>{class h extends AC{constructor(c,p,_,w,D){super(c,p,w,D),this.provider=_,this.authWindow=null,this.pollId=null,h.currentPopupAction&&h.currentPopupAction.cancel(),h.currentPopupAction=this}executeNotNull(){var c=this;return(0,b.A)(function*(){const p=yield c.execute();return Q(p,c.auth,"internal-error"),p})()}onExecution(){var c=this;return(0,b.A)(function*(){Dn(1===c.filter.length,"Popup operations only handle one event");const p=xl();c.authWindow=yield c.resolver._openPopup(c.auth,c.provider,c.filter[0],p),c.authWindow.associatedEvent=p,c.resolver._originValidation(c.auth).catch(_=>{c.reject(_)}),c.resolver._isIframeWebStorageSupported(c.auth,_=>{_||c.reject(at(c.auth,"web-storage-unsupported"))}),c.pollUserCancellation()})()}get eventId(){var c;return(null===(c=this.authWindow)||void 0===c?void 0:c.associatedEvent)||null}cancel(){this.reject(at(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,h.currentPopupAction=null}pollUserCancellation(){const c=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(at(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(c,pS.get())};c()}}return h.currentPopupAction=null,h})();const dm="pendingRedirect",Aa=new Map;class vS extends AC{constructor(u,c,p=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],c,void 0,p),this.eventId=null}execute(){var u=()=>super.execute,c=this;return(0,b.A)(function*(){let p=Aa.get(c.auth._key());if(!p){try{const w=(yield function yS(h,u){return hm.apply(this,arguments)}(c.resolver,c.auth))?yield u().call(c):null;p=()=>Promise.resolve(w)}catch(_){p=()=>Promise.reject(_)}Aa.set(c.auth._key(),p)}return c.bypassAuthState||Aa.set(c.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(u){var c=()=>super.onAuthEvent,p=this;return(0,b.A)(function*(){if("signInViaRedirect"===u.type)return c().call(p,u);if("unknown"!==u.type){if(u.eventId){const _=yield p.auth._redirectUserForId(u.eventId);if(_)return p.user=_,c().call(p,u);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,b.A)(function*(){})()}cleanUp(){}}function hm(){return(hm=(0,b.A)(function*(h,u){const c=gm(u),p=Bh(h);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(c));return yield p._remove(c),_})).apply(this,arguments)}function fm(h,u){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,b.A)(function*(h,u){return Bh(h)._set(gm(u),"true")})).apply(this,arguments)}function wr(h,u){Aa.set(h._key(),u)}function Bh(h){return It(h._redirectPersistence)}function gm(h){return He(dm,h.config.apiKey,h.name)}function TC(h,u,c){return function mm(h,u,c){return ac.apply(this,arguments)}(h,u,c)}function ac(){return(ac=(0,b.A)(function*(h,u,c){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(Ee(h));const p=kt(h);Xt(h,u,Vs),yield p._initializationPromise;const _=Ks(p,c);return yield fm(_,p),_._openRedirect(p,u,"signInViaRedirect")})).apply(this,arguments)}function MC(h,u,c){return function jh(h,u,c){return Hh.apply(this,arguments)}(h,u,c)}function Hh(){return(Hh=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h);if(Xt(p.auth,u,Vs),(0,re._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ee(p.auth));yield p.auth._initializationPromise;const _=Ks(p.auth,c);yield fm(_,p.auth);const w=yield uc(p);return _._openRedirect(p.auth,u,"reauthViaRedirect",w)})).apply(this,arguments)}function Hi(h,u,c){return function _m(h,u,c){return lc.apply(this,arguments)}(h,u,c)}function lc(){return(lc=(0,b.A)(function*(h,u,c){const p=(0,V.Ku)(h);Xt(p.auth,u,Vs),yield p.auth._initializationPromise;const _=Ks(p.auth,c);yield Oo(!1,p,u.providerId),yield fm(_,p.auth);const w=yield uc(p);return _._openRedirect(p.auth,u,"linkViaRedirect",w)})).apply(this,arguments)}function $h(){return($h=(0,b.A)(function*(h,u){return yield kt(h)._initializationPromise,Wh(h,u,!1)})).apply(this,arguments)}function Wh(h,u){return pt.apply(this,arguments)}function pt(){return(pt=(0,b.A)(function*(h,u,c=!1){if((0,re._isFirebaseServerApp)(h.app))return Promise.reject(Ee(h));const p=kt(h),_=Ks(p,u),D=yield new vS(p,_,c).execute();return D&&!c&&(delete D.user._redirectEventId,yield p._persistUserIfCurrent(D.user),yield p._setRedirectUser(null,u)),D})).apply(this,arguments)}function uc(h){return jo.apply(this,arguments)}function jo(){return(jo=(0,b.A)(function*(h){const u=xl(`${h.uid}:::`);return h._redirectEventId=u,yield h.auth._setRedirectUser(h),yield h.auth._persistUserIfCurrent(h),u})).apply(this,arguments)}class ym{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let c=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(u,p)&&(c=!0,this.sendToConsumer(u,p),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function Hr(h){switch(h.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ho(h);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,c||(this.queuedRedirectEvent=u,c=!0)),c}sendToConsumer(u,c){var p;if(u.error&&!Ho(u)){const _=(null===(p=u.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";c.onError(at(this.auth,_))}else c.onAuthEvent(u)}isEventForConsumer(u,c){const p=null===c.eventId||!!u.eventId&&u.eventId===c.eventId;return c.filter.includes(u.type)&&p}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ta(u))}saveEventToCache(u){this.cachedEventUids.add(Ta(u)),this.lastProcessedEventTime=Date.now()}}function Ta(h){return[h.type,h.eventId,h.sessionId,h.tenantId].filter(u=>u).join("-")}function Ho({type:h,error:u}){return"unknown"===h&&"auth/no-auth-event"===u?.code}function Cm(h){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,b.A)(function*(h,u={}){return de(h,"GET","/v1/projects",u)})).apply(this,arguments)}const NC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$i=/^https?/;function zh(){return(zh=(0,b.A)(function*(h){if(h.config.emulator)return;const{authorizedDomains:u}=yield Cm(h);for(const c of u)try{if(Em(c))return}catch{}ht(h,"unauthorized-domain")})).apply(this,arguments)}function Em(h){const u=Rr(),{protocol:c,hostname:p}=new URL(u);if(h.startsWith("chrome-extension://")){const D=new URL(h);return""===D.hostname&&""===p?"chrome-extension:"===c&&h.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===c&&D.hostname===p}if(!$i.test(c))return!1;if(NC.test(h))return p===h;const _=h.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const Gh=new F(3e4,6e4);function cc(){const h=Ye().___jsl;if(h?.H)for(const u of Object.keys(h.H))if(h.H[u].r=h.H[u].r||[],h.H[u].L=h.H[u].L||[],h.H[u].r=[...h.H[u].L],h.CP)for(let c=0;c<h.CP.length;c++)h.CP[c]=null}let $o=null;const Wo=new F(5e3,15e3),xe="__/auth/iframe",Im="emulator/auth/iframe",CS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xC(h){const u=h.config;Q(u.authDomain,h,"auth-domain-config-required");const c=u.emulator?L(u,Im):`https://${h.config.authDomain}/${xe}`,p={apiKey:u.apiKey,appName:h.name,v:re.SDK_VERSION},_=RC.get(h.config.apiHost);_&&(p.eid=_);const w=h._getFrameworks();return w.length&&(p.fw=w.join(",")),`${c}?${(0,V.Am)(p).slice(1)}`}function dc(){return dc=(0,b.A)(function*(h){const u=yield function qh(h){return $o=$o||function Bl(h){return new Promise((u,c)=>{var p,_,w;function D(){cc(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{cc(),c(at(h,"network-request-failed"))},timeout:Gh.get()})}if(null!==(_=null===(p=Ye().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)u(gapi.iframes.getContext());else{if(null===(w=Ye().gapi)||void 0===w||!w.load){const R=Yy("iframefcb");return Ye()[R]=()=>{gapi.load?D():c(at(h,"network-request-failed"))},ga(`${function Ky(){return ft.gapiScript}()}?onload=${R}`).catch(H=>c(H))}D()}}).catch(u=>{throw $o=null,u})}(h),$o}(h),c=Ye().gapi;return Q(c,h,"internal-error"),u.open({where:document.body,url:xC(h),messageHandlersFilter:c.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CS,dontclear:!0},p=>new Promise(function(){var _=(0,b.A)(function*(w,D){yield p.restyle({setHideOnLeave:!1});const R=at(h,"network-request-failed"),H=Ye().setTimeout(()=>{D(R)},Wo.get());function ae(){Ye().clearTimeout(H),w(p)}p.ping(ae).then(ae,()=>{D(R)})});return function(w,D){return _.apply(this,arguments)}}()))}),dc.apply(this,arguments)}const Ma={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bm{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const _i="__/auth/handler",vi="emulator/auth/handler",_t=encodeURIComponent("fac");function hc(h,u,c,p,_,w){return zo.apply(this,arguments)}function zo(){return(zo=(0,b.A)(function*(h,u,c,p,_,w){Q(h.config.authDomain,h,"auth-domain-config-required"),Q(h.config.apiKey,h,"invalid-api-key");const D={apiKey:h.config.apiKey,appName:h.name,authType:c,redirectUrl:p,v:re.SDK_VERSION,eventId:_};if(u instanceof Vs){u.setDefaultLanguage(h.languageCode),D.providerId=u.providerId||"",(0,V.Im)(u.getCustomParameters())||(D.customParameters=JSON.stringify(u.getCustomParameters()));for(const[se,_e]of Object.entries(w||{}))D[se]=_e}if(u instanceof Vi){const se=u.getScopes().filter(_e=>""!==_e);se.length>0&&(D.scopes=se.join(","))}h.tenantId&&(D.tid=h.tenantId);const R=D;for(const se of Object.keys(R))void 0===R[se]&&delete R[se];const H=yield h._getAppCheckToken(),ae=H?`#${_t}=${encodeURIComponent(H)}`:"";return`${function Wi({config:h}){return h.emulator?L(h,vi):`https://${h.authDomain}/${_i}`}(h)}?${(0,V.Am)(R).slice(1)}${ae}`})).apply(this,arguments)}const jl="webStorageSupport",Dm=class Kh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fs,this._completeRedirectFn=Wh,this._overrideRedirectResult=wr}_openPopup(u,c,p,_){var w=this;return(0,b.A)(function*(){var D;Dn(null===(D=w.eventManagers[u._key()])||void 0===D?void 0:D.manager,"_initialize() not called before _openPopup()");const R=yield hc(u,c,p,Rr(),_);return function j(h,u,c,p=500,_=600){const w=Math.max((window.screen.availHeight-_)/2,0).toString(),D=Math.max((window.screen.availWidth-p)/2,0).toString();let R="";const H=Object.assign(Object.assign({},Ma),{width:p.toString(),height:_.toString(),top:w,left:D}),ae=(0,V.ZQ)().toLowerCase();c&&(R=Ou(ae)?"_blank":c),ls(ae)&&(u=u||"http://localhost",H.scrollbars="yes");const se=Object.entries(H).reduce((Lt,[Gi,Pa])=>`${Lt}${Gi}=${Pa},`,"");if(function W(h=(0,V.ZQ)()){var u;return k(h)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(ae)&&"_self"!==R)return function Qe(h,u){const c=document.createElement("a");c.href=h,c.target=u;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),c.dispatchEvent(p)}(u||"",R),new bm(null);const _e=window.open(u||"",R,se);Q(_e,h,"popup-blocked");try{_e.focus()}catch{}return new bm(_e)}(u,R,xl())})()}_openRedirect(u,c,p,_){var w=this;return(0,b.A)(function*(){return yield w._originValidation(u),function nm(h){Ye().location.href=h}(yield hc(u,c,p,Rr(),_)),new Promise(()=>{})})()}_initialize(u){const c=u._key();if(this.eventManagers[c]){const{manager:_,promise:w}=this.eventManagers[c];return _?Promise.resolve(_):(Dn(w,"If manager is not set, promise should be"),w)}const p=this.initAndGetManager(u);return this.eventManagers[c]={promise:p},p.catch(()=>{delete this.eventManagers[c]}),p}initAndGetManager(u){var c=this;return(0,b.A)(function*(){const p=yield function PC(h){return dc.apply(this,arguments)}(u),_=new ym(u);return p.register("authEvent",w=>(Q(w?.authEvent,u,"invalid-auth-event"),{status:_.onEvent(w.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),c.eventManagers[u._key()]={manager:_},c.iframes[u._key()]=p,_})()}_isIframeWebStorageSupported(u,c){this.iframes[u._key()].send(jl,{type:jl},_=>{var w;const D=null===(w=_?.[0])||void 0===w?void 0:w[jl];void 0!==D&&c(!!D),ht(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const c=u._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function wm(h){return zh.apply(this,arguments)}(u)),this.originValidationPromises[c]}get _shouldInitProactively(){return De()||pa()||k()}};class VC{constructor(u){this.factorId=u}_process(u,c,p){switch(c.type){case"enroll":return this._finalizeEnroll(u,c.credential,p);case"signin":return this._finalizeSignIn(u,c.credential);default:return hn("unexpected MultiFactorSessionType")}}}class fc extends VC{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new fc(u)}_finalizeEnroll(u,c,p){return function vC(h,u){return de(h,"POST","/v2/accounts/mfaEnrollment:finalize",K(h,u))}(u,{idToken:c,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,c){return function im(h,u){return de(h,"POST","/v2/accounts/mfaSignIn:finalize",K(h,u))}(u,{mfaPendingCredential:c,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cr=(()=>{class h{constructor(){}static assertion(c){return fc._fromCredential(c)}}return h.FACTOR_ID="phone",h})();var Sm="@firebase/auth";class UC{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var c=this;return(0,b.A)(function*(){return c.assertAuthConfigured(),yield c.auth._initializationPromise,c.auth.currentUser?{accessToken:yield c.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const c=this.auth.onIdTokenChanged(p=>{u(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,c),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const c=this.internalListeners.get(u);c&&(this.internalListeners.delete(u),c(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qs(){return window}(0,V.XA)("authIdTokenMaxAge"),function Te(h){ft=h}({loadJS:h=>new Promise((u,c)=>{const p=document.createElement("script");p.setAttribute("src",h),p.onload=u,p.onerror=_=>{const w=at("internal-error");w.customData=_,c(w)},p.type="text/javascript",p.charset="UTF-8",function Jh(){var h,u;return null!==(u=null===(h=document.getElementsByTagName("head"))||void 0===h?void 0:h[0])&&void 0!==u?u:document}().appendChild(p)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Qh(h){(0,re._registerComponent)(new ye.uA("auth",(u,{options:c})=>{const p=u.getProvider("app").getImmediate(),_=u.getProvider("heartbeat"),w=u.getProvider("app-check-internal"),{apiKey:D,authDomain:R}=p.options;Q(D&&!D.includes(":"),"invalid-api-key",{appName:p.name});const H={apiKey:D,authDomain:R,clientPlatform:h,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ge(h)},ae=new rh(p,_,w,H);return function Ae(h,u){const c=u?.persistence||[],p=(Array.isArray(c)?c:[c]).map(It);u?.errorMap&&h._updateErrorMap(u.errorMap),h._initializeWithPersistence(p,u?.popupRedirectResolver)}(ae,c),ae},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,c,p)=>{u.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new ye.uA("auth-internal",u=>{const c=kt(u.getProvider("auth").getImmediate());return new UC(c)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(Sm,"1.7.1",function BC(h){switch(h){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(h)),(0,re.registerVersion)(Sm,"1.7.1","esm2017")}("Browser");function gc(){return gc=(0,b.A)(function*(h,u,c){var p;const{BuildInfo:_}=Qs();Dn(u.sessionId,"AuthEvent did not contain a session ID");const w=yield function WC(h){return nf.apply(this,arguments)}(u.sessionId),D={};return k()?D.ibi=_.packageName:Fs()?D.apn=_.packageName:ht(h,"operation-not-supported-in-this-environment"),_.displayName&&(D.appDisplayName=_.displayName),D.sessionId=w,hc(h,c,u.type,void 0,null!==(p=u.eventId)&&void 0!==p?p:void 0,D)}),gc.apply(this,arguments)}function tf(){return(tf=(0,b.A)(function*(h){const{BuildInfo:u}=Qs(),c={};k()?c.iosBundleId=u.packageName:Fs()?c.androidPackageName=u.packageName:ht(h,"operation-not-supported-in-this-environment"),yield Cm(h,c)})).apply(this,arguments)}function wt(){return(wt=(0,b.A)(function*(h,u,c){const{cordova:p}=Qs();let _=()=>{};try{yield new Promise((w,D)=>{let R=null;function H(){var _e;w();const Lt=null===(_e=p.plugins.browsertab)||void 0===_e?void 0:_e.close;"function"==typeof Lt&&Lt(),"function"==typeof c?.close&&c.close()}function ae(){R||(R=window.setTimeout(()=>{D(at(h,"redirect-cancelled-by-user"))},2e3))}function se(){"visible"===document?.visibilityState&&ae()}u.addPassiveListener(H),document.addEventListener("resume",ae,!1),Fs()&&document.addEventListener("visibilitychange",se,!1),_=()=>{u.removePassiveListener(H),document.removeEventListener("resume",ae,!1),document.removeEventListener("visibilitychange",se,!1),R&&window.clearTimeout(R)}})}finally{_()}})).apply(this,arguments)}function nf(){return(nf=(0,b.A)(function*(h){const u=function zC(h){if(Dn(/[0-9a-zA-Z]+/.test(h),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(h);const u=new ArrayBuffer(h.length),c=new Uint8Array(u);for(let p=0;p<h.length;p++)c[p]=h.charCodeAt(p);return c}(h),c=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(c)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Nm extends ym{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(c=>c(u)),super.onEvent(u)}initialized(){var u=this;return(0,b.A)(function*(){yield u.initPromise})()}}function Rm(h){return Na.apply(this,arguments)}function Na(){return(Na=(0,b.A)(function*(h){const u=yield Wl()._get(vc(h));return u&&(yield Wl()._remove(vc(h))),u})).apply(this,arguments)}function _c(){const h=[];for(let c=0;c<20;c++){const p=Math.floor(62*Math.random());h.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return h.join("")}function Wl(){return It(wa)}function vc(h){return He("authEvent",h.config.apiKey,h.name)}function ms(h){if(!h?.includes("?"))return{};const[u,...c]=h.split("?");return(0,V.I9)(c.join("?"))}const rf=class qC{constructor(){this._redirectPersistence=fs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wh,this._overrideRedirectResult=wr}_initialize(u){var c=this;return(0,b.A)(function*(){const p=u._key();let _=c.eventManagers.get(p);return _||(_=new Nm(u),c.eventManagers.set(p,_),c.attachCallbackListeners(u,_)),_})()}_openPopup(u){ht(u,"operation-not-supported-in-this-environment")}_openRedirect(u,c,p,_){var w=this;return(0,b.A)(function*(){!function $C(h){var u,c,p,_,w,D,R,H,ae,se;const _e=Qs();Q("function"==typeof(null===(u=_e?.universalLinks)||void 0===u?void 0:u.subscribe),h,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof(null===(c=_e?.BuildInfo)||void 0===c?void 0:c.packageName)<"u",h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(w=null===(_=null===(p=_e?.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===w?void 0:w.openUrl),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(H=null===(R=null===(D=_e?.cordova)||void 0===D?void 0:D.plugins)||void 0===R?void 0:R.browsertab)||void 0===H?void 0:H.isAvailable),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(se=null===(ae=_e?.cordova)||void 0===ae?void 0:ae.InAppBrowser)||void 0===se?void 0:se.open),h,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const D=yield w._initialize(u);yield D.initialized(),D.resetRedirect(),function pm(){Aa.clear()}(),yield w._originValidation(u);const R=function $l(h,u,c=null){return{type:u,eventId:c,urlResponse:null,sessionId:_c(),postBody:null,tenantId:h.tenantId,error:at(h,"no-auth-event")}}(u,p,_);yield function zi(h,u){return Wl()._set(vc(h),u)}(u,R);const H=yield function Tm(h,u,c){return gc.apply(this,arguments)}(u,R,c),ae=yield function Xn(h){const{cordova:u}=Qs();return new Promise(c=>{u.plugins.browsertab.isAvailable(p=>{let _=null;p?u.plugins.browsertab.openUrl(h):_=u.InAppBrowser.open(h,function x(h=(0,V.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(h)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(h)}()?"_blank":"_system","location=yes"),c(_)})})}(H);return function Go(h,u,c){return wt.apply(this,arguments)}(u,D,ae)})()}_isIframeWebStorageSupported(u,c){throw new Error("Method not implemented.")}_originValidation(u){const c=u._key();return this.originValidationPromises[c]||(this.originValidationPromises[c]=function ef(h){return tf.apply(this,arguments)}(u)),this.originValidationPromises[c]}attachCallbackListeners(u,c){const{universalLinks:p,handleOpenURL:_,BuildInfo:w}=Qs(),D=setTimeout((0,b.A)(function*(){yield Rm(u),c.onEvent(Pm())}),500),R=function(){var se=(0,b.A)(function*(_e){clearTimeout(D);const Lt=yield Rm(u);let Gi=null;Lt&&_e?.url&&(Gi=function mc(h,u){var c,p;const _=function GC(h){const u=ms(h),c=u.link?decodeURIComponent(u.link):void 0,p=ms(c).link,_=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return ms(_).link||_||p||c||h}(u);if(_.includes("/__/auth/callback")){const w=ms(_),D=w.firebaseError?function xm(h){try{return JSON.parse(h)}catch{return null}}(decodeURIComponent(w.firebaseError)):null,R=null===(p=null===(c=D?.code)||void 0===c?void 0:c.split("auth/"))||void 0===p?void 0:p[1],H=R?at(R):null;return H?{type:h.type,eventId:h.eventId,tenantId:h.tenantId,error:H,urlResponse:null,sessionId:null,postBody:null}:{type:h.type,eventId:h.eventId,tenantId:h.tenantId,sessionId:h.sessionId,urlResponse:_,postBody:null}}return null}(Lt,_e.url)),c.onEvent(Gi||Pm())});return function(Lt){return se.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,R);const H=_,ae=`${w.packageName.toLowerCase()}://`;Qs().handleOpenURL=function(){var se=(0,b.A)(function*(_e){if(_e.toLowerCase().startsWith(ae)&&R({url:_e}),"function"==typeof H)try{H(_e)}catch(Lt){console.error(Lt)}});return function(_e){return se.apply(this,arguments)}}()}};function Pm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:at("no-auth-event")}}function qo(){var h;return(null===(h=self?.location)||void 0===h?void 0:h.protocol)||null}function Om(h=(0,V.ZQ)()){return!("file:"!==qo()&&"ionic:"!==qo()&&"capacitor:"!==qo()||!h.toLowerCase().match(/iphone|ipad|ipod|android/))}function af(){try{const h=self.localStorage,u=xl();if(h)return h.setItem(u,"1"),h.removeItem(u),!function IS(h=(0,V.ZQ)()){return function sf(){return(0,V.lT)()&&11===document?.documentMode}()||function yc(h=(0,V.ZQ)()){return/Edge\/\d+/.test(h)}(h)}()||(0,V.zW)()}catch{return Cc()&&(0,V.zW)()}return!1}function Cc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function lf(){return(function Gl(){return"http:"===qo()||"https:"===qo()}()||(0,V.sr)()||Om())&&!function ql(){return(0,V.lV)()||(0,V.Ll)()}()&&af()&&!Cc()}function yi(){return Om()&&typeof document<"u"}function Ra(){return(Ra=(0,b.A)(function*(){return!!yi()&&new Promise(h=>{const u=setTimeout(()=>{h(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),h(!0)})})})).apply(this,arguments)}const Er={LOCAL:"local",NONE:"none",SESSION:"session"},Zs=Q,wc="persistence";function Ec(h){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,b.A)(function*(h){yield h._initializationPromise;const u=cf(),c=He(wc,h.config.apiKey,h.name);u&&u.setItem(c,h._getPersistence())})).apply(this,arguments)}function cf(){var h;try{return(null===(h=function uf(){return typeof window<"u"?window:null}())||void 0===h?void 0:h.sessionStorage)||null}catch{return null}}const XC=Q;class Ci{constructor(){this.browserResolver=It(Dm),this.cordovaResolver=It(rf),this.underlyingResolver=null,this._redirectPersistence=fs,this._completeRedirectFn=Wh,this._overrideRedirectResult=wr}_initialize(u){var c=this;return(0,b.A)(function*(){return yield c.selectUnderlyingResolver(),c.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,c,p,_){var w=this;return(0,b.A)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openPopup(u,c,p,_)})()}_openRedirect(u,c,p,_){var w=this;return(0,b.A)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._openRedirect(u,c,p,_)})()}_isIframeWebStorageSupported(u,c){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,c)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return yi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return XC(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,b.A)(function*(){if(u.underlyingResolver)return;const c=yield function QC(){return Ra.apply(this,arguments)}();u.underlyingResolver=c?u.cordovaResolver:u.browserResolver})()}}function Xs(h){return h.unwrap()}function Fm(h){return Ko(h)}function Ko(h){const{_tokenResponse:u}=h instanceof V.g?h.customData:h;if(!u)return null;if(!(h instanceof V.g)&&"temporaryProof"in u&&"phoneNumber"in u)return Bo.credentialFromResult(h);const c=u.providerId;if(!c||c===ot.PASSWORD)return null;let p;switch(c){case ot.GOOGLE:p=jg;break;case ot.FACEBOOK:p=Sl;break;case ot.GITHUB:p=Hg;break;case ot.TWITTER:p=ds;break;default:const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:D,pendingToken:R,nonce:H}=u;return w||D||_||R?R?c.startsWith("saml.")?xo._create(c,R):yr._fromParams({providerId:c,signInMethod:c,pendingToken:R,idToken:_,accessToken:w}):new Us(c).credential({idToken:_,accessToken:w,rawNonce:H}):null}return h instanceof V.g?p.credentialFromError(h):p.credentialFromResult(h)}function mn(h,u){return u.catch(c=>{throw c instanceof V.g&&function Lm(h,u){var c;const p=null===(c=u.customData)||void 0===c?void 0:c._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new xn(h,function Nh(h,u){var c;const p=(0,V.Ku)(h),_=u;return Q(u.customData.operationType,p,"argument-error"),Q(null===(c=_.customData._serverResponse)||void 0===c?void 0:c.mfaPendingCredential,p,"argument-error"),Mh._fromError(p,_)}(h,u));else if(p){const _=Ko(u),w=u;_&&(w.credential=_,w.tenantId=p.tenantId||void 0,w.email=p.email||void 0,w.phoneNumber=p.phoneNumber||void 0)}}(h,c),c}).then(c=>{const _=c.user;return{operationType:c.operationType,credential:Fm(c),additionalUserInfo:Zu(c),user:wi.getOrCreate(_)}})}function ln(h,u){return df.apply(this,arguments)}function df(){return(df=(0,b.A)(function*(h,u){const c=yield u;return{verificationId:c.verificationId,confirm:p=>mn(h,c.confirm(p))}})).apply(this,arguments)}class xn{constructor(u,c){this.resolver=c,this.auth=function JC(h){return h.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return mn(Xs(this.auth),this.resolver.resolveSignIn(u))}}class wi{constructor(u){this._delegate=u,this.multiFactor=function yC(h){const u=(0,V.Ku)(h);return Rl.has(u)||Rl.set(u,zs._fromUser(u)),Rl.get(u)}(u)}static getOrCreate(u){return wi.USER_MAP.has(u)||wi.USER_MAP.set(u,new wi(u)),wi.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var c=this;return(0,b.A)(function*(){return mn(c.auth,Ml(c._delegate,u))})()}linkWithPhoneNumber(u,c){var p=this;return(0,b.A)(function*(){return ln(p.auth,function Zn(h,u,c){return Ll.apply(this,arguments)}(p._delegate,u,c))})()}linkWithPopup(u){var c=this;return(0,b.A)(function*(){return mn(c.auth,function _S(h,u,c){return um.apply(this,arguments)}(c._delegate,u,Ci))})()}linkWithRedirect(u){var c=this;return(0,b.A)(function*(){return yield Ec(kt(c.auth)),Hi(c._delegate,u,Ci)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var c=this;return(0,b.A)(function*(){return mn(c.auth,uC(c._delegate,u))})()}reauthenticateWithPhoneNumber(u,c){return ln(this.auth,function Uo(h,u,c){return Sa.apply(this,arguments)}(this._delegate,u,c))}reauthenticateWithPopup(u){return mn(this.auth,function mS(h,u,c){return lm.apply(this,arguments)}(this._delegate,u,Ci))}reauthenticateWithRedirect(u){var c=this;return(0,b.A)(function*(){return yield Ec(kt(c.auth)),MC(c._delegate,u,Ci)})()}sendEmailVerification(u){return function fC(h,u){return Qu.apply(this,arguments)}(this._delegate,u)}unlink(u){var c=this;return(0,b.A)(function*(){return yield function lC(h,u){return dh.apply(this,arguments)}(c._delegate,u),c})()}updateEmail(u){return function mi(h,u){const c=(0,V.Ku)(h);return(0,re._isFirebaseServerApp)(c.auth.app)?Promise.reject(Ee(c.auth)):Re(c,u,null)}(this._delegate,u)}updatePassword(u){return function Yg(h,u){return Re((0,V.Ku)(h),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function SC(h,u){return Fh.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function mC(h,u){return bh.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,c){return function pC(h,u,c){return Ih.apply(this,arguments)}(this._delegate,u,c)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}wi.USER_MAP=new WeakMap;const Kl=Q;let hf=(()=>{class h{constructor(c,p){if(this.app=c,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=c.options;Kl(_,"invalid-api-key",{appName:c.name}),Kl(_,"invalid-api-key",{appName:c.name});const w=typeof window<"u"?Ci:void 0;this._delegate=p.initialize({options:{persistence:ew(_,c.name),popupRedirectResolver:w}}),this._delegate._updateErrorMap(In),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(c){this._delegate.languageCode=c}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(c){this._delegate.tenantId=c}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(c,p){!function Jy(h,u,c){const p=kt(h);Q(p._canInitEmulator,p,"emulator-config-failed"),Q(/^https?:\/\//.test(u),p,"invalid-emulator-scheme");const _=!!c?.disableWarnings,w=eC(u),{host:D,port:R}=function nS(h){const u=eC(h),c=/(\/\/)?([^?#/]+)/.exec(h.substr(u.length));if(!c)return{host:"",port:null};const p=c[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const w=_[1];return{host:w,port:tC(p.substr(w.length+1))}}{const[w,D]=p.split(":");return{host:w,port:tC(D)}}}(u);p.config.emulator={url:`${w}//${D}${null===R?"":`:${R}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:D,port:R,protocol:w.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function rS(){function h(){const u=document.createElement("p"),c=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",c.position="fixed",c.width="100%",c.backgroundColor="#ffffff",c.border=".1em solid #000000",c.color="#b50000",c.bottom="0px",c.left="0px",c.margin="0px",c.zIndex="10000",c.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",h):h())}()}(this._delegate,c,p)}applyActionCode(c){return function Rt(h,u){return _h.apply(this,arguments)}(this._delegate,c)}checkActionCode(c){return qu(this._delegate,c)}confirmPasswordReset(c,p){return function Gu(h,u,c){return Vr.apply(this,arguments)}(this._delegate,c,p)}createUserWithEmailAndPassword(c,p){var _=this;return(0,b.A)(function*(){return mn(_._delegate,function qg(h,u,c){return Yu.apply(this,arguments)}(_._delegate,c,p))})()}fetchProvidersForEmail(c){return this.fetchSignInMethodsForEmail(c)}fetchSignInMethodsForEmail(c){return function hC(h,u){return Eh.apply(this,arguments)}(this._delegate,c)}isSignInWithEmailLink(c){return function dC(h,u){const c=Mn.parseLink(u);return"EMAIL_SIGNIN"===c?.operation}(0,c)}getRedirectResult(){var c=this;return(0,b.A)(function*(){Kl(lf(),c._delegate,"operation-not-supported-in-this-environment");const p=yield function vm(h,u){return $h.apply(this,arguments)}(c._delegate,Ci);return p?mn(c._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(c){!function KC(h,u){kt(h)._logFramework(u)}(this._delegate,c)}onAuthStateChanged(c,p,_){const{next:w,error:D,complete:R}=xa(c,p,_);return this._delegate.onAuthStateChanged(w,D,R)}onIdTokenChanged(c,p,_){const{next:w,error:D,complete:R}=xa(c,p,_);return this._delegate.onIdTokenChanged(w,D,R)}sendSignInLinkToEmail(c,p){return function vh(h,u,c){return yh.apply(this,arguments)}(this._delegate,c,p)}sendPasswordResetEmail(c,p){return function mh(h,u,c){return ya.apply(this,arguments)}(this._delegate,c,p||void 0)}setPersistence(c){var p=this;return(0,b.A)(function*(){let _;switch(function ZC(h,u){Zs(Object.values(Er).includes(u),h,"invalid-persistence-type"),(0,V.lV)()?Zs(u!==Er.SESSION,h,"unsupported-persistence-type"):(0,V.Ll)()?Zs(u===Er.NONE,h,"unsupported-persistence-type"):Cc()?Zs(u===Er.NONE||u===Er.LOCAL&&(0,V.zW)(),h,"unsupported-persistence-type"):Zs(u===Er.NONE||af(),h,"unsupported-persistence-type")}(p._delegate,c),c){case Er.SESSION:_=fs;break;case Er.LOCAL:_=(yield It(Ie)._isAvailable())?Ie:wa;break;case Er.NONE:_=jn;break;default:return ht("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(c){return this.signInWithCredential(c)}signInAnonymously(){return mn(this._delegate,function ju(h){return Al.apply(this,arguments)}(this._delegate))}signInWithCredential(c){return mn(this._delegate,Tl(this._delegate,c))}signInWithCustomToken(c){return mn(this._delegate,function gh(h,u){return $s.apply(this,arguments)}(this._delegate,c))}signInWithEmailAndPassword(c,p){return mn(this._delegate,function cC(h,u,c){return(0,re._isFirebaseServerApp)(h.app)?Promise.reject(Ee(h)):Tl((0,V.Ku)(h),Bg.credential(u,c)).catch(function(){var p=(0,b.A)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&hs(h),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,c,p))}signInWithEmailLink(c,p){return mn(this._delegate,function gi(h,u,c){return Ch.apply(this,arguments)}(this._delegate,c,p))}signInWithPhoneNumber(c,p){return ln(this._delegate,function kh(h,u,c){return Rn.apply(this,arguments)}(this._delegate,c,p))}signInWithPopup(c){var p=this;return(0,b.A)(function*(){return Kl(lf(),p._delegate,"operation-not-supported-in-this-environment"),mn(p._delegate,function gS(h,u,c){return am.apply(this,arguments)}(p._delegate,c,Ci))})()}signInWithRedirect(c){var p=this;return(0,b.A)(function*(){return Kl(lf(),p._delegate,"operation-not-supported-in-this-environment"),yield Ec(p._delegate),TC(p._delegate,c,Ci)})()}updateCurrentUser(c){return this._delegate.updateCurrentUser(c)}verifyPasswordResetCode(c){return function Gg(h,u){return ko.apply(this,arguments)}(this._delegate,c)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return h.Persistence=Er,h})();function xa(h,u,c){let p=h;"function"!=typeof h&&({next:p,error:u,complete:c}=h);const _=p;return{next:D=>_(D&&wi.getOrCreate(D)),error:u,complete:c}}function ew(h,u){const c=function km(h,u){const c=cf();if(!c)return[];const p=He(wc,h,u);switch(c.getItem(p)){case Er.NONE:return[jn];case Er.LOCAL:return[Ie,fs];case Er.SESSION:return[fs];default:return[]}}(h,u);if(typeof self<"u"&&!c.includes(Ie)&&c.push(Ie),typeof window<"u")for(const p of[wa,fs])c.includes(p)||c.push(p);return c.includes(jn)||c.push(jn),c}class bc{constructor(){this.providerId="phone",this._delegate=new Bo(Xs(Pe.A.auth()))}static credential(u,c){return Bo.credential(u,c)}verifyPhoneNumber(u,c){return this._delegate.verifyPhoneNumber(u,c)}unwrap(){return this._delegate}}bc.PHONE_SIGN_IN_METHOD=Bo.PHONE_SIGN_IN_METHOD,bc.PROVIDER_ID=Bo.PROVIDER_ID;const ff=Q;class Dc{constructor(u,c,p=Pe.A.app()){var _;ff(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new oc(p.auth(),u,c),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function tw(h){h.INTERNAL.registerComponent(new ye.uA("auth-compat",u=>{const c=u.getProvider("app-compat").getImmediate(),p=u.getProvider("auth");return new hf(c,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Bg,FacebookAuthProvider:Sl,GithubAuthProvider:Hg,GoogleAuthProvider:jg,OAuthProvider:Us,SAMLAuthProvider:Bu,PhoneAuthProvider:bc,PhoneMultiFactorGenerator:cr,RecaptchaVerifier:Dc,TwitterAuthProvider:ds,Auth:hf,AuthCredential:me,Error:V.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),h.registerVersion("@firebase/auth-compat","0.5.6")}(Pe.A)},467:(is,Vn,Fe)=>{function b(re,V,Gt,mt,ye,Un,ot){try{var Y=re[Un](ot),Z=Y.value}catch(ve){return void Gt(ve)}Y.done?V(Z):Promise.resolve(Z).then(mt,ye)}function Pe(re){return function(){var V=this,Gt=arguments;return new Promise(function(mt,ye){var Un=re.apply(V,Gt);function ot(Z){b(Un,mt,ye,ot,Y,"next",Z)}function Y(Z){b(Un,mt,ye,ot,Y,"throw",Z)}ot(void 0)})}}Fe.d(Vn,{A:()=>Pe})},635:(is,Vn,Fe)=>{function V(F,L){var G={};for(var z in F)Object.prototype.hasOwnProperty.call(F,z)&&L.indexOf(z)<0&&(G[z]=F[z]);if(null!=F&&"function"==typeof Object.getOwnPropertySymbols){var ne=0;for(z=Object.getOwnPropertySymbols(F);ne<z.length;ne++)L.indexOf(z[ne])<0&&Object.prototype.propertyIsEnumerable.call(F,z[ne])&&(G[z[ne]]=F[z[ne]])}return G}function ve(F,L,G,z){return new(G||(G=Promise))(function(K,de){function Je(Ke){try{be(z.next(Ke))}catch(Jt){de(Jt)}}function fn(Ke){try{be(z.throw(Ke))}catch(Jt){de(Jt)}}function be(Ke){Ke.done?K(Ke.value):function ne(K){return K instanceof G?K:new G(function(de){de(K)})}(Ke.value).then(Je,fn)}be((z=z.apply(F,L||[])).next())})}function Nt(F){return this instanceof Nt?(this.v=F,this):new Nt(F)}function ht(F,L,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,z=G.apply(F,L||[]),K=[];return ne={},de("next"),de("throw"),de("return"),ne[Symbol.asyncIterator]=function(){return this},ne;function de(Se){z[Se]&&(ne[Se]=function(Sn){return new Promise(function(Gn,on){K.push([Se,Sn,Gn,on])>1||Je(Se,Sn)})})}function Je(Se,Sn){try{!function fn(Se){Se.value instanceof Nt?Promise.resolve(Se.value.v).then(be,Ke):Jt(K[0][2],Se)}(z[Se](Sn))}catch(Gn){Jt(K[0][3],Gn)}}function be(Se){Je("next",Se)}function Ke(Se){Je("throw",Se)}function Jt(Se,Sn){Se(Sn),K.shift(),K.length&&Je(K[0][0],K[0][1])}}function sr(F){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,L=F[Symbol.asyncIterator];return L?L.call(F):(F=function dt(F){var L="function"==typeof Symbol&&Symbol.iterator,G=L&&F[L],z=0;if(G)return G.call(F);if(F&&"number"==typeof F.length)return{next:function(){return F&&z>=F.length&&(F=void 0),{value:F&&F[z++],done:!F}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")}(F),G={},z("next"),z("throw"),z("return"),G[Symbol.asyncIterator]=function(){return this},G);function z(K){G[K]=F[K]&&function(de){return new Promise(function(Je,fn){!function ne(K,de,Je,fn){Promise.resolve(fn).then(function(be){K({value:be,done:Je})},de)}(Je,fn,(de=F[K](de)).done,de.value)})}}}Fe.d(Vn,{AQ:()=>ht,N3:()=>Nt,Tt:()=>V,sH:()=>ve,xN:()=>sr}),"function"==typeof SuppressedError&&SuppressedError}},is=>{is(is.s=427)}]);